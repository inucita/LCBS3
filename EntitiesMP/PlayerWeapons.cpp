/*
 * This file is generated by Entity Class Compiler, (c) CroTeam 1997-98
 */

#line 2 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"

#include "StdH.h"
#include "GameMP/SEColors.h"
  
#include <Engine/Build.h>

#include <Engine/Interface/UIManager.h>
#include <Engine/Interface/UIMouseCursor.h>
// [KH_070420] 심플 팝업 관련 추가
#include <Engine/Interface/UISimplePop.h>
#include <Engine/GlobalDefinition.h>


#include "EntitiesMP/Player.h"
#include "EntitiesMP/Bullet.h"
#include "EntitiesMP/Switch.h"
#include "EntitiesMP/PlayerView.h"
#include "EntitiesMP/PlayerAnimator.h"
#include "EntitiesMP/MovingBrush.h"
#include "EntitiesMP/MessageHolder.h"
#include "EntitiesMP/EnemyBase.h"
//#include "EntitiesMP/SeriousBomb.h"
//#include "EntitiesMP/Elemental.h"
//#include "EntitiesMP/Beast.h"
//#include "EntitiesMP/Gizmo.h"
//#include "EntitiesMP/LarvaOffspring.h"

//#include "EntitiesMP/ExotechLarva.h"
//#include "EntitiesMP/AirElemental.h"
//#include "EntitiesMP/BigHead.h"
//#include "EntitiesMP/CrateRider.h"
//#include "EntitiesMP/Santa.h"
//#include "EntitiesMP/Summoner.h"
//#include "EntitiesMP/Boneman.h"
//#include "EntitiesMP/Woman.h"
//#include "EntitiesMP/Walker.h"
//#include "EntitiesMP/CannonRotating.h"
//#include "EntitiesMP/CannonStatic.h"

#include "Models/Weapons/Knife/Knife.h"
//#include "Models/Weapons/Knife/KnifeItem.h"
//#include "Models/Weapons/Colt/Colt.h"
//#include "Models/Weapons/Colt/ColtMain.h"
//#include "Models/Weapons/SingleShotgun/SingleShotgun.h"
//#include "Models/Weapons/SingleShotgun/Barrels.h"
//#include "Models/Weapons/DoubleShotgun/DoubleShotgun.h"
//#include "Models/Weapons/DoubleShotgun/Dshotgunbarrels.h"
//#include "Models/Weapons/DoubleShotgun/HandWithAmmo.h"
//#include "Models/Weapons/TommyGun/TommyGun.h"
//#include "Models/Weapons/TommyGun/Body.h"
//#include "Models/Weapons/MiniGun/MiniGun.h"
//#include "Models/Weapons/MiniGun/Body.h"
//#include "Models/Weapons/GrenadeLauncher/GrenadeLauncher.h"
//#include "Models/Weapons/RocketLauncher/RocketLauncher.h"
//#include "Models/Weapons/Laser/Laser.h"
//#include "Models/Weapons/Laser/Barrel.h"
//#include "Models/Weapons/Cannon/Cannon.h"
//#include "Models/Weapons/Cannon/Body.h"
// Mission Pack weapons
//#include "ModelsMP/Weapons/Sniper/Sniper.h"
//#include "ModelsMP/Weapons/Sniper/Body.h"
//#include "ModelsMP/Weapons/Flamer/Flamer.h"
//#include "ModelsMP/Weapons/Flamer/Body.h"
//#include "ModelsMP/Weapons/Flamer/FuelReservoir.h"
//#include "ModelsMP/Weapons/Flamer/Flame.h"  
#include "ModelsMP/Weapons/Chainsaw/Chainsaw.h"
#include "ModelsMP/Weapons/Chainsaw/ChainSawForPlayer.h"
#include "ModelsMP/Weapons/Chainsaw/Body.h"
#include "ModelsMP/Weapons/Chainsaw/Blade.h"
#include "ModelsMP/Weapons/Chainsaw/Teeth.h"

// Mission Pack player body instead of the old one
#include "ModelsMP/Player/SeriousSam/Body.h"
#include "ModelsMP/Player/SeriousSam/Player.h"

extern INDEX hud_bShowWeapon;

extern const INDEX aiWeaponsRemap[19] = { 0,  1,  10,  2,  3,  4,  5,  6,  7,
                                          8,  9,  11, 13, 12, 14, 15, 16, 17, 18 };


#include <EntitiesMP/PlayerWeapons.h>
#include <EntitiesMP/PlayerWeapons_tables.h>
CEntityEvent *EWeaponsInit::MakeCopy(void) { CEntityEvent *peeCopy = new EWeaponsInit(*this); return peeCopy;}
SLONG EWeaponsInit::GetSizeOf(void) { return sizeof(*this);}
EWeaponsInit::EWeaponsInit() : CEntityEvent(EVENTCODE_EWeaponsInit) {;
 ClearToDefault(eidOwner);
};
BOOL EWeaponsInit::CheckIDs(void) { return TRUE && eidOwner.IsValid(); }
CEntityEvent *ESelectWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new ESelectWeapon(*this); return peeCopy;}
SLONG ESelectWeapon::GetSizeOf(void) { return sizeof(*this);}
ESelectWeapon::ESelectWeapon() : CEntityEvent(EVENTCODE_ESelectWeapon) {;
 ClearToDefault(iWeapon);
};
BOOL ESelectWeapon::CheckIDs(void) { return TRUE ; }
CEntityEvent *EBoringWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new EBoringWeapon(*this); return peeCopy;}
SLONG EBoringWeapon::GetSizeOf(void) { return sizeof(*this);}
EBoringWeapon::EBoringWeapon() : CEntityEvent(EVENTCODE_EBoringWeapon) {;
};
BOOL EBoringWeapon::CheckIDs(void) { return TRUE ; }
CEntityEvent *EFireWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new EFireWeapon(*this); return peeCopy;}
SLONG EFireWeapon::GetSizeOf(void) { return sizeof(*this);}
EFireWeapon::EFireWeapon() : CEntityEvent(EVENTCODE_EFireWeapon) {;
};
BOOL EFireWeapon::CheckIDs(void) { return TRUE ; }
CEntityEvent *EReleaseWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new EReleaseWeapon(*this); return peeCopy;}
SLONG EReleaseWeapon::GetSizeOf(void) { return sizeof(*this);}
EReleaseWeapon::EReleaseWeapon() : CEntityEvent(EVENTCODE_EReleaseWeapon) {;
};
BOOL EReleaseWeapon::CheckIDs(void) { return TRUE ; }
CEntityEvent *EReloadWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new EReloadWeapon(*this); return peeCopy;}
SLONG EReloadWeapon::GetSizeOf(void) { return sizeof(*this);}
EReloadWeapon::EReloadWeapon() : CEntityEvent(EVENTCODE_EReloadWeapon) {;
};
BOOL EReloadWeapon::CheckIDs(void) { return TRUE ; }
CEntityEvent *EWeaponChanged::MakeCopy(void) { CEntityEvent *peeCopy = new EWeaponChanged(*this); return peeCopy;}
SLONG EWeaponChanged::GetSizeOf(void) { return sizeof(*this);}
EWeaponChanged::EWeaponChanged() : CEntityEvent(EVENTCODE_EWeaponChanged) {;
};
BOOL EWeaponChanged::CheckIDs(void) { return TRUE ; }
CEntityEvent *ENetSelectWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new ENetSelectWeapon(*this); return peeCopy;}
SLONG ENetSelectWeapon::GetSizeOf(void) { return sizeof(*this);}
ENetSelectWeapon::ENetSelectWeapon() : CEntityEvent(EVENTCODE_ENetSelectWeapon) {;
 ClearToDefault(iWeapon);
};
BOOL ENetSelectWeapon::CheckIDs(void) { return TRUE ; }
CEntityEvent *ENetFireWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new ENetFireWeapon(*this); return peeCopy;}
SLONG ENetFireWeapon::GetSizeOf(void) { return sizeof(*this);}
ENetFireWeapon::ENetFireWeapon() : CEntityEvent(EVENTCODE_ENetFireWeapon) {;
};
BOOL ENetFireWeapon::CheckIDs(void) { return TRUE ; }
CEntityEvent *ENetReleaseWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new ENetReleaseWeapon(*this); return peeCopy;}
SLONG ENetReleaseWeapon::GetSizeOf(void) { return sizeof(*this);}
ENetReleaseWeapon::ENetReleaseWeapon() : CEntityEvent(EVENTCODE_ENetReleaseWeapon) {;
};
BOOL ENetReleaseWeapon::CheckIDs(void) { return TRUE ; }
CEntityEvent *ENetReloadWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new ENetReloadWeapon(*this); return peeCopy;}
SLONG ENetReloadWeapon::GetSizeOf(void) { return sizeof(*this);}
ENetReloadWeapon::ENetReloadWeapon() : CEntityEvent(EVENTCODE_ENetReloadWeapon) {;
};
BOOL ENetReloadWeapon::CheckIDs(void) { return TRUE ; }
#line 156 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"

// AVAILABLE WEAPON MASK
#define WEAPONS_ALLAVAILABLEMASK 0x3FFF

/*
#if BUILD_TEST
  #define WEAPONS_DISABLEDMASK (\
    (1<<(WEAPON_TOMMYGUN       -1))|\
    (1<<(WEAPON_GRENADELAUNCHER-1))|\
    (1<<(WEAPON_PIPEBOMB       -1))|\
    (1<<(WEAPON_FLAMER         -1))|\
    (1<<(WEAPON_LASER          -1))|\
    (1<<(WEAPON_GHOSTBUSTER    -1))|\
    (1<<(WEAPON_IRONCANNON     -1))|\
    (1<<(WEAPON_NUKECANNON     -1)))
#else 
  #define WEAPONS_DISABLEDMASK (0)
#endif
  */

#define MAX_WEAPONS 30


// MiniGun specific
	/*
#define MINIGUN_STATIC      0
#define MINIGUN_FIRE        1
#define MINIGUN_SPINUP      2
#define MINIGUN_SPINDOWN    3

#define MINIGUN_SPINUPTIME      0.5f
#define MINIGUN_SPINDNTIME      3.0f
#define MINIGUN_SPINUPSOUND     0.5f
#define MINIGUN_SPINDNSOUND     1.5f
#define MINIGUN_FULLSPEED       500.0f
#define MINIGUN_SPINUPACC       (MINIGUN_FULLSPEED/MINIGUN_SPINUPTIME)
#define MINIGUN_SPINDNACC       (MINIGUN_FULLSPEED/MINIGUN_SPINDNTIME)
#define MINIGUN_TICKTIME        (_pTimer->TickQuantum)
  */

// chainsaw specific
#define CHAINSAW_UPDATETIME     0.05f

// fire flare specific
#define FLARE_REMOVE 1
#define FLARE_ADD 2

// animation light specific
#define LIGHT_ANIM_MINIGUN 2
//#define LIGHT_ANIM_TOMMYGUN 3
#define LIGHT_ANIM_COLT_SHOTGUN 4
#define LIGHT_ANIM_NONE 5


// mana for ammo adjustment (multiplier)
#define MANA_AMMO (0.1f)

// position of weapon model -- weapon 0 is never used
static FLOAT wpn_fH[MAX_WEAPONS+1];
static FLOAT wpn_fP[MAX_WEAPONS+1];
static FLOAT wpn_fB[MAX_WEAPONS+1];
static FLOAT wpn_fX[MAX_WEAPONS+1];
static FLOAT wpn_fY[MAX_WEAPONS+1];
static FLOAT wpn_fZ[MAX_WEAPONS+1];
static FLOAT wpn_fFOV[MAX_WEAPONS+1];
static FLOAT wpn_fClip[MAX_WEAPONS+1];
static FLOAT wpn_fFX[MAX_WEAPONS+1];  // firing source
static FLOAT wpn_fFY[MAX_WEAPONS+1];
//static FLOAT wpn_fFZ[MAX_WEAPONS+1];
static INDEX wpn_iCurrent;
extern FLOAT hud_tmWeaponsOnScreen;

//0312 kwon
static INDEX _height;
static INDEX _width;

/*
// bullet positions
static FLOAT afSingleShotgunPellets[] =
{     -0.3f,+0.1f,    +0.0f,+0.1f,   +0.3f,+0.1f,
  -0.4f,-0.1f,  -0.1f,-0.1f,  +0.1f,-0.1f,  +0.4f,-0.1f
};
static FLOAT afDoubleShotgunPellets[] =
{
      -0.3f,+0.15f, +0.0f,+0.15f, +0.3f,+0.15f,
  -0.4f,+0.05f, -0.1f,+0.05f, +0.1f,+0.05f, +0.4f,+0.05f,
      -0.3f,-0.05f, +0.0f,-0.05f, +0.3f,-0.05f,
  -0.4f,-0.15f, -0.1f,-0.15f, +0.1f,-0.15f, +0.4f,-0.15f
};
*/

// sniper discrete zoom values - 4 (1x,2x,4x,6x)
// synchronize this with sniper properties (properties 233-237)
//static INDEX iSniperDiscreteZoomLevels = 4;
/*
static FLOAT afSniperZoom[] =
{
      90.0f,1.0f, 53.1f, 2.0f, 28.0f,4.0f, 14.2f,6.0f, 
       //7.2f,8.0f, 3.56f,10.0f ,1.8f,12.0f
};
*/

// crosshair console variables
static INDEX hud_bCrosshairFixed    = FALSE;
static INDEX hud_bCrosshairColoring = TRUE;
static FLOAT hud_fCrosshairScale    = 1.0f;
static FLOAT hud_fCrosshairOpacity  = 1.0f;
static FLOAT hud_fCrosshairRatio    = 0.5f;  // max distance size ratio
// misc HUD vars
static INDEX hud_bShowPlayerName = TRUE;
static INDEX hud_bShowCoords     = FALSE;
static FLOAT plr_tmSnoopingDelay = 1.0f; // seconds 
extern FLOAT plr_tmSnoopingTime  = 1.0f; // seconds 

// some static vars
static INDEX _iLastCrosshairType=-1;
static CTextureObject _toCrosshair;

// must do this to keep dependency catcher happy
/*
// deleted by seo
CTFileName fn1 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair1.tex");
CTFileName fn2 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair2.tex");
CTFileName fn3 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair3.tex");
CTFileName fn4 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair4.tex");
CTFileName fn5 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair5.tex");
CTFileName fn6 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair6.tex");
CTFileName fn7 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair7.tex");
*/

void CPlayerWeapons_Precache(ULONG ulAvailable)
{
  CDLLEntityClass *pdec = &CPlayerWeapons_DLLClass;

  // precache general stuff always
  /*
  // deleted by seo
  pdec->PrecacheTexture(TEX_REFL_BWRIPLES01      );
  pdec->PrecacheTexture(TEX_REFL_BWRIPLES02      );
  pdec->PrecacheTexture(TEX_REFL_LIGHTMETAL01    );
  pdec->PrecacheTexture(TEX_REFL_LIGHTBLUEMETAL01);
  pdec->PrecacheTexture(TEX_REFL_DARKMETAL       );
  pdec->PrecacheTexture(TEX_REFL_PURPLE01        );
  pdec->PrecacheTexture(TEX_SPEC_WEAK            );
  pdec->PrecacheTexture(TEX_SPEC_MEDIUM          );
  pdec->PrecacheTexture(TEX_SPEC_STRONG          );
  pdec->PrecacheTexture(TEXTURE_HAND             );
  pdec->PrecacheTexture(TEXTURE_FLARE01          );
  pdec->PrecacheModel(MODEL_FLARE01);
  pdec->PrecacheClass(CLASS_BULLET);
  pdec->PrecacheClass(CLASS_WEAPONITEM);
  pdec->PrecacheClass(CLASS_PROJECTILE, PRT_ROCKET); 

  // precache other weapons if available
  if ( ulAvailable&(1<<(WEAPON_KNIFE-1)) ) {
    pdec->PrecacheModel(MODEL_KNIFE                 );
    pdec->PrecacheModel(MODEL_KNIFEITEM             );
    pdec->PrecacheTexture(TEXTURE_KNIFEITEM         );
    pdec->PrecacheSound(SOUND_KNIFE_BACK            );
    pdec->PrecacheSound(SOUND_KNIFE_HIGH            );
    pdec->PrecacheSound(SOUND_KNIFE_LONG            );
    pdec->PrecacheSound(SOUND_KNIFE_LOW             );
  }

  if ( ulAvailable&(1<<(WEAPON_COLT-1)) ) {
    pdec->PrecacheModel(MODEL_COLT                  );
    pdec->PrecacheModel(MODEL_COLTCOCK              );
    pdec->PrecacheModel(MODEL_COLTMAIN              );
    pdec->PrecacheModel(MODEL_COLTBULLETS           );
    pdec->PrecacheTexture(TEXTURE_COLTMAIN          );  
    pdec->PrecacheTexture(TEXTURE_COLTCOCK          );  
    pdec->PrecacheTexture(TEXTURE_COLTBULLETS       );  
    pdec->PrecacheSound(SOUND_COLT_FIRE             );
    pdec->PrecacheSound(SOUND_COLT_RELOAD           );
  }

  if ( ulAvailable&(1<<(WEAPON_SINGLESHOTGUN-1)) ) {
    pdec->PrecacheModel(MODEL_SINGLESHOTGUN     );    
    pdec->PrecacheModel(MODEL_SS_SLIDER         );    
    pdec->PrecacheModel(MODEL_SS_HANDLE         );    
    pdec->PrecacheModel(MODEL_SS_BARRELS        );    
    pdec->PrecacheTexture(TEXTURE_SS_HANDLE     );    
    pdec->PrecacheTexture(TEXTURE_SS_BARRELS    );    
    pdec->PrecacheSound(SOUND_SINGLESHOTGUN_FIRE);    
  }

  if ( ulAvailable&(1<<(WEAPON_DOUBLESHOTGUN-1)) ) {
    pdec->PrecacheModel(MODEL_DOUBLESHOTGUN        ); 
    pdec->PrecacheModel(MODEL_DS_HANDLE            ); 
    pdec->PrecacheModel(MODEL_DS_BARRELS           ); 
    pdec->PrecacheModel(MODEL_DS_AMMO              ); 
    pdec->PrecacheModel(MODEL_DS_SWITCH            ); 
    pdec->PrecacheModel(MODEL_DS_HANDWITHAMMO      ); 
    pdec->PrecacheTexture(TEXTURE_DS_HANDLE        );   
    pdec->PrecacheTexture(TEXTURE_DS_BARRELS       );   
    pdec->PrecacheTexture(TEXTURE_DS_AMMO          );   
    pdec->PrecacheTexture(TEXTURE_DS_SWITCH        );   
    pdec->PrecacheSound(SOUND_DOUBLESHOTGUN_FIRE   ); 
    pdec->PrecacheSound(SOUND_DOUBLESHOTGUN_RELOAD ); 
  }

  if ( ulAvailable&(1<<(WEAPON_TOMMYGUN-1)) ) {
    pdec->PrecacheModel(MODEL_TOMMYGUN              );
    pdec->PrecacheModel(MODEL_TG_BODY               );
    pdec->PrecacheModel(MODEL_TG_SLIDER             );
    pdec->PrecacheTexture(TEXTURE_TG_BODY           );  
    pdec->PrecacheSound(SOUND_TOMMYGUN_FIRE         );
  }

  if ( ulAvailable&(1<<(WEAPON_SNIPER-1)) ) {
    pdec->PrecacheModel(MODEL_SNIPER          ); 
    pdec->PrecacheModel(MODEL_SNIPER_BODY     ); 
    pdec->PrecacheTexture(TEXTURE_SNIPER_BODY );   
    pdec->PrecacheSound(SOUND_SNIPER_FIRE     ); 
  }

  if ( ulAvailable&(1<<(WEAPON_MINIGUN-1)) ) {
    pdec->PrecacheModel(MODEL_MINIGUN          );     
    pdec->PrecacheModel(MODEL_MG_BARRELS       );     
    pdec->PrecacheModel(MODEL_MG_BODY          );     
    pdec->PrecacheModel(MODEL_MG_ENGINE        );     
    pdec->PrecacheTexture(TEXTURE_MG_BODY      );       
    pdec->PrecacheTexture(TEXTURE_MG_BARRELS   );       
    pdec->PrecacheSound(SOUND_MINIGUN_FIRE     );     
    pdec->PrecacheSound(SOUND_MINIGUN_ROTATE   );     
    pdec->PrecacheSound(SOUND_MINIGUN_SPINUP   );     
    pdec->PrecacheSound(SOUND_MINIGUN_SPINDOWN );     
    pdec->PrecacheSound(SOUND_MINIGUN_CLICK    );     
  }
                                         
  if ( ulAvailable&(1<<(WEAPON_ROCKETLAUNCHER-1)) ) {
    pdec->PrecacheModel(MODEL_ROCKETLAUNCHER     );   
    pdec->PrecacheModel(MODEL_RL_BODY            );   
    pdec->PrecacheModel(MODEL_RL_ROTATINGPART    );   
    pdec->PrecacheModel(MODEL_RL_ROCKET          );   
    pdec->PrecacheTexture(TEXTURE_RL_BODY        );     
    pdec->PrecacheTexture(TEXTURE_RL_ROCKET      );     
    pdec->PrecacheSound(SOUND_ROCKETLAUNCHER_FIRE);   
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_ROCKET);
  }                                        

  if ( ulAvailable&(1<<(WEAPON_GRENADELAUNCHER-1)) ) {
    pdec->PrecacheModel(MODEL_GRENADELAUNCHER       ); 
    pdec->PrecacheModel(MODEL_GL_BODY               ); 
    pdec->PrecacheModel(MODEL_GL_MOVINGPART         ); 
    pdec->PrecacheModel(MODEL_GL_GRENADE            ); 
    pdec->PrecacheTexture(TEXTURE_GL_BODY           );   
    pdec->PrecacheTexture(TEXTURE_GL_MOVINGPART     );
    pdec->PrecacheSound(SOUND_GRENADELAUNCHER_FIRE ); 
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_GRENADE);
  }
*/
/*
  if ( ulAvailable&(1<<(WEAPON_PIPEBOMB-1)) ) {
    pdec->PrecacheModel(MODEL_PIPEBOMB_STICK        );
    pdec->PrecacheModel(MODEL_PIPEBOMB_HAND         );
    pdec->PrecacheModel(MODEL_PB_BUTTON             );
    pdec->PrecacheModel(MODEL_PB_SHIELD             );
    pdec->PrecacheModel(MODEL_PB_STICK              );
    pdec->PrecacheModel(MODEL_PB_BOMB               );
    pdec->PrecacheTexture(TEXTURE_PB_STICK          );  
    pdec->PrecacheTexture(TEXTURE_PB_BOMB           );  
    pdec->PrecacheSound(SOUND_PIPEBOMB_FIRE         );
    pdec->PrecacheSound(SOUND_PIPEBOMB_OPEN         );
    pdec->PrecacheSound(SOUND_PIPEBOMB_THROW        );
    pdec->PrecacheClass(CLASS_PIPEBOMB);
  }
*/
  // deleted by seo
  /*if ( ulAvailable&(1<<(WEAPON_CHAINSAW-1))) {
    pdec->PrecacheModel(MODEL_CHAINSAW     );
    pdec->PrecacheModel(MODEL_CS_BODY      );
    pdec->PrecacheModel(MODEL_CS_BLADE     );
    pdec->PrecacheModel(MODEL_CS_TEETH     );
    pdec->PrecacheTexture(TEXTURE_CS_BODY  );  
    pdec->PrecacheTexture(TEXTURE_CS_BLADE );  
    pdec->PrecacheTexture(TEXTURE_CS_TEETH );              
    pdec->PrecacheSound(SOUND_CS_FIRE      );
    pdec->PrecacheSound(SOUND_CS_BEGINFIRE );
    pdec->PrecacheSound(SOUND_CS_ENDFIRE   );
    pdec->PrecacheSound(SOUND_CS_BRINGUP   );
    pdec->PrecacheSound(SOUND_CS_BRINGDOWN );
    pdec->PrecacheSound(SOUND_CS_IDLE      );
  }

  if ( ulAvailable&(1<<(WEAPON_FLAMER-1)) ) {
    pdec->PrecacheModel(MODEL_FLAMER      );
    pdec->PrecacheModel(MODEL_FL_BODY     );
    pdec->PrecacheModel(MODEL_FL_RESERVOIR);
    pdec->PrecacheModel(MODEL_FL_FLAME    );
    pdec->PrecacheTexture(TEXTURE_FL_BODY );  
    pdec->PrecacheTexture(TEXTURE_FL_FLAME);  
    pdec->PrecacheTexture(TEXTURE_FL_FUELRESERVOIR);  
    pdec->PrecacheSound(SOUND_FL_FIRE     );
    pdec->PrecacheSound(SOUND_FL_START    );
    pdec->PrecacheSound(SOUND_FL_STOP     );
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_FLAME);
  }


  if ( ulAvailable&(1<<(WEAPON_LASER-1)) ) {
    pdec->PrecacheModel(MODEL_LASER     );
    pdec->PrecacheModel(MODEL_LS_BODY   );
    pdec->PrecacheModel(MODEL_LS_BARREL );
    pdec->PrecacheTexture(TEXTURE_LS_BODY  );  
    pdec->PrecacheTexture(TEXTURE_LS_BARREL);  
    pdec->PrecacheSound(SOUND_LASER_FIRE);
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_LASER_RAY);
  }
  */
/*
  if ( ulAvailable&(1<<(WEAPON_GHOSTBUSTER-1)) ) {
    pdec->PrecacheModel(MODEL_GHOSTBUSTER     );
    pdec->PrecacheModel(MODEL_GB_BODY         );
    pdec->PrecacheModel(MODEL_GB_ROTATOR      );
    pdec->PrecacheModel(MODEL_GB_EFFECT1      );
    pdec->PrecacheModel(MODEL_GB_EFFECT1FLARE );
    pdec->PrecacheTexture(TEXTURE_GB_ROTATOR  );  
    pdec->PrecacheTexture(TEXTURE_GB_BODY     );  
    pdec->PrecacheTexture(TEXTURE_GB_LIGHTNING);  
    pdec->PrecacheTexture(TEXTURE_GB_FLARE    );  
    pdec->PrecacheSound(SOUND_GB_FIRE         );
    pdec->PrecacheClass(CLASS_GHOSTBUSTERRAY);
  }
  */
/*
  // deleted by seo
  if ( ulAvailable&(1<<(WEAPON_IRONCANNON-1)) ||
       ulAvailable&(1<<(WEAPON_NUKECANNON-1)) ) {
    pdec->PrecacheModel(MODEL_CANNON    );
    pdec->PrecacheModel(MODEL_CN_BODY   );
//    pdec->PrecacheModel(MODEL_CN_NUKEBOX);
    pdec->PrecacheTexture(TEXTURE_CANNON);
    pdec->PrecacheSound(SOUND_CANNON    );
    pdec->PrecacheSound(SOUND_CANNON_PREPARE);
    pdec->PrecacheClass(CLASS_CANNONBALL);
  }
  */

  // precache animator too
  extern void CPlayerAnimator_Precache(ULONG ulAvailable);
  CPlayerAnimator_Precache(ulAvailable);
  extern void CProjectile_PrecacheForPlayer(void); 
  CProjectile_PrecacheForPlayer();

}

void CPlayerWeapons_Init(void) {
  // declare weapon position controls
  _pShell->DeclareSymbol("user INDEX wpn_iCurrent;", &wpn_iCurrent);

  #include "Common/WeaponPositions.h"
  
  // declare crosshair and its coordinates
  _pShell->DeclareSymbol("persistent user INDEX hud_bCrosshairFixed;",    &hud_bCrosshairFixed);
  _pShell->DeclareSymbol("persistent user INDEX hud_bCrosshairColoring;", &hud_bCrosshairColoring);
  _pShell->DeclareSymbol("persistent user FLOAT hud_fCrosshairScale;",    &hud_fCrosshairScale);
  _pShell->DeclareSymbol("persistent user FLOAT hud_fCrosshairRatio;",    &hud_fCrosshairRatio);
  _pShell->DeclareSymbol("persistent user FLOAT hud_fCrosshairOpacity;",  &hud_fCrosshairOpacity);
                                  
  _pShell->DeclareSymbol("persistent user INDEX hud_bShowPlayerName;", &hud_bShowPlayerName);
  _pShell->DeclareSymbol("persistent user INDEX hud_bShowCoords;",     &hud_bShowCoords);

  _pShell->DeclareSymbol("persistent user FLOAT plr_tmSnoopingTime;",  &plr_tmSnoopingTime);
  _pShell->DeclareSymbol("persistent user FLOAT plr_tmSnoopingDelay;", &plr_tmSnoopingDelay);

  // precache base weapons
  CPlayerWeapons_Precache(0x03);
}

// weapons positions for raycasting and firing
/*
static FLOAT afKnifePos[4] = { -0.01f, 0.25f, 0.0f};
static FLOAT afColtPos[4] = { -0.01f, 0.1f, 0.0f};
static FLOAT afDoubleColtPos[4] = { -0.01f, 0.1f, 0.0f};
static FLOAT afSingleShotgunPos[4] = { 0.0f, 0.1f, 0.0f};
static FLOAT afDoubleShotgunPos[4] = {  0.0f, 0.1f, 0.0f};
static FLOAT afTommygunPos[4] = { 0.0f, 0.1f, 0.0f};
static FLOAT afMinigunPos[4] = { 0.0f, -0.075f, 0.0f};
static FLOAT afRocketLauncherPos[4] = { -0.175f, 0.19f, -0.23f};
static FLOAT afGrenadeLauncherPos[4] = { 0.0f, 0.16f, -1.42f};
static FLOAT afPipebombPos[4] = { 0.01f, 0.04f, -0.44f};
static FLOAT afFlamerPos[4] = { 0.0f, 0.18f, -0.62f};
static FLOAT afLaserPos[4] = {  0.0f, -0.095f, -0.65f};
static FLOAT afGhostBusterPos[4] = { 0.0f, 0.0f, -0.74f};
static FLOAT afCannonPos[4] = { 0.0f, 0.0f, -0.74f};
*/

// extra weapon positions for shells dropout
//static FLOAT afSingleShotgunShellPos[3] = { 0.2f, 0.0f, -0.31f};
//static FLOAT afDoubleShotgunShellPos[3] = { 0.0f, 0.0f, -0.5f};
//static FLOAT afTommygunShellPos[3] = { 0.2f, 0.0f, -0.31f};
//static FLOAT afMinigunShellPos[3] = { 0.2f, 0.0f, -0.31f};
//static FLOAT afMinigunShellPos3rdView[3] = { 0.2f, 0.2f, -0.31f};
//static FLOAT afSniperShellPos[3] = { 0.2f, 0.0f, -0.15f};

//static FLOAT afRightColtPipe[3] = { 0.07f, -0.05f, -0.26f};
//static FLOAT afSingleShotgunPipe[3] = { 0.2f, 0.0f, -1.25f};
//static FLOAT afDoubleShotgunPipe[3] = { 0.2f, 0.0f, -1.25f};
//static FLOAT afTommygunPipe[3] = { -0.06f, 0.1f, -0.6f};
//static FLOAT afMinigunPipe[3] = { -0.06f, 0.0f, -0.6f};
//static FLOAT afMinigunPipe3rdView[3] = { 0.25f, 0.3f, -2.5f};

//static FLOAT afLaserPos[4] = {  0.0f, -0.095f, -0.65f};
//static FLOAT afLaser1Pos[4] = { -0.115f, -0.05f, -0.65f};
//static FLOAT afLaser2Pos[4] = {  0.115f, -0.05f, -0.65f};
//static FLOAT afLaser3Pos[4] = { -0.145f, -0.14f, -0.8f};
//static FLOAT afLaser4Pos[4] = {  0.145f, -0.14f, -0.8f};

//#define TM_START m_aMiniGun
//#define F_OFFSET_CHG m_aMiniGunLast
//#define F_TEMP m_aMiniGunSpeed

// decrement ammo taking infinite ammo options in account
void DecAmmo(INDEX &ctAmmo, INDEX iDec = 1)
{
  if (_pNetwork->IsServer()) {
    ctAmmo-=iDec;
  }
}

extern ENGINE_API INDEX g_bSlaveNoTarget;

void CPlayerWeapons::SetDefaultProperties(void) {
  m_penPlayer = NULL;
  m_bFireWeapon = FALSE ;
  m_bHasAmmo = FALSE ;
  m_iCurrentWeapon = WEAPON_KNIFE ;
  m_iWantedWeapon = WEAPON_KNIFE ;
  m_iPreviousWeapon = WEAPON_KNIFE ;
  m_iAvailableWeapons = 0x01;
  m_bChangeWeapon = FALSE ;
  m_bReloadWeapon = FALSE ;
  m_bMirrorFire = FALSE ;
  m_iAnim = 0;
  m_fAnimWaitTime = 0.0f;
  m_tmRangeSoundSpawned = 0.0f;
  m_strLastTarget = "";
  m_tmTargetingStarted = -99.0f;
  m_tmLastTarget = -99.0f;
  m_tmSnoopingStarted = -99.0f;
  m_penTargeting = NULL;
  m_moWeapon.SetData(NULL);
m_moWeapon.mo_toTexture.SetData(NULL);
  m_moWeaponSecond.SetData(NULL);
m_moWeaponSecond.mo_toTexture.SetData(NULL);
  m_tmWeaponChangeRequired = 0.0f;
  m_penRayHit = NULL;
  m_bTargetHitIsUsable = FALSE ;
  m_fRayHitDistance = 100.0f;
  m_vRayHit = FLOAT3D(0 , 0 , 0);
  m_vRayHitLast = FLOAT3D(0 , 0 , 0);
  m_vBulletSource = FLOAT3D(0 , 0 , 0);
  m_vBulletTarget = FLOAT3D(0 , 0 , 0);
  m_iBullets = 0;
  m_iMaxBullets = MAX_BULLETS ;
  m_iShells = 0;
  m_iMaxShells = MAX_SHELLS ;
  m_iNapalm = 0;
  m_iMaxNapalm = MAX_NAPALM ;
  m_iElectricity = 0;
  m_iMaxElectricity = MAX_ELECTRICITY ;
  m_iIronBalls = 0;
  m_iMaxIronBalls = MAX_IRONBALLS ;
  m_iKnifeStand = 1;
  m_iLastBulletPosition = FLOAT3D(32000.0f , 32000.0f , 32000.0f);
  m_iBulletsOnFireStart = 0;
  m_penFlame = NULL;
  m_iLaserBarrel = 0;
  m_iFlare = FLARE_REMOVE ;
  m_iSecondFlare = FLARE_REMOVE ;
  m_fWeaponDrawPowerOld = 0;
  m_fWeaponDrawPower = 0;
  m_tmDrawStartTime = 0.0f;
  m_tmFlamerStart = 1e6;
  m_tmFlamerStop = 1e9;
  m_tmLastChainsawSpray = 0.0f;
  m_penMusicHolder = NULL;
  m_iPlayerID = -1;
  m_bResetWeapon = TRUE ;
  m_vRayHitTmp = FLOAT3D(0 , 0 , 0);
  m_penRayHitTmp = NULL;
  m_fRayHitDistanceTmp = 0.0f;
  m_vRayHitNow = FLOAT3D(0 , 0 , 0);
  m_penRayHitNow = NULL;
  m_fRayHitDistanceNow = 0.0f;
  m_vRayHitReserve = FLOAT3D(0 , 0 , 0);
  m_penRayHitReserve = NULL;
  m_fRayHitDistanceReserve = 0.0f;
  m_penRayHitClick = NULL;
  m_penReservedTarget = NULL;
  m_vRayHitSurfaceNormal = FLOAT3D(0 , 1 , 0);
  m_bPickConditionOk = FALSE ;
  CRationalEntity::SetDefaultProperties();
}
  
#line 920 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::CheckCharacterMove(CCastRay crRay) 
#line 921 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 926 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BOOL bMoveCheck  = TRUE ;
#line 929 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(ZoneInfo  () . GetZoneType  (g_slZone ) != ZONE_SDUNGEON )
#line 930 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 938 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 940 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_pbpoBrushPolygon  != NULL )
#line 941 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 942 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(crRay  . cr_pbpoBrushPolygon  -> bpo_ubPolygonAttribute )
#line 943 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 944 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case BPOA_NONE : 
#line 945 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case BPOA_UNWALKABLE1F : 
#line 946 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case BPOA_UNWALKABLE2F : 
#line 947 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case BPOA_UNWALKABLE3F : 
#line 948 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case BPOA_UNWALKABLE4F : 
#line 949 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case BPOA_UNWALKABLE5F : 
#line 950 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
bMoveCheck  = FALSE ;
#line 951 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 952 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
default  : 
#line 953 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
bMoveCheck  = TRUE ;
#line 954 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 955 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 956 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 957 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 958 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 960 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return bMoveCheck ;
#line 962 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 964 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlaySound(CSoundObject & so,SLONG idSoundComponent,SLONG slPlayType) 
#line 965 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 966 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ASSERT  (((CEntity  *) m_penPlayer ) != NULL );
#line 968 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! (((CPlayer  *) (CEntity  *) m_penPlayer ) -> IsReapplyingActions  ()) && _pNetwork  -> IsServer  ()){
#line 970 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntity  :: PlaySound  (so  , idSoundComponent  , slPlayType );
#line 971 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 972 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 973 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlaySound(CSoundObject & so,const CTFileName & fnmSound,SLONG slPlayType) 
#line 974 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 975 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ASSERT  (((CEntity  *) m_penPlayer ) != NULL );
#line 976 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! (((CPlayer  *) (CEntity  *) m_penPlayer ) -> IsReapplyingActions  ()) && _pNetwork  -> IsServer  ()){
#line 977 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntity  :: PlaySound  (so  , fnmSound  , slPlayType );
#line 978 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 979 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  void CPlayerWeapons::InitializeFromNet() 
#line 983 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 984 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return ;
#line 985 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1072 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
UWORD CPlayerWeapons::GetWeaponAmmo(INDEX iWeapon) 
#line 1073 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1074 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
UWORD  uwAmmo ;
#line 1075 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
iWeapon  = 0;
#line 1076 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
uwAmmo  = 0;
#line 1119 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
uwAmmo  |= ((UWORD ) iWeapon ) << 11;
#line 1121 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return uwAmmo ;
#line 1122 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1165 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::OnInitialize(const CEntityEvent & eeInput) 
#line 1166 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1167 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penMusicHolder  = _pNetwork  -> GetEntityOfClass  ("MusicHolder" , 0);
#line 1168 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CRationalEntity  :: OnInitialize  (eeInput );
#line 1169 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1171 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::Precache(void) 
#line 1172 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1173 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayerWeapons_Precache  (m_iAvailableWeapons );
#line 1174 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1175 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer * CPlayerWeapons::GetPlayer(void) 
#line 1176 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1177 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ASSERT  (m_penPlayer  != NULL );
#line 1178 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return (CPlayer  *) & * m_penPlayer ;
#line 1179 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1180 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator * CPlayerWeapons::GetAnimator(void) 
#line 1181 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1182 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ASSERT  (m_penPlayer  != NULL );
#line 1183 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return ((CPlayerAnimator  *) & * ((CPlayer  &) * m_penPlayer ) . m_penAnimator );
#line 1184 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1186 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelObject * CPlayerWeapons::GetChainSawTeeth(void) 
#line 1187 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1188 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  * ppl  = GetPlayer  ();
#line 1189 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(ppl  == NULL ){return NULL ;}
#line 1190 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelObject * pmoPlayer  = ppl  -> GetModelObject  ();
#line 1191 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(pmoPlayer  == NULL ){return NULL ;}
#line 1192 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoTorso  = pmoPlayer  -> GetAttachmentModel  (PLAYER_ATTACHMENT_TORSO );
#line 1193 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(pamoTorso  == NULL ){return NULL ;}
#line 1194 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoChainSaw  = pamoTorso  -> amo_moModelObject  . GetAttachmentModel  (BODY_ATTACHMENT_MINIGUN );
#line 1195 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(pamoChainSaw  == NULL ){return NULL ;}
#line 1196 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoBlade  = pamoChainSaw  -> amo_moModelObject  . GetAttachmentModel  (CHAINSAWFORPLAYER_ATTACHMENT_BLADE );
#line 1197 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(pamoBlade  == NULL ){return NULL ;}
#line 1198 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoTeeth  = pamoBlade  -> amo_moModelObject  . GetAttachmentModel  (BLADE_ATTACHMENT_TEETH );
#line 1199 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(pamoTeeth  == NULL ){return NULL ;}
#line 1200 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return & pamoTeeth  -> amo_moModelObject ;
#line 1201 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1204 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::HoldingFire(void) 
#line 1205 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1206 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return m_bFireWeapon  && ! m_bChangeWeapon ;
#line 1207 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1387 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::WeaponMovingOffset(FLOAT3D & plPos) 
#line 1388 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1389 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator  & plan  = (CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ;
#line 1390 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fXOffset  = Lerp  (plan  . m_fMoveLastBanking  , plan  . m_fMoveBanking  , _pTimer  -> GetLerpFactor  ()) * - 0.02f;
#line 1391 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fYOffset  = Lerp  (plan  . m_fWeaponYLastOffset  , plan  . m_fWeaponYOffset  , _pTimer  -> GetLerpFactor  ()) * 0.15f;
#line 1392 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
fYOffset  += (fXOffset  * fXOffset ) * 30.0f;
#line 1393 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  (1) += fXOffset ;
#line 1394 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  (2) += fYOffset ;
#line 1425 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1428 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlayAttackSound(CSoundObject & so,int what_sound,SLONG slPlayType) {
#line 1446 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1449 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::UpdateTargetingInfo(void) 
#line 1450 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1452 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plCrosshair ;
#line 1453 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fFX  = wpn_fFX  [ m_iCurrentWeapon  ];
#line 1454 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fFY  = wpn_fFY  [ m_iCurrentWeapon  ];
#line 1455 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(GetPlayer  () -> m_iViewState  == PVT_3RDPERSONVIEW ){
#line 1456 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
fFX  = fFY  = 0;
#line 1457 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1458 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fFX  , fFY  , 0) , plCrosshair  , FALSE );
#line 1460 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (m_penPlayer  , plCrosshair );
#line 1461 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 1462 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bPhysical  = FALSE ;
#line 1463 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 1464 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 1466 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitLast  = m_vRayHit ;
#line 1467 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHit  = crRay  . cr_vHit ;
#line 1468 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHit  = crRay  . cr_penHit ;
#line 1469 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistance  = crRay  . cr_fHitDistance ;
#line 1507 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
TIME  tmNow  = _pTimer  -> CurrentTick  ();
#line 1510 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bTargetHitIsUsable  = FALSE ;
#line 1511 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1516 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::RenderCrosshair(CProjection3D & prProjection,CDrawPort * pdp,CPlacement3D & plViewSource) 
#line 1517 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1518 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX iCrossHair  = GetPlayer  () -> GetSettings  () -> ps_iCrossHairType  + 1;
#line 1520 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pUIMgr  -> IsMouseInsideUIs  ())
#line 1521 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1522 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return ;
#line 1523 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1525 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntityPointer pEntity  = m_penRayHitNow ;
#line 1528 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(GetPlayer  () -> m_bWaitForSkillTarget )
#line 1529 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1530 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_pUIMgr  -> GetMouseCursor  () -> SetCursorType  (UMCT_ATT_SKILL );
#line 1531 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1532 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else if(pEntity  != NULL  && pEntity  -> GetFlags  () & ENF_ITEM )
#line 1533 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1534 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_pUIMgr  -> GetMouseCursor  () -> SetCursorType  (UMCT_PICK );
#line 1535 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1536 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else if(pEntity  != NULL  && pEntity  -> GetFlags  () & ENF_ALIVE )
#line 1537 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1538 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(pEntity  -> IsFirstExtraFlagOn  (ENF_EX1_NPC ))
#line 1539 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1540 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_pUIMgr  -> GetMouseCursor  () -> SetCursorType  (UMCT_TALK );
#line 1541 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1542 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else if(pEntity  -> IsFirstExtraFlagOn  (ENF_EX1_PRODUCTION ))
#line 1543 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1544 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_pUIMgr  -> GetMouseCursor  () -> SetCursorType  (UMCT_PRODUCE );
#line 1545 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1546 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1547 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1548 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
const BOOL bAttack  = GetPlayer  () -> CheckAttackTarget  (- 1 , pEntity  , 0.0f);
#line 1549 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bAttack )
#line 1550 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1551 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(GetPlayer  () -> en_pcCharacter  . pc_iPlayerType  == HEALER )
#line 1552 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1553 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! _pNetwork  -> MyCharacterInfo  . bExtension )
#line 1554 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1555 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_pUIMgr  -> GetMouseCursor  () -> SetCursorType  (UMCT_ATT_BOW );
#line 1556 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1557 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1558 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1559 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_pUIMgr  -> GetMouseCursor  () -> SetCursorType  (UMCT_ATT_MAGIC );
#line 1560 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1561 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1562 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else if(GetPlayer  () -> en_pcCharacter  . pc_iPlayerType  == MAGE )
#line 1563 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1564 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_pUIMgr  -> GetMouseCursor  () -> SetCursorType  (UMCT_ATT_MAGIC );
#line 1565 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1566 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1567 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1568 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_pUIMgr  -> GetMouseCursor  () -> SetCursorType  (UMCT_ATT_NORMAL );
#line 1569 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1570 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1571 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1572 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1573 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_pUIMgr  -> GetMouseCursor  () -> SetCursorType  (UMCT_TALK );
#line 1574 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1575 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1576 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1577 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1578 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1579 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_pUIMgr  -> GetMouseCursor  () -> SetCursorType  (UMCT_NORMAL );
#line 1580 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1583 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_width  = pdp  -> GetWidth  ();
#line 1584 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_height  = pdp  -> GetHeight  ();
#line 1587 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iCrossHair  <= 0){
#line 1588 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
iCrossHair  = 0;
#line 1589 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_iLastCrosshairType  = 0;
#line 1590 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1593 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_iLastCrosshairType  != iCrossHair ){
#line 1594 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
_iLastCrosshairType  = iCrossHair ;
#line 1606 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1607 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
COLOR colCrosshair  = C_WHITE ;
#line 1608 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
TIME  tmNow  = _pTimer  -> CurrentTick  ();
#line 1611 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_penRayHitNow  != NULL )
#line 1612 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1613 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntity  * pen  = m_penRayHitNow ;
#line 1615 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(pen  -> GetFlags  () & ENF_ALIVE )
#line 1616 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1618 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (pen  , & CPlayer_DLLClass )){
#line 1620 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_tmTargetingStarted  == 0){
#line 1621 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penTargeting  = pen ;
#line 1622 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = tmNow ;
#line 1623 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1626 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_strLastTarget  . PrintF  ("%s" , ((CPlayer  *) pen ) -> GetPlayerName  ());
#line 1635 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fDistanceToOther  = DistanceTo  (GetPlayer  () , pen );
#line 1636 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(hud_bShowPlayerName  && fDistanceToOther  < 25.0f){m_tmLastTarget  = tmNow  + 1.5f;}
#line 1637 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1639 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else {
#line 1641 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = 0;
#line 1642 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1644 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_bFireWeapon ){m_tmTargetingStarted  = 0;}
#line 1645 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1647 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1648 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1650 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = 0;
#line 1653 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (pen  , & CMovingBrush_DLLClass ) && ((CMovingBrush  &) * pen ) . m_penSwitch  != NULL ){
#line 1654 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pen  = ((CMovingBrush  &) * pen ) . m_penSwitch ;
#line 1655 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1657 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (pen  , & CSwitch_DLLClass ) && m_fRayHitDistance  < 2.5f){
#line 1658 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CSwitch  & enSwitch  = (CSwitch  &) * pen ;
#line 1659 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bTargetHitIsUsable  = TRUE ;
#line 1661 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(enSwitch  . m_bUseable ){
#line 1663 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(enSwitch  . m_strMessage  != ""){m_strLastTarget  = enSwitch  . m_strMessage ;}
#line 1664 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else {m_strLastTarget  = TRANS  ("Use");}
#line 1665 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmLastTarget  = tmNow  + 0.5f;
#line 1666 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1667 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1668 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1669 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1671 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else {
#line 1673 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = 0;
#line 1678 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1683 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vOnScreen ;
#line 1684 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fDistance  = m_fRayHitDistanceNow ;
#line 1686 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
const FLOAT3D vRayHit  = m_vRayHitNow ;
#line 1688 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_penRayHitNow  != NULL ){
#line 1690 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntity  * pen  = m_penRayHitNow ;
#line 1692 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
prProjection  . ViewerPlacementL  () = plViewSource ;
#line 1693 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
prProjection  . ObjectPlacementL  () = CPlacement3D (FLOAT3D (0.0f , 0.0f , 0.0f) , ANGLE3D (0 , 0 , 0));
#line 1694 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
prProjection  . Prepare  ();
#line 1695 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
prProjection  . ProjectCoordinate  (vRayHit  , vOnScreen );
#line 1699 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(hud_bCrosshairColoring  && _cmiComm  . IsNetworkOn  ()){
#line 1702 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmLastTarget  = 1000;
#line 1705 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1706 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else {
#line 1707 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmLastTarget  = - 99;
#line 1708 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1710 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1712 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1713 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1715 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vOnScreen  (1) = (FLOAT) pdp  -> GetWidth  () * 0.5f;
#line 1716 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vOnScreen  (2) = (FLOAT) pdp  -> GetHeight  () * 0.5f;
#line 1717 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
fDistance  = 100.0f;
#line 1718 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1721 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(hud_bCrosshairFixed  || GetPlayer  () -> m_iViewState  == PVT_3RDPERSONVIEW ){
#line 1731 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vOnScreen  (1) = _pInput  -> inp_ptMousePos  . x  + 16;
#line 1732 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vOnScreen  (2) = pdp  -> GetHeight  () - _pInput  -> inp_ptMousePos  . y  - 16;
#line 1736 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1801 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 1836 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D CPlayerWeapons::GetMouseHitInformation(POINT point,CAnyProjection3D prProjection,BOOL bClick) 
#line 1837 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1841 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
prProjection  -> Prepare  ();
#line 1843 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRay ;
#line 1844 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRayTmp ;
#line 1846 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
prProjection  -> RayThroughPoint  (FLOAT3D ((float ) point  . x  , _height  - (float ) point  . y  , 0.0f) , plRay );
#line 1848 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plRayTmp  = plRay ;
#line 1851 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (GetPlayer  () -> GetViewEntity  (TRUE ) , plRay );
#line 1853 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_penIgnore  = GetPlayer  ();
#line 1857 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 1859 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 1861 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  && 
#line 1862 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
! ((crRay  . cr_penHit  -> GetFlags  () & ENF_ITEM ) || (crRay  . cr_penHit  -> IsCharacter  ()) || (crRay  . cr_penHit  -> GetFlags  () & ENF_ALIVE )))
#line 1863 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1865 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (GetPlayer  () -> GetViewEntity  (TRUE ) , plRayTmp );
#line 1866 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 1867 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_NONE ;
#line 1868 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 1870 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bClick )
#line 1871 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1872 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitClick  = crRay  . cr_penHit ;
#line 1874 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pInput  -> GetInputDevice  (1) -> id_aicControls  [ KID_LSHIFT  ] . ic_fValue  != 1.0f && ! _pInput  -> IsRMousePressed  ())
#line 1875 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1876 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitTmp  = crRay  . cr_vHit ;
#line 1877 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitTmp  = crRay  . cr_penHit ;
#line 1878 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceTmp  = crRay  . cr_fHitDistance ;
#line 1879 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1881 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  
#line 1882 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
&& (crRay  . cr_penHit  -> GetFlags  () & ENF_ALIVE  || crRay  . cr_penHit  -> IsCharacter  ()))
#line 1883 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1884 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penReservedTarget  = crRay  . cr_penHit ;
#line 1885 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1886 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1887 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1888 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! _pInput  -> IsRMousePressed  ())
#line 1889 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1890 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 1891 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntity  * penEnt  = m_penRayHitTmp ;
#line 1892 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(penEnt  != NULL  && penEnt  -> GetFlags  () & ENF_ALIVE )
#line 1893 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1894 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = penEnt  -> en_plPlacement  . pl_PositionVector ;
#line 1895 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1896 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1897 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1898 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = FLOAT3D (crRay  . cr_vHit  (1) , crRay  . cr_vHit  (2) , crRay  . cr_vHit  (3));
#line 1899 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1900 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1901 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1902 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1903 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitNow  = crRay  . cr_vHit ;
#line 1904 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  = crRay  . cr_penHit ;
#line 1905 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceNow  = crRay  . cr_fHitDistance ;
#line 1908 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bPickConditionOk  = TRUE ;
#line 1909 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_pbpoBrushPolygon  != NULL )
#line 1910 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1911 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitSurfaceNormal  = crRay  . cr_pbpoBrushPolygon  -> bpo_pbplPlane  -> bpl_plAbsolute ;
#line 1912 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_pbpoBrushPolygon  -> bpo_ulFlags  & BPOF_INVISIBLE ){m_bPickConditionOk  = FALSE ;}
#line 1913 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1914 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else m_vRayHitSurfaceNormal  = FLOAT3D (0 , 1 , 0);
#line 1916 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return plRayTmp ;
#line 1917 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1919 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bClick  && crRay  . cr_penHit )
#line 1920 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1921 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitClick  = crRay  . cr_penHit ;
#line 1923 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pInput  -> GetInputDevice  (1) -> id_aicControls  [ KID_LSHIFT  ] . ic_fValue  != 1.0f && ! _pInput  -> IsRMousePressed  ())
#line 1924 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1925 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitTmp  = crRay  . cr_vHit ;
#line 1926 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitTmp  = crRay  . cr_penHit ;
#line 1927 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceTmp  = crRay  . cr_fHitDistance ;
#line 1929 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 1930 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntity  * penEnt  = m_penRayHitTmp ;
#line 1931 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(penEnt  != NULL  && penEnt  -> GetFlags  () & ENF_ALIVE )
#line 1932 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1933 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = penEnt  -> en_plPlacement  . pl_PositionVector ;
#line 1934 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1935 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1936 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1937 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = FLOAT3D (crRay  . cr_vHit  (1) , crRay  . cr_vHit  (2) , crRay  . cr_vHit  (3));
#line 1938 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1940 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1941 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetFlags  () & ENF_ALIVE  || crRay  . cr_penHit  -> IsCharacter  ())
#line 1942 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1943 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penReservedTarget  = crRay  . cr_penHit ;
#line 1955 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1956 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1957 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1958 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! _pInput  -> IsRMousePressed  ())
#line 1959 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1960 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 1961 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntity  * penEnt  = m_penRayHitTmp ;
#line 1962 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(penEnt  != NULL  && penEnt  -> GetFlags  () & ENF_ALIVE )
#line 1963 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1964 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = penEnt  -> en_plPlacement  . pl_PositionVector ;
#line 1965 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1966 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 1967 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1968 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = FLOAT3D (crRay  . cr_vHit  (1) , crRay  . cr_vHit  (2) , crRay  . cr_vHit  (3));
#line 1969 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1971 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1972 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1974 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1975 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitNow  = crRay  . cr_vHit ;
#line 1976 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  = crRay  . cr_penHit ;
#line 1979 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_penRayHitNow )
#line 1980 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1981 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_penRayHitNow  -> GetName  () == _pNetwork  -> GetMobName  (310) || 
#line 1982 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  -> GetName  () == _pNetwork  -> GetMobName  (311) || 
#line 1983 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  -> GetName  () == _pNetwork  -> GetMobName  (312) || 
#line 1984 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  -> GetName  () == _pNetwork  -> GetMobName  (313))
#line 1985 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1986 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  = NULL ;
#line 1988 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1989 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1991 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceNow  = crRay  . cr_fHitDistance ;
#line 1993 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_pbpoBrushPolygon  != NULL )
#line 1994 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 1995 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitSurfaceNormal  = crRay  . cr_pbpoBrushPolygon  -> bpo_pbplPlane  -> bpl_plAbsolute ;
#line 1996 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 1997 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else m_vRayHitSurfaceNormal  = FLOAT3D (0 , 1 , 0);
#line 2000 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return plRay ;
#line 2004 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2006 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D CPlayerWeapons::GetMouseHitInformationReserve(POINT point,CAnyProjection3D prProjection,BOOL bClick,BOOL bReserve) 
#line 2007 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2010 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
prProjection  -> Prepare  ();
#line 2012 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRay ;
#line 2013 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRayTmp ;
#line 2015 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
prProjection  -> RayThroughPoint  (FLOAT3D ((float ) point  . x  , _height  - (float ) point  . y  , 0.0f) , plRay );
#line 2017 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plRayTmp  = plRay ;
#line 2020 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (GetPlayer  () -> GetViewEntity  (TRUE ) , plRay );
#line 2021 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_penIgnore  = GetPlayer  ();
#line 2023 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 2025 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 2027 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  && ! (crRay  . cr_penHit  -> GetFlags  () & ENF_ITEM ))
#line 2028 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2029 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  && ! (crRay  . cr_penHit  -> GetFlags  () & ENF_ALIVE ))
#line 2030 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2032 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (GetPlayer  () -> GetViewEntity  (TRUE ) , plRayTmp );
#line 2033 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 2034 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_NONE ;
#line 2035 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 2037 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bClick )
#line 2038 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2039 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bReserve )
#line 2040 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2041 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitReserve  = crRay  . cr_vHit ;
#line 2042 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitReserve  = crRay  . cr_penHit ;
#line 2043 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceReserve  = crRay  . cr_fHitDistance ;
#line 2045 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2046 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 2047 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2048 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitTmp  = crRay  . cr_vHit ;
#line 2049 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitTmp  = crRay  . cr_penHit ;
#line 2050 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceTmp  = crRay  . cr_fHitDistance ;
#line 2051 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2052 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2053 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitNow  = crRay  . cr_vHit ;
#line 2054 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  = crRay  . cr_penHit ;
#line 2055 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceNow  = crRay  . cr_fHitDistance ;
#line 2057 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return plRayTmp ;
#line 2058 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2059 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2061 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bClick )
#line 2062 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2063 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bReserve )
#line 2064 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2065 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitReserve  = crRay  . cr_vHit ;
#line 2066 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitReserve  = crRay  . cr_penHit ;
#line 2067 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceReserve  = crRay  . cr_fHitDistance ;
#line 2068 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2069 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 2070 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2071 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitTmp  = crRay  . cr_vHit ;
#line 2072 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitTmp  = crRay  . cr_penHit ;
#line 2073 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceTmp  = crRay  . cr_fHitDistance ;
#line 2074 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2075 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2076 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_vRayHitNow  = crRay  . cr_vHit ;
#line 2077 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  = crRay  . cr_penHit ;
#line 2078 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceNow  = crRay  . cr_fHitDistance ;
#line 2080 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return plRay ;
#line 2081 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2087 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ShowFlare(CModelObject & moWeapon,INDEX iAttachObject,INDEX iAttachFlare,FLOAT fSize) {
#line 2088 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (moWeapon  . GetAttachmentModel  (iAttachObject ) -> amo_moModelObject );
#line 2089 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamo  = pmo  -> GetAttachmentModel  (iAttachFlare );
#line 2090 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pamo  -> amo_plRelative  . pl_OrientationAngle  (3) = (rand  () * 360.0f) / RAND_MAX ;
#line 2091 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pmo  = & (pamo  -> amo_moModelObject );
#line 2092 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pmo  -> StretchModel  (FLOAT3D (fSize  , fSize  , fSize ));
#line 2093 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2097 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::HideFlare(CModelObject & moWeapon,INDEX iAttachObject,INDEX iAttachFlare) {
#line 2098 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (moWeapon  . GetAttachmentModel  (iAttachObject ) -> amo_moModelObject );
#line 2099 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pmo  = & (pmo  -> GetAttachmentModel  (iAttachFlare ) -> amo_moModelObject );
#line 2100 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pmo  -> StretchModel  (FLOAT3D (0 , 0 , 0));
#line 2101 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2103 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SetFlare(INDEX iFlare,INDEX iAction) 
#line 2104 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2105 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayerWeapons  * pen  = this ;
#line 2106 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iFlare  == 0){
#line 2107 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pen  -> m_iFlare  = iAction ;
#line 2108 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pen  -> GetPlayer  () -> GetPlayerAnimator  () -> m_iFlare  = iAction ;
#line 2109 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 2110 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pen  -> m_iSecondFlare  = iAction ;
#line 2111 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pen  -> GetPlayer  () -> GetPlayerAnimator  () -> m_iSecondFlare  = iAction ;
#line 2112 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2113 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2186 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlayLightAnim(INDEX iAnim,ULONG ulFlags) {
#line 2187 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 2188 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(pl  . m_aoLightAnimation  . GetData  () != NULL ){
#line 2189 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_aoLightAnimation  . PlayAnim  (iAnim  , ulFlags );
#line 2190 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2191 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2370 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcWeaponPosition3rdPersonView(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ) {
#line 2371 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D (0 , 0 , 0);
#line 2373 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2374 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2375 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2376 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 2377 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2378 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2379 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2381 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2382 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2383 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 2384 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2385 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2386 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2387 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2388 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2390 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 2391 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 2392 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2395 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plView  = ((CPlayer  &) * m_penPlayer ) . en_plViewpoint ;
#line 2396 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plView  . pl_PositionVector  (2) = 1.25118f;
#line 2397 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (plView );
#line 2398 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (m_penPlayer  -> GetPlacement  ());
#line 2399 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2402 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcWeaponPosition(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ) {
#line 2403 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D (0 , 0 , 0);
#line 2405 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2406 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2407 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2413 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 2414 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2415 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2416 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2418 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2419 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2420 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 2421 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2422 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2423 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2424 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2425 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2427 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 2428 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 2429 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2432 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plView  = ((CPlayer  &) * m_penPlayer ) . en_plViewpoint ;
#line 2433 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plView  . pl_PositionVector  (2) += ((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . 
#line 2434 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fEyesYOffset ;
#line 2435 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (plView );
#line 2436 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (m_penPlayer  -> GetPlacement  ());
#line 2437 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2440 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcLerpedWeaponPosition(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ) 
#line 2441 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2442 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D (0 , 0 , 0);
#line 2444 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2445 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2446 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2452 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 2453 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2454 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2455 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2457 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2458 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2459 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 2460 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2461 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2462 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2463 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2464 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2466 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 2467 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 2468 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2471 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRes ;
#line 2472 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
GetPlayer  () -> GetLerpedWeaponPosition  (plPos  . pl_PositionVector  , plRes );
#line 2473 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  = plRes ;
#line 2474 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2477 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcWeaponPositionImprecise(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ,FLOAT fImprecissionAngle) {
#line 2478 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D ((FRnd  () - 0.5f) * fImprecissionAngle  , (FRnd  () - 0.5f) * fImprecissionAngle  , 0);
#line 2480 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2481 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2487 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2488 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 2489 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2490 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2491 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2492 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2494 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2495 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2496 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 2497 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2498 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2499 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2500 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2501 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2503 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 2504 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 2505 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2508 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plView  = ((CPlayer  &) * m_penPlayer ) . en_plViewpoint ;
#line 2509 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plView  . pl_PositionVector  (2) += ((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . 
#line 2510 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fEyesYOffset ;
#line 2511 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (plView );
#line 2512 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (m_penPlayer  -> GetPlacement  ());
#line 2513 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2517 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::Setup3DSoundParameters(void) 
#line 2518 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2519 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 2521 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 2522 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon1  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 2523 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon2  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 2524 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon3  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 2525 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 0.0f , 1.0f);
#line 2526 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2544 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::CutWithKnife(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fWide,FLOAT fThickness,FLOAT fDamage) 
#line 2545 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2547 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plKnife ;
#line 2548 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fX  , fY  , 0) , plKnife  , TRUE );
#line 2551 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
const FLOAT3D & vBase  = plKnife  . pl_PositionVector ;
#line 2552 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 2553 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plKnife  . pl_OrientationAngle );
#line 2554 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vRight  = m  . GetColumn  (1) * fWide ;
#line 2555 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  = m  . GetColumn  (2) * fWide ;
#line 2556 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vFront  = - m  . GetColumn  (3) * fRange ;
#line 2558 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDest  [ 5 ];
#line 2559 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDest  [ 0 ] = vBase  + vFront ;
#line 2560 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDest  [ 1 ] = vBase  + vFront  + vUp ;
#line 2561 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDest  [ 2 ] = vBase  + vFront  - vUp ;
#line 2562 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDest  [ 3 ] = vBase  + vFront  + vRight ;
#line 2563 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDest  [ 4 ] = vBase  + vFront  - vRight ;
#line 2565 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntity  * penClosest  = NULL ;
#line 2566 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fDistance  = UpperLimit  (0.0f);
#line 2567 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vHit ;
#line 2568 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDir ;
#line 2570 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = 0;i  < 5;i  ++)
#line 2571 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2573 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (m_penPlayer  , vBase  , vDest  [ i  ]);
#line 2574 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 2575 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_fTestR  = fThickness ;
#line 2576 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 2577 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 2580 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  && crRay  . cr_fHitDistance  < fDistance )
#line 2581 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2582 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
penClosest  = crRay  . cr_penHit ;
#line 2583 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
fDistance  = crRay  . cr_fHitDistance ;
#line 2584 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDir  = vDest  [ i  ] - vBase ;
#line 2585 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vHit  = crRay  . cr_vHit ;
#line 2587 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(i  == 0)
#line 2588 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2589 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_BRUSH )
#line 2590 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2591 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX iSurfaceType  = crRay  . cr_pbpoBrushPolygon  -> bpo_bppProperties  . bpp_ubSurfaceType ;
#line 2592 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EffectParticlesType  eptType  = GetParticleEffectTypeForSurface  (iSurfaceType );
#line 2594 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vNormal  = crRay  . cr_pbpoBrushPolygon  -> bpo_pbplPlane  -> bpl_plAbsolute ;
#line 2595 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vReflected  = vDir  - vNormal  * (2.0f * (vNormal  % vDir ));
#line 2596 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddBulletSpray  (vBase  + vFront  , eptType  , vReflected );
#line 2597 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2598 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL  || crRay  . cr_penHit  -> GetRenderType  () == RT_SKAMODEL )
#line 2599 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2600 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BOOL bRender  = TRUE ;
#line 2601 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpillDir  = - ((CPlayer  &) * m_penPlayer ) . en_vGravityDir  * 0.5f;
#line 2602 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SprayParticlesType  sptType  = SPT_NONE ;
#line 2603 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
COLOR colParticles  = C_WHITE  | CT_OPAQUE ;
#line 2604 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fPower  = 4.0f;
#line 2605 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , & CModelHolder2_DLLClass ))
#line 2606 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2607 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
bRender  = FALSE ;
#line 2608 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelDestruction  * penDestruction  = ((CModelHolder2  &) * crRay  . cr_penHit ) . GetDestruction  ();
#line 2609 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(penDestruction  != NULL )
#line 2610 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2611 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
bRender  = TRUE ;
#line 2612 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
sptType  = penDestruction  -> m_sptType ;
#line 2613 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2614 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelHolder2  * pmh2  = (CModelHolder2  *) crRay  . cr_penHit ;
#line 2615 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
colParticles  = pmh2  -> m_colBurning ;
#line 2616 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2617 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , & CModelHolder3_DLLClass ))
#line 2618 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2619 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
bRender  = FALSE ;
#line 2620 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelDestruction  * penDestruction  = ((CModelHolder3  &) * crRay  . cr_penHit ) . GetDestruction  ();
#line 2621 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(penDestruction  != NULL )
#line 2622 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2623 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
bRender  = TRUE ;
#line 2624 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
sptType  = penDestruction  -> m_sptType ;
#line 2625 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2626 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelHolder3  * pmh3  = (CModelHolder3  *) crRay  . cr_penHit ;
#line 2627 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
colParticles  = pmh3  -> m_colBurning ;
#line 2628 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2630 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bRender )
#line 2631 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2632 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOATaabbox3D boxCutted ;
#line 2633 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL ){
#line 2634 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_penHit  -> en_pmoModelObject  -> GetCurrentFrameBBox  (boxCutted );
#line 2635 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else if(crRay  . cr_penHit  -> GetRenderType  () == RT_SKAMODEL ){
#line 2636 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX iColBox  = crRay  . cr_penHit  -> GetModelInstance  () -> GetCurrentColisionBoxIndex  ();
#line 2637 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ColisionBox  cb  = crRay  . cr_penHit  -> GetModelInstance  () -> GetColisionBox  (iColBox );
#line 2638 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
boxCutted  = FLOATaabbox3D (cb  . Min  () , cb  . Max  ());
#line 2639 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2641 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddGoreSpray  (vBase  + vFront  , vHit  , sptType  , 
#line 2642 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vSpillDir  , boxCutted  , fPower  , colParticles );
#line 2643 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2644 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2646 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 2647 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2648 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2649 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2653 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(penClosest  != NULL )
#line 2654 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2656 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! (GetSP  () -> sp_bCooperative ) && IsOfClass  (penClosest  , & CPlayer_DLLClass )){
#line 2657 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vToTarget  = penClosest  -> GetPlacement  () . pl_PositionVector  - m_penPlayer  -> GetPlacement  () . pl_PositionVector ;
#line 2658 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vTargetHeading  = FLOAT3D (0.0 , 0.0 , - 1.0f) * penClosest  -> GetRotationMatrix  ();
#line 2659 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vToTarget  . Normalize  ();vTargetHeading  . Normalize  ();
#line 2660 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(vToTarget  % vTargetHeading  > 0.65f)
#line 2661 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2663 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
fDamage  *= 4.0f;
#line 2664 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2665 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2666 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
const FLOAT fDamageMul  = GetSeriousDamageMultiplier  (m_penPlayer );
#line 2667 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
InflictDirectDamage  (penClosest  , m_penPlayer  , DMT_CLOSERANGE  , fDamage  * fDamageMul  , vHit  , vDir );
#line 2668 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 2669 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2670 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 2671 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2675 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::CutWithChainsaw(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fWide,FLOAT fThickness,FLOAT fDamage) 
#line 2676 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2678 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plKnife ;
#line 2679 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fX  , fY  , 0) , plKnife  , TRUE );
#line 2682 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
const FLOAT3D & vBase  = plKnife  . pl_PositionVector ;
#line 2683 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 2684 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plKnife  . pl_OrientationAngle );
#line 2685 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vRight  = m  . GetColumn  (1) * fWide ;
#line 2686 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  = m  . GetColumn  (2) * fWide ;
#line 2687 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vFront  = - m  . GetColumn  (3) * fRange ;
#line 2689 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDest  [ 3 ];
#line 2690 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDest  [ 0 ] = vBase  + vFront ;
#line 2691 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDest  [ 1 ] = vBase  + vFront  + vRight ;
#line 2692 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDest  [ 2 ] = vBase  + vFront  - vRight ;
#line 2694 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntity  * penClosest  = NULL ;
#line 2695 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fDistance  = UpperLimit  (0.0f);
#line 2696 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vHit ;
#line 2697 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDir ;
#line 2699 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = 0;i  < 3;i  ++){
#line 2701 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (m_penPlayer  , vBase  , vDest  [ i  ]);
#line 2702 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 2703 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_fTestR  = fThickness ;
#line 2704 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 2705 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 2708 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL )
#line 2709 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2710 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
penClosest  = crRay  . cr_penHit ;
#line 2711 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
fDistance  = crRay  . cr_fHitDistance ;
#line 2712 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDir  = vDest  [ i  ] - vBase ;
#line 2713 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vDir  . Normalize  ();
#line 2714 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vHit  = crRay  . cr_vHit ;
#line 2716 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(i  == 0)
#line 2717 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2718 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_BRUSH )
#line 2719 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2720 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX iSurfaceType  = crRay  . cr_pbpoBrushPolygon  -> bpo_bppProperties  . bpp_ubSurfaceType ;
#line 2721 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EffectParticlesType  eptType  = GetParticleEffectTypeForSurface  (iSurfaceType );
#line 2723 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vNormal  = crRay  . cr_pbpoBrushPolygon  -> bpo_pbplPlane  -> bpl_plAbsolute ;
#line 2724 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vReflected  = vDir  - vNormal  * (2.0f * (vNormal  % vDir ));
#line 2725 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vPos  = vBase  + vFront ;
#line 2726 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddBulletSpray  (vPos  , eptType  , vReflected );
#line 2727 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EAddBulletSpray  eabs ;
#line 2728 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eabs  . vPos  = vPos ;
#line 2729 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eabs  . eptType  = eptType ;
#line 2730 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eabs  . vReflected  = vReflected ;
#line 2731 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . SendEvent  (eabs  , TRUE );
#line 2735 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeStrength  = 0.85f;
#line 2736 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeFreqMod  = 1.0f;
#line 2737 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_tmChainShakeEnd  = _pTimer  -> CurrentTick  () + CHAINSAW_UPDATETIME  * 1.5f;
#line 2739 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2740 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL  || crRay  . cr_penHit  -> GetRenderType  () == RT_SKAMODEL )
#line 2741 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2742 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BOOL bRender  = TRUE ;
#line 2743 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpillDir  = - ((CPlayer  &) * m_penPlayer ) . en_vGravityDir  * 0.5f;
#line 2744 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SprayParticlesType  sptType  = SPT_BLOOD ;
#line 2745 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
COLOR colParticles  = C_WHITE  | CT_OPAQUE ;
#line 2746 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! IsDerivedFromClass  (crRay  . cr_penHit  , & CEnemyBase_DLLClass )){
#line 2747 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
sptType  = SPT_NONE ;
#line 2748 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2749 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fPower  = 4.0f;
#line 2762 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , & CModelHolder2_DLLClass ))
#line 2763 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2764 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
bRender  = FALSE ;
#line 2765 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelDestruction  * penDestruction  = ((CModelHolder2  &) * crRay  . cr_penHit ) . GetDestruction  ();
#line 2766 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelHolder2  * pmh2  = (CModelHolder2  *) crRay  . cr_penHit ;
#line 2767 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
colParticles  = pmh2  -> m_colBurning ;
#line 2768 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(penDestruction  != NULL )
#line 2769 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2770 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
bRender  = TRUE ;
#line 2771 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
sptType  = penDestruction  -> m_sptType ;
#line 2772 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(sptType  == SPT_COLOREDSTONE )
#line 2773 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2774 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
colParticles  = MulColors  (colParticles  , penDestruction  -> m_colParticles );
#line 2775 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2776 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2777 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2778 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , & CModelHolder3_DLLClass ))
#line 2779 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2780 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
bRender  = FALSE ;
#line 2781 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelDestruction  * penDestruction  = ((CModelHolder3  &) * crRay  . cr_penHit ) . GetDestruction  ();
#line 2782 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelHolder3  * pmh3  = (CModelHolder3  *) crRay  . cr_penHit ;
#line 2783 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
colParticles  = pmh3  -> m_colBurning ;
#line 2784 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(penDestruction  != NULL )
#line 2785 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2786 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
bRender  = TRUE ;
#line 2787 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
sptType  = penDestruction  -> m_sptType ;
#line 2788 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(sptType  == SPT_COLOREDSTONE )
#line 2789 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2790 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
colParticles  = MulColors  (colParticles  , penDestruction  -> m_colParticles );
#line 2791 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2792 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2793 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2794 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOATaabbox3D boxCutted  = FLOATaabbox3D (FLOAT3D (0 , 0 , 0) , FLOAT3D (1 , 1 , 1));
#line 2795 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bRender  && m_tmLastChainsawSpray  + 0.2f < _pTimer  -> CurrentTick  ())
#line 2796 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2798 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL ){
#line 2799 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_penHit  -> en_pmoModelObject  -> GetCurrentFrameBBox  (boxCutted );
#line 2801 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else if(crRay  . cr_penHit  -> GetRenderType  () == RT_SKAMODEL ){
#line 2802 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX iColBox  = crRay  . cr_penHit  -> GetModelInstance  () -> GetCurrentColisionBoxIndex  ();
#line 2803 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ColisionBox  cb  = crRay  . cr_penHit  -> GetModelInstance  () -> GetColisionBox  (iColBox );
#line 2804 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
boxCutted  = FLOATaabbox3D (cb  . Min  () , cb  . Max  ());
#line 2805 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2806 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddGoreSpray  (vBase  + vFront  , vHit  , sptType  , 
#line 2807 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
vSpillDir  , boxCutted  , fPower  , colParticles );
#line 2808 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EAddGoreSpray  eags ;
#line 2809 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eags  . iEntityHit  = crRay  . cr_penHit  -> en_ulID ;
#line 2810 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eags  . vPos  = vBase  + vFront ;
#line 2811 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eags  . vHit  = vHit ;
#line 2812 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eags  . sptType  = sptType ;
#line 2813 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eags  . colParticles  = colParticles ;
#line 2814 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . SendEvent  (eags  , TRUE );
#line 2816 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmLastChainsawSpray  = _pTimer  -> CurrentTick  ();
#line 2817 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2820 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeStrength  = 1.1f;
#line 2821 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeFreqMod  = 1.0f;
#line 2822 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_tmChainShakeEnd  = _pTimer  -> CurrentTick  () + CHAINSAW_UPDATETIME  * 1.5f;
#line 2824 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2825 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2827 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if((crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL  || crRay  . cr_penHit  -> GetRenderType  () == RT_SKAMODEL ) && 
#line 2828 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
crRay  . cr_fHitDistance  <= fDistance )
#line 2829 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2831 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(i  == 0)
#line 2832 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2834 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 2835 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2836 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2837 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 2839 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeStrength  = 0.1f;
#line 2840 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeFreqMod  = 1.0f;
#line 2841 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_tmChainShakeEnd  = _pTimer  -> CurrentTick  () + CHAINSAW_UPDATETIME  * 1.5f;
#line 2842 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2843 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2845 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(penClosest  != NULL ){
#line 2846 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
InflictDirectDamage  (penClosest  , m_penPlayer  , DMT_CHAINSAW  , fDamage  , vHit  , vDir );
#line 2847 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 2848 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2849 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 2850 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2869 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PrepareBullet(FLOAT fX,FLOAT fY,FLOAT fDamage) {
#line 2871 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fX  , fY  , 0) , plBullet  , TRUE );
#line 2873 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
penBullet  = CreateEntity  (plBullet  , CLASS_BULLET );
#line 2875 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EBulletInit  eInit ;
#line 2876 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eInit  . eidOwner  = m_penPlayer ;
#line 2877 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eInit  . fDamage  = fDamage ;
#line 2878 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
penBullet  -> Initialize  (eInit );
#line 2879 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2904 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireOneBullet(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fDamage) {
#line 2905 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
PrepareBullet  (fX  , fY  , fDamage );
#line 2906 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcTarget  (fRange );
#line 2907 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_fBulletSize  = 0.1f;
#line 2910 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . LaunchBullet  (TRUE  , FALSE  , TRUE );
#line 2911 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . DestroyBullet  ();
#line 2912 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2915 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireShotgunBullets(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fDamage,INDEX iBullets,
#line 2916 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT * afPositions,FLOAT fStretch,FLOAT fJitter) {
#line 2917 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
PrepareBullet  (fX  , fY  , fDamage );
#line 2918 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcTarget  (fRange );
#line 2919 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_fBulletSize  = GetSP  () -> sp_bCooperative  ? 0.1f : 0.3f;
#line 2920 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_EdtDamage  = DMT_SHOTGUN ;
#line 2922 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX iSlug ;
#line 2923 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
for(iSlug  = 0;iSlug  < iBullets ;iSlug  ++){
#line 2925 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcJitterTargetFixed  (
#line 2926 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
afPositions  [ iSlug  * 2 + 0 ] * fRange  * fStretch  , afPositions  [ iSlug  * 2 + 1 ] * fRange  * fStretch  , 
#line 2927 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
fJitter  * fRange  * fStretch );
#line 2928 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . LaunchBullet  (iSlug  < 2 , FALSE  , TRUE );
#line 2929 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 2930 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . DestroyBullet  ();
#line 2931 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 2934 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireMachineBullet(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fDamage,
#line 2935 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fJitter,FLOAT fBulletSize) 
#line 2936 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 2937 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
fJitter  *= fRange ;
#line 2938 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
PrepareBullet  (fX  , fY  , fDamage );
#line 2939 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcTarget  (fRange );
#line 2940 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_fBulletSize  = fBulletSize ;
#line 2941 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcJitterTarget  (fJitter );
#line 2942 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . LaunchBullet  (TRUE  , FALSE  , TRUE );
#line 2943 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . DestroyBullet  ();
#line 2944 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3017 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::GetFlamerSourcePlacement(CPlacement3D & plSource,CPlacement3D & plInFrontOfPipe) {
#line 3018 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CalcLerpedWeaponPosition  (
#line 3019 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D (wpn_fFX  [ WEAPON_FLAMER  ] , wpn_fFY  [ WEAPON_FLAMER  ] , - 0.15f) , 
#line 3020 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plSource  , FALSE );
#line 3021 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plInFrontOfPipe  = plSource ;
#line 3022 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT3D vFront ;
#line 3023 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
AnglesToDirectionVector  (plSource  . pl_OrientationAngle  , vFront );
#line 3024 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
plInFrontOfPipe  . pl_PositionVector  = plSource  . pl_PositionVector  + vFront  * 1.0f;
#line 3025 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3028 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireFlame(void) {
#line 3030 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlacement3D plFlame ;
#line 3032 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (wpn_fFX  [ WEAPON_FLAMER  ] , wpn_fFY  [ WEAPON_FLAMER  ] , - 0.15f) , plFlame  , TRUE );
#line 3035 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CEntityPointer penFlame  = CreateEntity  (plFlame  , CLASS_PROJECTILE );
#line 3037 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ELaunchProjectile  eLaunch ;
#line 3038 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eLaunch  . eidLauncher  = m_penPlayer ;
#line 3039 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eLaunch  . prtType  = PRT_FLAME ;
#line 3040 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
penFlame  -> Initialize  (eLaunch );
#line 3042 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_penFlame  != NULL  && ! (m_penFlame  -> GetFlags  () & ENF_DELETED )){
#line 3043 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CProjectile  &) * m_penFlame ) . m_penParticles  = penFlame ;
#line 3044 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3046 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CProjectile  &) * penFlame ) . m_penParticles  = this ;
#line 3048 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penFlame  = penFlame ;
#line 3049 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3150 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SpawnRangeSound(FLOAT fRange) 
#line 3151 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3152 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pTimer  -> CurrentTick  () > m_tmRangeSoundSpawned  + 0.5f){
#line 3153 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmRangeSoundSpawned  = _pTimer  -> CurrentTick  ();
#line 3154 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
:: SpawnRangeSound  (m_penPlayer  , m_penPlayer  , SNDT_PLAYER  , fRange );
#line 3155 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3156 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3163 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ClearWeapons(void) {
#line 3165 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  = 0x03;
#line 3167 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iBullets  = 0;
#line 3168 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iShells  = 0;
#line 3171 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iNapalm  = 0;
#line 3172 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iElectricity  = 0;
#line 3173 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  = 0;
#line 3176 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3178 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ResetWeaponMovingOffset(void) 
#line 3179 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3181 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPowerOld  = m_fWeaponDrawPower  = m_tmDrawStartTime  = 0;
#line 3182 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3185 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::InitializeWeapons(INDEX iGiveWeapons,INDEX iTakeWeapons,INDEX iTakeAmmo,FLOAT fMaxAmmoRatio) 
#line 3186 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3187 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ResetWeaponMovingOffset  ();
#line 3189 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ULONG  ulOldWeapons  = m_iAvailableWeapons ;
#line 3191 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  &= ~ iTakeWeapons ;
#line 3192 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  |= 0x03 | iGiveWeapons ;
#line 3193 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  &= WEAPONS_ALLAVAILABLEMASK ;
#line 3196 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ULONG  ulNewWeapons  = m_iAvailableWeapons  & ~ ulOldWeapons ;
#line 3198 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
for(INDEX iWeapon  = WEAPON_KNIFE ;iWeapon  < WEAPON_LAST ;iWeapon  ++){
#line 3199 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(ulNewWeapons  & (1 << (iWeapon  - 1))){
#line 3202 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3203 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3206 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fModifier  = ClampDn  (GetSP  () -> sp_fAmmoQuantity  , 1.0f);
#line 3207 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iMaxBullets  = ClampUp  ((INDEX) ceil  (MAX_BULLETS  * fModifier ) , INDEX (999));
#line 3208 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iMaxShells  = ClampUp  ((INDEX) ceil  (MAX_SHELLS  * fModifier ) , INDEX (999));
#line 3211 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iMaxNapalm  = ClampUp  ((INDEX) ceil  (MAX_NAPALM  * fModifier ) , INDEX (999));
#line 3212 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iMaxElectricity  = ClampUp  ((INDEX) ceil  (MAX_ELECTRICITY  * fModifier ) , INDEX (999));
#line 3214 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iMaxIronBalls  = ClampUp  ((INDEX) ceil  (MAX_IRONBALLS  * fModifier ) , INDEX (999));
#line 3218 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_BULLETS )){m_iBullets  = 0;}
#line 3219 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_SHELLS )){m_iShells  = 0;}
#line 3222 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_NAPALM )){m_iNapalm  = 0;}
#line 3223 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_ELECTRICITY )){m_iElectricity  = 0;}
#line 3225 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_IRONBALLS )){m_iIronBalls  = 0;}
#line 3229 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Precache  ();
#line 3236 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_bResetWeapon  || _pNetwork  -> IsServer  ()){
#line 3241 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bResetWeapon  = FALSE ;
#line 3242 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3244 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iCurrentWeapon  = m_iWantedWeapon ;
#line 3245 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
wpn_iCurrent  = m_iCurrentWeapon ;
#line 3246 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = FALSE ;
#line 3249 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
PlayDefaultAnim  ();
#line 3254 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3302 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CheatOpen(void) 
#line 3303 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3304 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (m_penRayHit  , & CMovingBrush_DLLClass )){
#line 3305 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penRayHit  -> SendEvent  (ETrigger  ());
#line 3306 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3307 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3310 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CheatGiveAll(void) {
#line 3312 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  = WEAPONS_ALLAVAILABLEMASK ;
#line 3315 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iBullets  = m_iMaxBullets ;
#line 3316 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iShells  = m_iMaxShells ;
#line 3319 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iNapalm  = m_iMaxNapalm ;
#line 3320 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iElectricity  = m_iMaxElectricity ;
#line 3321 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  = m_iMaxIronBalls ;
#line 3325 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Precache  ();
#line 3326 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3352 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::GetStrongerWeapon(INDEX iWeapon) {
#line 3353 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(iWeapon ){
#line 3354 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 1: return WEAPON_CHAINSAW ;
#line 3359 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 6: return WEAPON_FLAMER ;
#line 3360 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 7: return WEAPON_LASER ;
#line 3362 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3363 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return WEAPON_NONE ;
#line 3364 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3367 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX CPlayerWeapons::GetSelectedWeapon(WeaponType EwtSelectedWeapon) {
#line 3368 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(EwtSelectedWeapon ){
#line 3369 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : case WEAPON_CHAINSAW : return 1;
#line 3374 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : 
#line 3376 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return 6;
#line 3377 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : return 7;
#line 3379 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3380 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return 0;
#line 3381 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3384 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::GetAltWeapon(WeaponType EwtWeapon) {
#line 3385 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(EwtWeapon ){
#line 3386 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : return WEAPON_CHAINSAW ;
#line 3387 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : return WEAPON_KNIFE ;
#line 3399 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : 
#line 3402 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return WEAPON_FLAMER ;
#line 3405 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3406 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return WEAPON_NONE ;
#line 3407 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3410 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::WeaponSelectOk(WeaponType wtToTry) 
#line 3411 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3413 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(((1 << (INDEX (wtToTry ) - 1)) & m_iAvailableWeapons ) 
#line 3414 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
&& HasAmmo  (wtToTry )){
#line 3416 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(wtToTry  != m_iCurrentWeapon ){
#line 3419 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iWantedWeapon  = wtToTry ;
#line 3420 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = TRUE ;
#line 3421 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3423 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 3425 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 3427 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 3428 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3429 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3496 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::HasAmmo(WeaponType EwtWeapon) {
#line 3497 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(EwtWeapon ){
#line 3498 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : 
#line 3500 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 3508 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : return (m_iNapalm  > 0);
#line 3509 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : return TRUE ;
#line 3512 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3513 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 3514 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3519 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlayDefaultAnim(void) {
#line 3520 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 3521 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_NONE : 
#line 3522 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 3523 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : 
#line 3524 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(m_iKnifeStand ){
#line 3525 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 1: m_moWeapon  . PlayAnim  (KNIFE_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3526 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 3: m_moWeapon  . PlayAnim  (KNIFE_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3527 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown knife stand.");
#line 3528 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3529 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 3569 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
default  : 
#line 3570 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("Unknown weapon.");
#line 3571 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3572 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3574 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::KnifeBoring(void) {
#line 3576 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3577 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(m_iKnifeStand ){
#line 3578 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = KNIFE_ANIM_WAIT1 ;break ;
#line 3579 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 3: iAnim  = KNIFE_ANIM_WAIT1 ;break ;
#line 3580 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3581 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3582 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3583 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3770 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::FindRemapedPos(WeaponType wt) 
#line 3771 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3772 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = 0;i  < 18;i  ++)
#line 3773 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3774 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(aiWeaponsRemap  [ i  ] == wt ){
#line 3775 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return (WeaponType ) i ;
#line 3776 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3777 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3778 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ASSERT  ("Non-existant weapon in remap array!");
#line 3779 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return (WeaponType ) 0;
#line 3780 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3860 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::FindWeaponInDirection(INDEX iDir) 
#line 3861 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3862 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX wtOrg  = FindRemapedPos  (m_iWantedWeapon );
#line 3863 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX wti  = wtOrg ;
#line 3864 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FOREVER 
#line 3865 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3866 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
(INDEX &) wti  += iDir ;
#line 3873 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(wti  > 14)
#line 3874 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3875 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
wti  = WEAPON_KNIFE ;
#line 3876 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3877 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(wti  == wtOrg )
#line 3878 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3879 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 3880 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3881 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
WeaponType  wt  = (WeaponType ) aiWeaponsRemap  [ wti  ];
#line 3882 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if((((1 << (wt  - 1)) & m_iAvailableWeapons ) && HasAmmo  (wt ))){
#line 3883 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return wt ;
#line 3884 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3885 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3886 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return m_iWantedWeapon ;
#line 3887 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
  
#line 3890 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SelectWeaponChange(INDEX iSelect) 
#line 3891 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3892 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
WeaponType  EwtTemp ;
#line 3894 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmWeaponChangeRequired  = ((CPlayerEntity  *) (CEntity  *) m_penPlayer ) -> en_tmEntityTime ;
#line 3897 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iSelect  == 0){
#line 3898 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = TRUE ;
#line 3899 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iWantedWeapon  = WEAPON_NONE ;
#line 3900 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return ;
#line 3901 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3905 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iSelect  == - 4)
#line 3906 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3913 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return ;
#line 3914 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3918 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iSelect  == - 3){
#line 3919 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetAltWeapon  (m_iWantedWeapon );
#line 3922 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else if(iSelect  == - 2){
#line 3923 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EwtTemp  = FindWeaponInDirection  (- 1);
#line 3926 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else if(iSelect  == - 1){
#line 3927 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EwtTemp  = FindWeaponInDirection  (+ 1);
#line 3930 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}else {
#line 3932 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(iSelect  == GetSelectedWeapon  (m_iWantedWeapon )){
#line 3933 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetAltWeapon  (m_iWantedWeapon );
#line 3936 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3937 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
else 
#line 3938 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 3940 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetStrongerWeapon  (iSelect );
#line 3943 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! ((1 << (EwtTemp  - 1)) & m_iAvailableWeapons ) || ! HasAmmo  (EwtTemp )){
#line 3944 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetAltWeapon  (EwtTemp );
#line 3945 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3946 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3947 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3950 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BOOL bChange  = (((1 << (EwtTemp  - 1)) & m_iAvailableWeapons ) && HasAmmo  (EwtTemp ));
#line 3951 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(bChange ){
#line 3952 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iWantedWeapon  = EwtTemp ;
#line 3953 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = TRUE ;
#line 3954 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 3955 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
BOOL CPlayerWeapons::
#line 4323 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Fire(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Fire
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Fire expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4325 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4326 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Stop  ();
#line 4328 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_tmWeaponChangeRequired  = 0;
#line 4330 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = TRUE ;
#line 4331 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bHasAmmo  = HasAmmo  (m_iCurrentWeapon );
#line 4334 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(! m_bHasAmmo )
#line 4335 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 4342 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE;
#line 4343 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 4346 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Setup3DSoundParameters  ();
#line 4374 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iLastBulletPosition  = FLOAT3D (32000.0f , 32000.0f , 32000.0f);
#line 4379 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x0192000e, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192000e_Fire_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000e
if(!(HoldingFire  () && m_bHasAmmo )){ Jump(STATE_CURRENT,0x0192000f, FALSE, EInternal());return TRUE;}
#line 4381 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . m_fLastActionTime  = _pTimer  -> CurrentTick  ();
#line 4382 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x0192000c, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192000c_Fire_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000c
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;

#line 4385 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 4386 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : Call(STATE_CURRENT, STATE_CPlayerWeapons_SwingKnife, TRUE, EVoid());return TRUE;break ;
#line 4396 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown weapon.");
#line 4397 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 4398 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4399 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EEnd):{const EEnd&e= (EEnd&)__eeInput;

#line 4401 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
UnsetTimer();Jump(STATE_CURRENT,0x0192000d, FALSE, EInternal());return TRUE;
#line 4402 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;default: return FALSE; break;
#line 4403 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x0192000d_Fire_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000d
Jump(STATE_CURRENT,0x0192000e, FALSE, EInternal());return TRUE;
#line 4404 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x0192000f_Fire_04(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000f
 ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4424 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SwingKnife(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_SwingKnife
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::SwingKnife expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4425 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
INDEX iSwing ;
#line 4428 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_KNIFE_ATTACK  , 0);
#line 4430 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4432 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(m_iKnifeStand ){
#line 4433 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 1: 
#line 4434 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
iSwing  = IRnd  () % 2;
#line 4435 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(iSwing ){
#line 4436 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 0: m_iAnim  = KNIFE_ANIM_ATTACK01 ;m_fAnimWaitTime  = 0.25f;
#line 4439 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4440 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 4441 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 1: m_iAnim  = KNIFE_ANIM_ATTACK02 ;m_fAnimWaitTime  = 0.35f;
#line 4444 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4445 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 4446 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 4447 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 4448 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 3: 
#line 4449 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
iSwing  = IRnd  () % 2;
#line 4450 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(iSwing ){
#line 4451 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 0: m_iAnim  = KNIFE_ANIM_ATTACK01 ;m_fAnimWaitTime  = 0.50f;
#line 4454 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4455 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 4456 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case 1: m_iAnim  = KNIFE_ANIM_ATTACK02 ;m_fAnimWaitTime  = 0.50f;
#line 4459 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4460 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 4461 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 4462 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
break ;
#line 4463 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 4464 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (m_iAnim  , 0);
#line 4465 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(!(_pNetwork  -> IsServer  ())){ Jump(STATE_CURRENT,0x0192001a, FALSE, EInternal());return TRUE;}
#line 4466 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(!(CutWithKnife  (0 , 0 , 3.0f , 2.0f , 0.5f , ((GetSP  () -> sp_bCooperative ) ? 100.0f : 50.0f)))){ Jump(STATE_CURRENT,0x01920019, FALSE, EInternal());return TRUE;}
#line 4467 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_fAnimWaitTime );
Jump(STATE_CURRENT, 0x01920011, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920011_SwingKnife_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920011
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920012, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920012_SwingKnife_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920012
;Jump(STATE_CURRENT,0x01920018, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920019_SwingKnife_09(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920019
if(!(TRUE )){ Jump(STATE_CURRENT,0x01920017, FALSE, EInternal());return TRUE;}
#line 4469 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_fAnimWaitTime  / 2);
Jump(STATE_CURRENT, 0x01920013, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920013_SwingKnife_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920013
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920014, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920014_SwingKnife_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920014
;
#line 4470 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CutWithKnife  (0 , 0 , 3.0f , 2.0f , 0.5f , ((GetSP  () -> sp_bCooperative ) ? 100.0f : 50.0f));
#line 4471 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_fAnimWaitTime  / 2);
Jump(STATE_CURRENT, 0x01920015, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920015_SwingKnife_05(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920015
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920016, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920016_SwingKnife_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920016
;Jump(STATE_CURRENT,0x01920017, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920017_SwingKnife_07(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920017
Jump(STATE_CURRENT,0x01920018, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920018_SwingKnife_08(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920018
Jump(STATE_CURRENT,0x0192001a, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192001a_SwingKnife_10(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001a

#line 4475 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(!(m_moWeapon  . GetAnimLength  (m_iAnim ) - m_fAnimWaitTime  >= _pTimer  -> TickQuantum )){ Jump(STATE_CURRENT,0x0192001d, FALSE, EInternal());return TRUE;}
#line 4476 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (m_iAnim ) - m_fAnimWaitTime );
Jump(STATE_CURRENT, 0x0192001b, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192001b_SwingKnife_11(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001b
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192001c, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192001c_SwingKnife_12(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001c
;Jump(STATE_CURRENT,0x0192001d, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192001d_SwingKnife_13(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001d

#line 4478 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4478 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5552 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ChainsawFire(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChainsawFire
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChainsawFire expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5554 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5557 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 5558 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_CS_BEGINFIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5559 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawBeginFire");}
#line 5562 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_WAIT2FIRE  , 0);
#line 5563 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (CHAINSAW_ANIM_WAIT2FIRE ) - 0.05f);
Jump(STATE_CURRENT, 0x0192001f, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192001f_ChainsawFire_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001f
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920020, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920020_ChainsawFire_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920020
;
#line 5565 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator  & pa  = * GetAnimator  ();
#line 5566 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pa  . FireAnimation  (BODY_ANIM_MINIGUN_FIRELONG  , 0);
#line 5568 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelObject * pmoTeeth  = GetChainSawTeeth  ();
#line 5569 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(pmoTeeth  != NULL )
#line 5570 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 5571 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pmoTeeth  -> PlayAnim  (TEETH_ANIM_ROTATE  , AOF_LOOPING  | AOF_NORESTART );
#line 5572 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5575 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5577 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 0.5f , 1.0f);
#line 5579 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_CS_FIRE  , SOF_3D  | SOF_LOOP  | SOF_VOLUMETRIC );
#line 5580 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_StopEffect  ("ChainsawIdle");}
#line 5581 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawFire");}
#line 5583 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_FIRE  , AOF_LOOPING  | AOF_NORESTART );
#line 5586 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo1  = & (m_moWeapon  . GetAttachmentModel  (CHAINSAW_ATTACHMENT_BLADE ) -> amo_moModelObject );
#line 5587 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo2  = & (pmo1  -> GetAttachmentModel  (BLADE_ATTACHMENT_TEETH ) -> amo_moModelObject );
#line 5588 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pmo2  -> PlayAnim  (TEETH_ANIM_ROTATE  , AOF_LOOPING );
#line 5590 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x01920023, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920023_ChainsawFire_05(const CEntityEvent &__eeInput)
#line 5591 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920023
if(!(HoldingFire  ())){ Jump(STATE_CURRENT,0x01920024, FALSE, EInternal());return TRUE;}
#line 5592 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(CHAINSAW_UPDATETIME );
Jump(STATE_CURRENT, 0x01920021, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920021_ChainsawFire_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920021
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920022, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920022_ChainsawFire_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920022
;
#line 5593 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 5595 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CutWithChainsaw  (0 , 0 , 3.0f , 2.0f , 1.0f , 
#line 5596 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
((GetSP  () -> sp_bCooperative ) ? 200.0f : 250.0f) * CHAINSAW_UPDATETIME );
#line 5597 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x01920023, FALSE, EInternal());return TRUE;
#line 5598 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x01920024_ChainsawFire_06(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920024

#line 5602 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5603 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_CS_ENDFIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5604 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_StopEffect  ("ChainsawFire");}
#line 5605 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawEnd");}
#line 5606 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawIdle");}
#line 5608 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 0.8f , 1.0f);
#line 5610 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_FIRE2WAIT  , 0);
#line 5611 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (CHAINSAW_ANIM_FIRE2WAIT ));
Jump(STATE_CURRENT, 0x01920025, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920025_ChainsawFire_07(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920025
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920026, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920026_ChainsawFire_08(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920026
;
#line 5614 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo1  = & (m_moWeapon  . GetAttachmentModel  (CHAINSAW_ATTACHMENT_BLADE ) -> amo_moModelObject );
#line 5615 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo2  = & (pmo1  -> GetAttachmentModel  (BLADE_ATTACHMENT_TEETH ) -> amo_moModelObject );
#line 5616 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pmo2  -> PlayAnim  (TEETH_ANIM_DEFAULT  , 0);
#line 5618 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CModelObject * pmoTeeth  = GetChainSawTeeth  ();
#line 5619 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(pmoTeeth  != NULL )
#line 5620 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 5621 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pmoTeeth  -> PlayAnim  (TEETH_ANIM_DEFAULT  , 0);
#line 5622 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5624 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5628 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ChainsawBringUp(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChainsawBringUp
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChainsawBringUp expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5631 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_FIRE2WAIT  , 0);
#line 5632 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (CHAINSAW_ANIM_FIRE2WAIT ));
Jump(STATE_CURRENT, 0x01920028, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920028_ChainsawBringUp_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920028
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920029, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920029_ChainsawBringUp_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920029
;
#line 5633 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5806 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Reload(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Reload
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Reload expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5807 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bReloadWeapon  = FALSE ;
#line 5822 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5829 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ChangeKnifeStand(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChangeKnifeStand
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChangeKnifeStand expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5842 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 5842 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5885 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
BoringWeaponAnimation(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_BoringWeaponAnimation
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::BoringWeaponAnimation expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5887 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
FLOAT fWait  = 0.0f;
#line 5888 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 5889 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : fWait  = KnifeBoring  ();break ;
#line 5903 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown weapon.");
#line 5904 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5905 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(!(fWait  > 0.0f)){ Jump(STATE_CURRENT,0x0192002f, FALSE, EInternal());return TRUE;}SetTimerAfter(fWait );
Jump(STATE_CURRENT, 0x0192002d, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192002d_BoringWeaponAnimation_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002d
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192002e, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192002e_BoringWeaponAnimation_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002e
;Jump(STATE_CURRENT,0x0192002f, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192002f_BoringWeaponAnimation_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002f

#line 5907 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EBegin  ());
#line 5907 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5915 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Idle(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Idle
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Idle expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5917 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x01920031, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920031_Idle_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920031
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;

#line 5920 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
PlayDefaultAnim  ();
#line 5923 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_bChangeWeapon ){
#line 5924 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 5925 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ENetSelectWeapon  eNetSelect ;
#line 5926 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eNetSelect  . iWeapon  = m_iWantedWeapon ;
#line 5927 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SendEvent  (eNetSelect  , TRUE );
#line 5928 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5929 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5930 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5932 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_bFireWeapon ){
#line 5933 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 5934 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SendEvent  (ENetFireWeapon  () , TRUE );
#line 5935 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5936 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5937 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5939 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_bReloadWeapon )
#line 5940 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{
#line 5947 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5948 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5949 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5950 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ESelectWeapon):{const ESelectWeapon&eSelect= (ESelectWeapon&)__eeInput;

#line 5953 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 5954 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SelectWeaponChange  (eSelect  . iWeapon );
#line 5955 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_bChangeWeapon ){
#line 5956 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ENetSelectWeapon  eNetSelect ;
#line 5957 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eNetSelect  . iWeapon  = m_iWantedWeapon ;
#line 5958 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SendEvent  (eNetSelect  , TRUE );
#line 5959 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5960 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5961 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5962 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetSelectWeapon):{const ENetSelectWeapon&eNetSelect= (ENetSelectWeapon&)__eeInput;

#line 5975 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5976 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EFireWeapon):{const EFireWeapon&e= (EFireWeapon&)__eeInput;

#line 5979 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 5980 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SendEvent  (ENetFireWeapon  () , TRUE );
#line 5981 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 5982 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5983 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetFireWeapon):{const ENetFireWeapon&e= (ENetFireWeapon&)__eeInput;

#line 5985 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Fire, TRUE, EVoid());return TRUE;
#line 5986 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EReloadWeapon):
#line 5989 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{const EReloadWeapon&e= (EReloadWeapon&)__eeInput;

#line 5996 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5997 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetReloadWeapon):{const ENetReloadWeapon&e= (ENetReloadWeapon&)__eeInput;

#line 5999 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Reload, TRUE, EVoid());return TRUE;
#line 6000 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EBoringWeapon):{const EBoringWeapon&e= (EBoringWeapon&)__eeInput;

#line 6003 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Call(STATE_CURRENT, STATE_CPlayerWeapons_BoringWeaponAnimation, TRUE, EVoid());return TRUE;
#line 6004 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;default: return FALSE; break;
#line 6005 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x01920032_Idle_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920032
 ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 6009 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Stopped(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Stopped
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Stopped expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 6019 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ResetWeaponMovingOffset  ();
#line 6020 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 6021 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Stop  ();
#line 6022 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon1  . Stop  ();
#line 6023 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon2  . Stop  ();
#line 6024 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon3  . Stop  ();
#line 6025 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_NONE  , 0);
#line 6026 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x01920034, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920034_Stopped_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920034
switch(__eeInput.ee_slEvent){case(EVENTCODE_EPostLevelChange):{const EPostLevelChange&e= (EPostLevelChange&)__eeInput;
Return(STATE_CURRENT,EBegin  ());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_EStart):{const EStart&e= (EStart&)__eeInput;
Return(STATE_CURRENT,EBegin  ());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_ENetReleaseWeapon):{const ENetReleaseWeapon&e= (ENetReleaseWeapon&)__eeInput;

#line 6031 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = FALSE ;
#line 6032 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6033 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;default:{return TRUE;}ASSERT(FALSE);break;
#line 6035 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x01920035_Stopped_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920035
 ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 6043 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Main(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Main
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EWeaponsInit, "CPlayerWeapons::Main expects 'EWeaponsInit' as input!");  const EWeaponsInit &eInit = (const EWeaponsInit &)__eeInput;
#line 6045 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ASSERT  ((CEntity  *) eInit  . eidOwner  != NULL );
#line 6046 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_penPlayer  = eInit  . eidOwner ;
#line 6047 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_iPlayerID  = ((CEntity  *) m_penPlayer ) -> en_ulID ;
#line 6050 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
InitAsVoid  ();
#line 6051 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetFlags  (GetFlags  () | ENF_CROSSESLEVELS  | ENF_NOTIFYLEVELCHANGE );
#line 6052 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetPhysicsFlags  (EPF_MODEL_IMMATERIAL );
#line 6053 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetCollisionFlags  (ECF_IMMATERIAL );
#line 6054 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetFlagOn  (ENF_CLIENTHANDLING );
#line 6060 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
PlayDefaultAnim  ();
#line 6062 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x01920036, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920036_Main_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920036
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;
Call(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_ESelectWeapon):
#line 6066 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
{const ESelectWeapon&eSelect= (ESelectWeapon&)__eeInput;

#line 6067 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 6068 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SelectWeaponChange  (eSelect  . iWeapon );
#line 6069 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(m_bChangeWeapon ){
#line 6070 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
ENetSelectWeapon  eNetSelect ;
#line 6071 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
eNetSelect  . iWeapon  = m_iWantedWeapon ;
#line 6072 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SendEvent  (eNetSelect  , TRUE );
#line 6073 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 6074 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 6075 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6076 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetSelectWeapon):{const ENetSelectWeapon&eNetSelect= (ENetSelectWeapon&)__eeInput;

#line 6089 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6090 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EPreLevelChange):{const EPreLevelChange&e= (EPreLevelChange&)__eeInput;

#line 6094 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = FALSE ;
#line 6095 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Call(STATE_CURRENT, STATE_CPlayerWeapons_Stopped, TRUE, EVoid());return TRUE;
#line 6096 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6097 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EFireWeapon):{const EFireWeapon&e= (EFireWeapon&)__eeInput;

#line 6099 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 6100 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SendEvent  (ENetFireWeapon  () , TRUE );
#line 6101 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}
#line 6102 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6103 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetFireWeapon):{const ENetFireWeapon&e= (ENetFireWeapon&)__eeInput;

#line 6106 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = TRUE ;
#line 6107 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6108 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EReleaseWeapon):{const EReleaseWeapon&e= (EReleaseWeapon&)__eeInput;

#line 6112 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SendEvent  (ENetReleaseWeapon  () , TRUE );
#line 6113 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6114 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetReleaseWeapon):{const ENetReleaseWeapon&e= (ENetReleaseWeapon&)__eeInput;

#line 6116 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = FALSE ;
#line 6117 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6118 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EReloadWeapon):{const EReloadWeapon&e= (EReloadWeapon&)__eeInput;

#line 6121 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
SendEvent  (ENetReloadWeapon  () , TRUE );
#line 6122 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6123 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetReloadWeapon):{const ENetReloadWeapon&e= (ENetReloadWeapon&)__eeInput;

#line 6125 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
m_bReloadWeapon  = TRUE ;
#line 6126 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6127 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EStop):{const EStop&e= (EStop&)__eeInput;
Call(STATE_CURRENT, STATE_CPlayerWeapons_Stopped, TRUE, EVoid());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_EEnd):{const EEnd&e= (EEnd&)__eeInput;
UnsetTimer();Jump(STATE_CURRENT,0x01920037, FALSE, EInternal());return TRUE;}ASSERT(FALSE);break;default: return FALSE; break;
#line 6130 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x01920037_Main_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920037

#line 6133 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Destroy  (FALSE );
#line 6134 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EVoid());
#line 6134 "E:/질산/Korea/Client_USA/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};