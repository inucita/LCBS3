/*
 * This file is generated by Entity Class Compiler, (c) CroTeam 1997-98
 */

#line 2 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"

#include "StdH.h"
#include "GameMP/SEColors.h"
  
#include <Engine/Build.h>

#include <Engine/Interface/UIManager.h>
#include <Engine/Interface/UIMouseCursor.h>
// [KH_070420] 심플 팝업 관련 추가
#include <Engine/Interface/UISimplePop.h>
#include <Engine/GlobalDefinition.h>
#include <Engine/Network/Web.h>
#include <Engine/Help/Util_Help.h>

#include "EntitiesMP/Player.h"
#include "EntitiesMP/Bullet.h"
#include "EntitiesMP/Switch.h"
#include "EntitiesMP/PlayerView.h"
#include "EntitiesMP/PlayerAnimator.h"
#include "EntitiesMP/MovingBrush.h"
#include "EntitiesMP/MessageHolder.h"
#include "EntitiesMP/EnemyBase.h"
//#include "EntitiesMP/SeriousBomb.h"
//#include "EntitiesMP/Elemental.h"
//#include "EntitiesMP/Beast.h"
//#include "EntitiesMP/Gizmo.h"
//#include "EntitiesMP/LarvaOffspring.h"

//#include "EntitiesMP/ExotechLarva.h"
//#include "EntitiesMP/AirElemental.h"
//#include "EntitiesMP/BigHead.h"
//#include "EntitiesMP/CrateRider.h"
//#include "EntitiesMP/Santa.h"
//#include "EntitiesMP/Summoner.h"
//#include "EntitiesMP/Boneman.h"
//#include "EntitiesMP/Woman.h"
//#include "EntitiesMP/Walker.h"
//#include "EntitiesMP/CannonRotating.h"
//#include "EntitiesMP/CannonStatic.h"

#include "Models/Weapons/Knife/Knife.h"
//#include "Models/Weapons/Knife/KnifeItem.h"
//#include "Models/Weapons/Colt/Colt.h"
//#include "Models/Weapons/Colt/ColtMain.h"
//#include "Models/Weapons/SingleShotgun/SingleShotgun.h"
//#include "Models/Weapons/SingleShotgun/Barrels.h"
//#include "Models/Weapons/DoubleShotgun/DoubleShotgun.h"
//#include "Models/Weapons/DoubleShotgun/Dshotgunbarrels.h"
//#include "Models/Weapons/DoubleShotgun/HandWithAmmo.h"
//#include "Models/Weapons/TommyGun/TommyGun.h"
//#include "Models/Weapons/TommyGun/Body.h"
//#include "Models/Weapons/MiniGun/MiniGun.h"
//#include "Models/Weapons/MiniGun/Body.h"
//#include "Models/Weapons/GrenadeLauncher/GrenadeLauncher.h"
//#include "Models/Weapons/RocketLauncher/RocketLauncher.h"
//#include "Models/Weapons/Laser/Laser.h"
//#include "Models/Weapons/Laser/Barrel.h"
//#include "Models/Weapons/Cannon/Cannon.h"
//#include "Models/Weapons/Cannon/Body.h"
// Mission Pack weapons
//#include "ModelsMP/Weapons/Sniper/Sniper.h"
//#include "ModelsMP/Weapons/Sniper/Body.h"
//#include "ModelsMP/Weapons/Flamer/Flamer.h"
//#include "ModelsMP/Weapons/Flamer/Body.h"
//#include "ModelsMP/Weapons/Flamer/FuelReservoir.h"
//#include "ModelsMP/Weapons/Flamer/Flame.h"  
#include "ModelsMP/Weapons/Chainsaw/Chainsaw.h"
#include "ModelsMP/Weapons/Chainsaw/ChainSawForPlayer.h"
#include "ModelsMP/Weapons/Chainsaw/Body.h"
#include "ModelsMP/Weapons/Chainsaw/Blade.h"
#include "ModelsMP/Weapons/Chainsaw/Teeth.h"

// Mission Pack player body instead of the old one
#include "ModelsMP/Player/SeriousSam/Body.h"
#include "ModelsMP/Player/SeriousSam/Player.h"

ENGINE_API extern cWeb g_web;
extern INDEX hud_bShowWeapon;

extern const INDEX aiWeaponsRemap[19] = { 0,  1,  10,  2,  3,  4,  5,  6,  7,
                                          8,  9,  11, 13, 12, 14, 15, 16, 17, 18 };

#include <PlayerWeapons.h>
#include <PlayerWeapons_tables.h>
CEntityEvent *EWeaponsInit::MakeCopy(void) { 	CEntityEvent *peeCopy = new EWeaponsInit(*this); 	return peeCopy;}
SLONG EWeaponsInit::GetSizeOf(void) { 	return sizeof(*this);}
EWeaponsInit::EWeaponsInit() : CEntityEvent(EVENTCODE_EWeaponsInit) {
	ClearToDefault(eidOwner);
}
BOOL EWeaponsInit::CheckIDs(void) {	return TRUE && eidOwner.IsValid(); }

CEntityEvent *ESelectWeapon::MakeCopy(void) { 	CEntityEvent *peeCopy = new ESelectWeapon(*this); 	return peeCopy;}
SLONG ESelectWeapon::GetSizeOf(void) { 	return sizeof(*this);}
ESelectWeapon::ESelectWeapon() : CEntityEvent(EVENTCODE_ESelectWeapon) {
	ClearToDefault(iWeapon);
}
BOOL ESelectWeapon::CheckIDs(void) {	return TRUE ; }

CEntityEvent *EBoringWeapon::MakeCopy(void) { 	CEntityEvent *peeCopy = new EBoringWeapon(*this); 	return peeCopy;}
SLONG EBoringWeapon::GetSizeOf(void) { 	return sizeof(*this);}
EBoringWeapon::EBoringWeapon() : CEntityEvent(EVENTCODE_EBoringWeapon) {
}
BOOL EBoringWeapon::CheckIDs(void) {	return TRUE ; }

CEntityEvent *EFireWeapon::MakeCopy(void) { 	CEntityEvent *peeCopy = new EFireWeapon(*this); 	return peeCopy;}
SLONG EFireWeapon::GetSizeOf(void) { 	return sizeof(*this);}
EFireWeapon::EFireWeapon() : CEntityEvent(EVENTCODE_EFireWeapon) {
}
BOOL EFireWeapon::CheckIDs(void) {	return TRUE ; }

CEntityEvent *EReleaseWeapon::MakeCopy(void) { 	CEntityEvent *peeCopy = new EReleaseWeapon(*this); 	return peeCopy;}
SLONG EReleaseWeapon::GetSizeOf(void) { 	return sizeof(*this);}
EReleaseWeapon::EReleaseWeapon() : CEntityEvent(EVENTCODE_EReleaseWeapon) {
}
BOOL EReleaseWeapon::CheckIDs(void) {	return TRUE ; }

CEntityEvent *EReloadWeapon::MakeCopy(void) { 	CEntityEvent *peeCopy = new EReloadWeapon(*this); 	return peeCopy;}
SLONG EReloadWeapon::GetSizeOf(void) { 	return sizeof(*this);}
EReloadWeapon::EReloadWeapon() : CEntityEvent(EVENTCODE_EReloadWeapon) {
}
BOOL EReloadWeapon::CheckIDs(void) {	return TRUE ; }

CEntityEvent *EWeaponChanged::MakeCopy(void) { 	CEntityEvent *peeCopy = new EWeaponChanged(*this); 	return peeCopy;}
SLONG EWeaponChanged::GetSizeOf(void) { 	return sizeof(*this);}
EWeaponChanged::EWeaponChanged() : CEntityEvent(EVENTCODE_EWeaponChanged) {
}
BOOL EWeaponChanged::CheckIDs(void) {	return TRUE ; }

CEntityEvent *ENetSelectWeapon::MakeCopy(void) { 	CEntityEvent *peeCopy = new ENetSelectWeapon(*this); 	return peeCopy;}
SLONG ENetSelectWeapon::GetSizeOf(void) { 	return sizeof(*this);}
ENetSelectWeapon::ENetSelectWeapon() : CEntityEvent(EVENTCODE_ENetSelectWeapon) {
	ClearToDefault(iWeapon);
}
BOOL ENetSelectWeapon::CheckIDs(void) {	return TRUE ; }

CEntityEvent *ENetFireWeapon::MakeCopy(void) { 	CEntityEvent *peeCopy = new ENetFireWeapon(*this); 	return peeCopy;}
SLONG ENetFireWeapon::GetSizeOf(void) { 	return sizeof(*this);}
ENetFireWeapon::ENetFireWeapon() : CEntityEvent(EVENTCODE_ENetFireWeapon) {
}
BOOL ENetFireWeapon::CheckIDs(void) {	return TRUE ; }

CEntityEvent *ENetReleaseWeapon::MakeCopy(void) { 	CEntityEvent *peeCopy = new ENetReleaseWeapon(*this); 	return peeCopy;}
SLONG ENetReleaseWeapon::GetSizeOf(void) { 	return sizeof(*this);}
ENetReleaseWeapon::ENetReleaseWeapon() : CEntityEvent(EVENTCODE_ENetReleaseWeapon) {
}
BOOL ENetReleaseWeapon::CheckIDs(void) {	return TRUE ; }

CEntityEvent *ENetReloadWeapon::MakeCopy(void) { 	CEntityEvent *peeCopy = new ENetReloadWeapon(*this); 	return peeCopy;}
SLONG ENetReloadWeapon::GetSizeOf(void) { 	return sizeof(*this);}
ENetReloadWeapon::ENetReloadWeapon() : CEntityEvent(EVENTCODE_ENetReloadWeapon) {
}
BOOL ENetReloadWeapon::CheckIDs(void) {	return TRUE ; }

#line 157 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"

// AVAILABLE WEAPON MASK
#define WEAPONS_ALLAVAILABLEMASK 0x3FFF

/*
#if BUILD_TEST
  #define WEAPONS_DISABLEDMASK (\
    (1<<(WEAPON_TOMMYGUN       -1))|\
    (1<<(WEAPON_GRENADELAUNCHER-1))|\
    (1<<(WEAPON_PIPEBOMB       -1))|\
    (1<<(WEAPON_FLAMER         -1))|\
    (1<<(WEAPON_LASER          -1))|\
    (1<<(WEAPON_GHOSTBUSTER    -1))|\
    (1<<(WEAPON_IRONCANNON     -1))|\
    (1<<(WEAPON_NUKECANNON     -1)))
#else 
  #define WEAPONS_DISABLEDMASK (0)
#endif
  */

#define MAX_WEAPONS 30


// MiniGun specific
	/*
#define MINIGUN_STATIC      0
#define MINIGUN_FIRE        1
#define MINIGUN_SPINUP      2
#define MINIGUN_SPINDOWN    3

#define MINIGUN_SPINUPTIME      0.5f
#define MINIGUN_SPINDNTIME      3.0f
#define MINIGUN_SPINUPSOUND     0.5f
#define MINIGUN_SPINDNSOUND     1.5f
#define MINIGUN_FULLSPEED       500.0f
#define MINIGUN_SPINUPACC       (MINIGUN_FULLSPEED/MINIGUN_SPINUPTIME)
#define MINIGUN_SPINDNACC       (MINIGUN_FULLSPEED/MINIGUN_SPINDNTIME)
#define MINIGUN_TICKTIME        (_pTimer->TickQuantum)
  */

// chainsaw specific
#define CHAINSAW_UPDATETIME     0.05f

// fire flare specific
#define FLARE_REMOVE 1
#define FLARE_ADD 2

// animation light specific
#define LIGHT_ANIM_MINIGUN 2
//#define LIGHT_ANIM_TOMMYGUN 3
#define LIGHT_ANIM_COLT_SHOTGUN 4
#define LIGHT_ANIM_NONE 5


// mana for ammo adjustment (multiplier)
#define MANA_AMMO (0.1f)

// position of weapon model -- weapon 0 is never used
static FLOAT wpn_fH[MAX_WEAPONS+1];
static FLOAT wpn_fP[MAX_WEAPONS+1];
static FLOAT wpn_fB[MAX_WEAPONS+1];
static FLOAT wpn_fX[MAX_WEAPONS+1];
static FLOAT wpn_fY[MAX_WEAPONS+1];
static FLOAT wpn_fZ[MAX_WEAPONS+1];
static FLOAT wpn_fFOV[MAX_WEAPONS+1];
static FLOAT wpn_fClip[MAX_WEAPONS+1];
static FLOAT wpn_fFX[MAX_WEAPONS+1];  // firing source
static FLOAT wpn_fFY[MAX_WEAPONS+1];
//static FLOAT wpn_fFZ[MAX_WEAPONS+1];
static INDEX wpn_iCurrent;
extern FLOAT hud_tmWeaponsOnScreen;

//0312 kwon
static INDEX _height;
static INDEX _width;

/*
// bullet positions
static FLOAT afSingleShotgunPellets[] =
{     -0.3f,+0.1f,    +0.0f,+0.1f,   +0.3f,+0.1f,
  -0.4f,-0.1f,  -0.1f,-0.1f,  +0.1f,-0.1f,  +0.4f,-0.1f
};
static FLOAT afDoubleShotgunPellets[] =
{
      -0.3f,+0.15f, +0.0f,+0.15f, +0.3f,+0.15f,
  -0.4f,+0.05f, -0.1f,+0.05f, +0.1f,+0.05f, +0.4f,+0.05f,
      -0.3f,-0.05f, +0.0f,-0.05f, +0.3f,-0.05f,
  -0.4f,-0.15f, -0.1f,-0.15f, +0.1f,-0.15f, +0.4f,-0.15f
};
*/

// sniper discrete zoom values - 4 (1x,2x,4x,6x)
// synchronize this with sniper properties (properties 233-237)
//static INDEX iSniperDiscreteZoomLevels = 4;
/*
static FLOAT afSniperZoom[] =
{
      90.0f,1.0f, 53.1f, 2.0f, 28.0f,4.0f, 14.2f,6.0f, 
       //7.2f,8.0f, 3.56f,10.0f ,1.8f,12.0f
};
*/

// crosshair console variables
static INDEX hud_bCrosshairFixed    = FALSE;
static INDEX hud_bCrosshairColoring = TRUE;
static FLOAT hud_fCrosshairScale    = 1.0f;
static FLOAT hud_fCrosshairOpacity  = 1.0f;
static FLOAT hud_fCrosshairRatio    = 0.5f;  // max distance size ratio
// misc HUD vars
static INDEX hud_bShowPlayerName = TRUE;
static INDEX hud_bShowCoords     = FALSE;
static FLOAT plr_tmSnoopingDelay = 1.0f; // seconds 
extern FLOAT plr_tmSnoopingTime  = 1.0f; // seconds 

// some static vars
static INDEX _iLastCrosshairType=-1;
static CTextureObject _toCrosshair;

// must do this to keep dependency catcher happy
/*
// deleted by seo
CTFileName fn1 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair1.tex");
CTFileName fn2 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair2.tex");
CTFileName fn3 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair3.tex");
CTFileName fn4 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair4.tex");
CTFileName fn5 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair5.tex");
CTFileName fn6 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair6.tex");
CTFileName fn7 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair7.tex");
*/

void CPlayerWeapons_Precache(ULONG ulAvailable)
{
  CDLLEntityClass *pdec = &CPlayerWeapons_DLLClass;

  // precache general stuff always
  /*
  // deleted by seo
  pdec->PrecacheTexture(TEX_REFL_BWRIPLES01      );
  pdec->PrecacheTexture(TEX_REFL_BWRIPLES02      );
  pdec->PrecacheTexture(TEX_REFL_LIGHTMETAL01    );
  pdec->PrecacheTexture(TEX_REFL_LIGHTBLUEMETAL01);
  pdec->PrecacheTexture(TEX_REFL_DARKMETAL       );
  pdec->PrecacheTexture(TEX_REFL_PURPLE01        );
  pdec->PrecacheTexture(TEX_SPEC_WEAK            );
  pdec->PrecacheTexture(TEX_SPEC_MEDIUM          );
  pdec->PrecacheTexture(TEX_SPEC_STRONG          );
  pdec->PrecacheTexture(TEXTURE_HAND             );
  pdec->PrecacheTexture(TEXTURE_FLARE01          );
  pdec->PrecacheModel(MODEL_FLARE01);
  pdec->PrecacheClass(CLASS_BULLET);
  pdec->PrecacheClass(CLASS_WEAPONITEM);
  pdec->PrecacheClass(CLASS_PROJECTILE, PRT_ROCKET); 

  // precache other weapons if available
  if ( ulAvailable&(1<<(WEAPON_KNIFE-1)) ) {
    pdec->PrecacheModel(MODEL_KNIFE                 );
    pdec->PrecacheModel(MODEL_KNIFEITEM             );
    pdec->PrecacheTexture(TEXTURE_KNIFEITEM         );
    pdec->PrecacheSound(SOUND_KNIFE_BACK            );
    pdec->PrecacheSound(SOUND_KNIFE_HIGH            );
    pdec->PrecacheSound(SOUND_KNIFE_LONG            );
    pdec->PrecacheSound(SOUND_KNIFE_LOW             );
  }

  if ( ulAvailable&(1<<(WEAPON_COLT-1)) ) {
    pdec->PrecacheModel(MODEL_COLT                  );
    pdec->PrecacheModel(MODEL_COLTCOCK              );
    pdec->PrecacheModel(MODEL_COLTMAIN              );
    pdec->PrecacheModel(MODEL_COLTBULLETS           );
    pdec->PrecacheTexture(TEXTURE_COLTMAIN          );  
    pdec->PrecacheTexture(TEXTURE_COLTCOCK          );  
    pdec->PrecacheTexture(TEXTURE_COLTBULLETS       );  
    pdec->PrecacheSound(SOUND_COLT_FIRE             );
    pdec->PrecacheSound(SOUND_COLT_RELOAD           );
  }

  if ( ulAvailable&(1<<(WEAPON_SINGLESHOTGUN-1)) ) {
    pdec->PrecacheModel(MODEL_SINGLESHOTGUN     );    
    pdec->PrecacheModel(MODEL_SS_SLIDER         );    
    pdec->PrecacheModel(MODEL_SS_HANDLE         );    
    pdec->PrecacheModel(MODEL_SS_BARRELS        );    
    pdec->PrecacheTexture(TEXTURE_SS_HANDLE     );    
    pdec->PrecacheTexture(TEXTURE_SS_BARRELS    );    
    pdec->PrecacheSound(SOUND_SINGLESHOTGUN_FIRE);    
  }

  if ( ulAvailable&(1<<(WEAPON_DOUBLESHOTGUN-1)) ) {
    pdec->PrecacheModel(MODEL_DOUBLESHOTGUN        ); 
    pdec->PrecacheModel(MODEL_DS_HANDLE            ); 
    pdec->PrecacheModel(MODEL_DS_BARRELS           ); 
    pdec->PrecacheModel(MODEL_DS_AMMO              ); 
    pdec->PrecacheModel(MODEL_DS_SWITCH            ); 
    pdec->PrecacheModel(MODEL_DS_HANDWITHAMMO      ); 
    pdec->PrecacheTexture(TEXTURE_DS_HANDLE        );   
    pdec->PrecacheTexture(TEXTURE_DS_BARRELS       );   
    pdec->PrecacheTexture(TEXTURE_DS_AMMO          );   
    pdec->PrecacheTexture(TEXTURE_DS_SWITCH        );   
    pdec->PrecacheSound(SOUND_DOUBLESHOTGUN_FIRE   ); 
    pdec->PrecacheSound(SOUND_DOUBLESHOTGUN_RELOAD ); 
  }

  if ( ulAvailable&(1<<(WEAPON_TOMMYGUN-1)) ) {
    pdec->PrecacheModel(MODEL_TOMMYGUN              );
    pdec->PrecacheModel(MODEL_TG_BODY               );
    pdec->PrecacheModel(MODEL_TG_SLIDER             );
    pdec->PrecacheTexture(TEXTURE_TG_BODY           );  
    pdec->PrecacheSound(SOUND_TOMMYGUN_FIRE         );
  }

  if ( ulAvailable&(1<<(WEAPON_SNIPER-1)) ) {
    pdec->PrecacheModel(MODEL_SNIPER          ); 
    pdec->PrecacheModel(MODEL_SNIPER_BODY     ); 
    pdec->PrecacheTexture(TEXTURE_SNIPER_BODY );   
    pdec->PrecacheSound(SOUND_SNIPER_FIRE     ); 
  }

  if ( ulAvailable&(1<<(WEAPON_MINIGUN-1)) ) {
    pdec->PrecacheModel(MODEL_MINIGUN          );     
    pdec->PrecacheModel(MODEL_MG_BARRELS       );     
    pdec->PrecacheModel(MODEL_MG_BODY          );     
    pdec->PrecacheModel(MODEL_MG_ENGINE        );     
    pdec->PrecacheTexture(TEXTURE_MG_BODY      );       
    pdec->PrecacheTexture(TEXTURE_MG_BARRELS   );       
    pdec->PrecacheSound(SOUND_MINIGUN_FIRE     );     
    pdec->PrecacheSound(SOUND_MINIGUN_ROTATE   );     
    pdec->PrecacheSound(SOUND_MINIGUN_SPINUP   );     
    pdec->PrecacheSound(SOUND_MINIGUN_SPINDOWN );     
    pdec->PrecacheSound(SOUND_MINIGUN_CLICK    );     
  }
                                         
  if ( ulAvailable&(1<<(WEAPON_ROCKETLAUNCHER-1)) ) {
    pdec->PrecacheModel(MODEL_ROCKETLAUNCHER     );   
    pdec->PrecacheModel(MODEL_RL_BODY            );   
    pdec->PrecacheModel(MODEL_RL_ROTATINGPART    );   
    pdec->PrecacheModel(MODEL_RL_ROCKET          );   
    pdec->PrecacheTexture(TEXTURE_RL_BODY        );     
    pdec->PrecacheTexture(TEXTURE_RL_ROCKET      );     
    pdec->PrecacheSound(SOUND_ROCKETLAUNCHER_FIRE);   
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_ROCKET);
  }                                        

  if ( ulAvailable&(1<<(WEAPON_GRENADELAUNCHER-1)) ) {
    pdec->PrecacheModel(MODEL_GRENADELAUNCHER       ); 
    pdec->PrecacheModel(MODEL_GL_BODY               ); 
    pdec->PrecacheModel(MODEL_GL_MOVINGPART         ); 
    pdec->PrecacheModel(MODEL_GL_GRENADE            ); 
    pdec->PrecacheTexture(TEXTURE_GL_BODY           );   
    pdec->PrecacheTexture(TEXTURE_GL_MOVINGPART     );
    pdec->PrecacheSound(SOUND_GRENADELAUNCHER_FIRE ); 
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_GRENADE);
  }
*/
/*
  if ( ulAvailable&(1<<(WEAPON_PIPEBOMB-1)) ) {
    pdec->PrecacheModel(MODEL_PIPEBOMB_STICK        );
    pdec->PrecacheModel(MODEL_PIPEBOMB_HAND         );
    pdec->PrecacheModel(MODEL_PB_BUTTON             );
    pdec->PrecacheModel(MODEL_PB_SHIELD             );
    pdec->PrecacheModel(MODEL_PB_STICK              );
    pdec->PrecacheModel(MODEL_PB_BOMB               );
    pdec->PrecacheTexture(TEXTURE_PB_STICK          );  
    pdec->PrecacheTexture(TEXTURE_PB_BOMB           );  
    pdec->PrecacheSound(SOUND_PIPEBOMB_FIRE         );
    pdec->PrecacheSound(SOUND_PIPEBOMB_OPEN         );
    pdec->PrecacheSound(SOUND_PIPEBOMB_THROW        );
    pdec->PrecacheClass(CLASS_PIPEBOMB);
  }
*/
  // deleted by seo
  /*if ( ulAvailable&(1<<(WEAPON_CHAINSAW-1))) {
    pdec->PrecacheModel(MODEL_CHAINSAW     );
    pdec->PrecacheModel(MODEL_CS_BODY      );
    pdec->PrecacheModel(MODEL_CS_BLADE     );
    pdec->PrecacheModel(MODEL_CS_TEETH     );
    pdec->PrecacheTexture(TEXTURE_CS_BODY  );  
    pdec->PrecacheTexture(TEXTURE_CS_BLADE );  
    pdec->PrecacheTexture(TEXTURE_CS_TEETH );              
    pdec->PrecacheSound(SOUND_CS_FIRE      );
    pdec->PrecacheSound(SOUND_CS_BEGINFIRE );
    pdec->PrecacheSound(SOUND_CS_ENDFIRE   );
    pdec->PrecacheSound(SOUND_CS_BRINGUP   );
    pdec->PrecacheSound(SOUND_CS_BRINGDOWN );
    pdec->PrecacheSound(SOUND_CS_IDLE      );
  }

  if ( ulAvailable&(1<<(WEAPON_FLAMER-1)) ) {
    pdec->PrecacheModel(MODEL_FLAMER      );
    pdec->PrecacheModel(MODEL_FL_BODY     );
    pdec->PrecacheModel(MODEL_FL_RESERVOIR);
    pdec->PrecacheModel(MODEL_FL_FLAME    );
    pdec->PrecacheTexture(TEXTURE_FL_BODY );  
    pdec->PrecacheTexture(TEXTURE_FL_FLAME);  
    pdec->PrecacheTexture(TEXTURE_FL_FUELRESERVOIR);  
    pdec->PrecacheSound(SOUND_FL_FIRE     );
    pdec->PrecacheSound(SOUND_FL_START    );
    pdec->PrecacheSound(SOUND_FL_STOP     );
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_FLAME);
  }


  if ( ulAvailable&(1<<(WEAPON_LASER-1)) ) {
    pdec->PrecacheModel(MODEL_LASER     );
    pdec->PrecacheModel(MODEL_LS_BODY   );
    pdec->PrecacheModel(MODEL_LS_BARREL );
    pdec->PrecacheTexture(TEXTURE_LS_BODY  );  
    pdec->PrecacheTexture(TEXTURE_LS_BARREL);  
    pdec->PrecacheSound(SOUND_LASER_FIRE);
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_LASER_RAY);
  }
  */
/*
  if ( ulAvailable&(1<<(WEAPON_GHOSTBUSTER-1)) ) {
    pdec->PrecacheModel(MODEL_GHOSTBUSTER     );
    pdec->PrecacheModel(MODEL_GB_BODY         );
    pdec->PrecacheModel(MODEL_GB_ROTATOR      );
    pdec->PrecacheModel(MODEL_GB_EFFECT1      );
    pdec->PrecacheModel(MODEL_GB_EFFECT1FLARE );
    pdec->PrecacheTexture(TEXTURE_GB_ROTATOR  );  
    pdec->PrecacheTexture(TEXTURE_GB_BODY     );  
    pdec->PrecacheTexture(TEXTURE_GB_LIGHTNING);  
    pdec->PrecacheTexture(TEXTURE_GB_FLARE    );  
    pdec->PrecacheSound(SOUND_GB_FIRE         );
    pdec->PrecacheClass(CLASS_GHOSTBUSTERRAY);
  }
  */
/*
  // deleted by seo
  if ( ulAvailable&(1<<(WEAPON_IRONCANNON-1)) ||
       ulAvailable&(1<<(WEAPON_NUKECANNON-1)) ) {
    pdec->PrecacheModel(MODEL_CANNON    );
    pdec->PrecacheModel(MODEL_CN_BODY   );
//    pdec->PrecacheModel(MODEL_CN_NUKEBOX);
    pdec->PrecacheTexture(TEXTURE_CANNON);
    pdec->PrecacheSound(SOUND_CANNON    );
    pdec->PrecacheSound(SOUND_CANNON_PREPARE);
    pdec->PrecacheClass(CLASS_CANNONBALL);
  }
  */

  // precache animator too
  extern void CPlayerAnimator_Precache(ULONG ulAvailable);
  CPlayerAnimator_Precache(ulAvailable);
  extern void CProjectile_PrecacheForPlayer(void); 
  CProjectile_PrecacheForPlayer();

}

void CPlayerWeapons_Init(void) {
  // declare weapon position controls
  _pShell->DeclareSymbol("user INDEX wpn_iCurrent;", &wpn_iCurrent);

  #include "Common/WeaponPositions.h"
  
  // declare crosshair and its coordinates
  _pShell->DeclareSymbol("persistent user INDEX hud_bCrosshairFixed;",    &hud_bCrosshairFixed);
  _pShell->DeclareSymbol("persistent user INDEX hud_bCrosshairColoring;", &hud_bCrosshairColoring);
  _pShell->DeclareSymbol("persistent user FLOAT hud_fCrosshairScale;",    &hud_fCrosshairScale);
  _pShell->DeclareSymbol("persistent user FLOAT hud_fCrosshairRatio;",    &hud_fCrosshairRatio);
  _pShell->DeclareSymbol("persistent user FLOAT hud_fCrosshairOpacity;",  &hud_fCrosshairOpacity);
                                  
  _pShell->DeclareSymbol("persistent user INDEX hud_bShowPlayerName;", &hud_bShowPlayerName);
  _pShell->DeclareSymbol("persistent user INDEX hud_bShowCoords;",     &hud_bShowCoords);

  _pShell->DeclareSymbol("persistent user FLOAT plr_tmSnoopingTime;",  &plr_tmSnoopingTime);
  _pShell->DeclareSymbol("persistent user FLOAT plr_tmSnoopingDelay;", &plr_tmSnoopingDelay);

  // precache base weapons
  CPlayerWeapons_Precache(0x03);
}

// weapons positions for raycasting and firing
/*
static FLOAT afKnifePos[4] = { -0.01f, 0.25f, 0.0f};
static FLOAT afColtPos[4] = { -0.01f, 0.1f, 0.0f};
static FLOAT afDoubleColtPos[4] = { -0.01f, 0.1f, 0.0f};
static FLOAT afSingleShotgunPos[4] = { 0.0f, 0.1f, 0.0f};
static FLOAT afDoubleShotgunPos[4] = {  0.0f, 0.1f, 0.0f};
static FLOAT afTommygunPos[4] = { 0.0f, 0.1f, 0.0f};
static FLOAT afMinigunPos[4] = { 0.0f, -0.075f, 0.0f};
static FLOAT afRocketLauncherPos[4] = { -0.175f, 0.19f, -0.23f};
static FLOAT afGrenadeLauncherPos[4] = { 0.0f, 0.16f, -1.42f};
static FLOAT afPipebombPos[4] = { 0.01f, 0.04f, -0.44f};
static FLOAT afFlamerPos[4] = { 0.0f, 0.18f, -0.62f};
static FLOAT afLaserPos[4] = {  0.0f, -0.095f, -0.65f};
static FLOAT afGhostBusterPos[4] = { 0.0f, 0.0f, -0.74f};
static FLOAT afCannonPos[4] = { 0.0f, 0.0f, -0.74f};
*/

// extra weapon positions for shells dropout
//static FLOAT afSingleShotgunShellPos[3] = { 0.2f, 0.0f, -0.31f};
//static FLOAT afDoubleShotgunShellPos[3] = { 0.0f, 0.0f, -0.5f};
//static FLOAT afTommygunShellPos[3] = { 0.2f, 0.0f, -0.31f};
//static FLOAT afMinigunShellPos[3] = { 0.2f, 0.0f, -0.31f};
//static FLOAT afMinigunShellPos3rdView[3] = { 0.2f, 0.2f, -0.31f};
//static FLOAT afSniperShellPos[3] = { 0.2f, 0.0f, -0.15f};

//static FLOAT afRightColtPipe[3] = { 0.07f, -0.05f, -0.26f};
//static FLOAT afSingleShotgunPipe[3] = { 0.2f, 0.0f, -1.25f};
//static FLOAT afDoubleShotgunPipe[3] = { 0.2f, 0.0f, -1.25f};
//static FLOAT afTommygunPipe[3] = { -0.06f, 0.1f, -0.6f};
//static FLOAT afMinigunPipe[3] = { -0.06f, 0.0f, -0.6f};
//static FLOAT afMinigunPipe3rdView[3] = { 0.25f, 0.3f, -2.5f};

//static FLOAT afLaserPos[4] = {  0.0f, -0.095f, -0.65f};
//static FLOAT afLaser1Pos[4] = { -0.115f, -0.05f, -0.65f};
//static FLOAT afLaser2Pos[4] = {  0.115f, -0.05f, -0.65f};
//static FLOAT afLaser3Pos[4] = { -0.145f, -0.14f, -0.8f};
//static FLOAT afLaser4Pos[4] = {  0.145f, -0.14f, -0.8f};

//#define TM_START m_aMiniGun
//#define F_OFFSET_CHG m_aMiniGunLast
//#define F_TEMP m_aMiniGunSpeed

// decrement ammo taking infinite ammo options in account
void DecAmmo(INDEX &ctAmmo, INDEX iDec = 1)
{
  if (_pNetwork->IsServer()) {
    ctAmmo-=iDec;
  }
}

extern ENGINE_API INDEX g_bSlaveNoTarget;

void CPlayerWeapons::SetDefaultProperties(void) {
	m_penPlayer = NULL;
	m_bFireWeapon = FALSE ;
	m_bHasAmmo = FALSE ;
	m_iCurrentWeapon = WEAPON_KNIFE ;
	m_iWantedWeapon = WEAPON_KNIFE ;
	m_iPreviousWeapon = WEAPON_KNIFE ;
	m_iAvailableWeapons = 0x01;
	m_bChangeWeapon = FALSE ;
	m_bReloadWeapon = FALSE ;
	m_bMirrorFire = FALSE ;
	m_iAnim = 0;
	m_fAnimWaitTime = 0.0f;
	m_tmRangeSoundSpawned = 0.0f;
	m_strLastTarget = "";
	m_tmTargetingStarted = -99.0f;
	m_tmLastTarget = -99.0f;
	m_tmSnoopingStarted = -99.0f;
	m_penTargeting = NULL;
	m_moWeapon.SetData(NULL);
m_moWeapon.mo_toTexture.SetData(NULL);
	m_moWeaponSecond.SetData(NULL);
m_moWeaponSecond.mo_toTexture.SetData(NULL);
	m_tmWeaponChangeRequired = 0.0f;
	m_penRayHit = NULL;
	m_bTargetHitIsUsable = FALSE ;
	m_fRayHitDistance = 100.0f;
	m_vRayHit = FLOAT3D(0 , 0 , 0);
	m_vRayHitLast = FLOAT3D(0 , 0 , 0);
	m_vBulletSource = FLOAT3D(0 , 0 , 0);
	m_vBulletTarget = FLOAT3D(0 , 0 , 0);
	m_iBullets = 0;
	m_iMaxBullets = MAX_BULLETS ;
	m_iShells = 0;
	m_iMaxShells = MAX_SHELLS ;
	m_iNapalm = 0;
	m_iMaxNapalm = MAX_NAPALM ;
	m_iElectricity = 0;
	m_iMaxElectricity = MAX_ELECTRICITY ;
	m_iIronBalls = 0;
	m_iMaxIronBalls = MAX_IRONBALLS ;
	m_iKnifeStand = 1;
	m_iLastBulletPosition = FLOAT3D(32000.0f , 32000.0f , 32000.0f);
	m_iBulletsOnFireStart = 0;
	m_penFlame = NULL;
	m_iLaserBarrel = 0;
	m_iFlare = FLARE_REMOVE ;
	m_iSecondFlare = FLARE_REMOVE ;
	m_fWeaponDrawPowerOld = 0;
	m_fWeaponDrawPower = 0;
	m_tmDrawStartTime = 0.0f;
	m_tmFlamerStart = 1e6;
	m_tmFlamerStop = 1e9;
	m_tmLastChainsawSpray = 0.0f;
	m_penMusicHolder = NULL;
	m_iPlayerID = -1;
	m_bResetWeapon = TRUE ;
	m_vRayHitTmp = FLOAT3D(0 , 0 , 0);
	m_penRayHitTmp = NULL;
	m_fRayHitDistanceTmp = 0.0f;
	m_vRayHitNow = FLOAT3D(0 , 0 , 0);
	m_penRayHitNow = NULL;
	m_fRayHitDistanceNow = 0.0f;
	m_vRayHitReserve = FLOAT3D(0 , 0 , 0);
	m_penRayHitReserve = NULL;
	m_fRayHitDistanceReserve = 0.0f;
	m_penRayHitClick = NULL;
	m_penReservedTarget = NULL;
	m_vRayHitSurfaceNormal = FLOAT3D(0 , 1 , 0);
	m_bPickConditionOk = FALSE ;
	CRationalEntity::SetDefaultProperties();
}

#line 921 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::CheckCharacterMove(CCastRay crRay) 
#line 922 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 927 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL bMoveCheck  = TRUE ;
#line 930 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(CZoneInfo  :: getSingleton  () -> GetZoneType  (g_slZone ) != ZONE_SDUNGEON )
#line 931 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 939 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 941 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_pbpoBrushPolygon  != NULL )
#line 942 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 943 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(crRay  . cr_pbpoBrushPolygon  -> bpo_ubPolygonAttribute )
#line 944 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 945 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case BPOA_NONE : 
#line 946 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case BPOA_UNWALKABLE1F : 
#line 947 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case BPOA_UNWALKABLE2F : 
#line 948 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case BPOA_UNWALKABLE3F : 
#line 949 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case BPOA_UNWALKABLE4F : 
#line 950 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case BPOA_UNWALKABLE5F : 
#line 951 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
bMoveCheck  = FALSE ;
#line 952 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 953 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
default  : 
#line 954 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
bMoveCheck  = TRUE ;
#line 955 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 956 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 957 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 958 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 959 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 961 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return bMoveCheck ;
#line 963 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 965 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlaySound(CSoundObject & so,SLONG idSoundComponent,SLONG slPlayType) 
#line 966 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 967 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ASSERT  (((CEntity  *) m_penPlayer ) != NULL );
#line 969 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! (((CPlayer  *) (CEntity  *) m_penPlayer ) -> IsReapplyingActions  ()) && _pNetwork  -> IsServer  ()){
#line 971 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntity  :: PlaySound  (so  , idSoundComponent  , slPlayType );
#line 972 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 973 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 974 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlaySound(CSoundObject & so,const CTFileName & fnmSound,SLONG slPlayType) 
#line 975 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 976 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ASSERT  (((CEntity  *) m_penPlayer ) != NULL );
#line 977 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! (((CPlayer  *) (CEntity  *) m_penPlayer ) -> IsReapplyingActions  ()) && _pNetwork  -> IsServer  ()){
#line 978 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntity  :: PlaySound  (so  , fnmSound  , slPlayType );
#line 979 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 980 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
void CPlayerWeapons::InitializeFromNet() 
#line 984 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 985 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return ;
#line 986 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1073 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
UWORD CPlayerWeapons::GetWeaponAmmo(INDEX iWeapon) 
#line 1074 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1075 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
UWORD  uwAmmo ;
#line 1076 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
iWeapon  = 0;
#line 1077 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
uwAmmo  = 0;
#line 1120 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
uwAmmo  |= ((UWORD ) iWeapon ) << 11;
#line 1122 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return uwAmmo ;
#line 1123 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1166 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::OnInitialize(const CEntityEvent & eeInput) 
#line 1167 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1168 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penMusicHolder  = _pNetwork  -> GetEntityOfClass  ("MusicHolder" , 0);
#line 1169 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CRationalEntity  :: OnInitialize  (eeInput );
#line 1170 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1172 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::Precache(void) 
#line 1173 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1174 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayerWeapons_Precache  (m_iAvailableWeapons );
#line 1175 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1176 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer * CPlayerWeapons::GetPlayer(void) 
#line 1177 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1178 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ASSERT  (m_penPlayer  != NULL );
#line 1179 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return (CPlayer  *) & * m_penPlayer ;
#line 1180 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1181 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator * CPlayerWeapons::GetAnimator(void) 
#line 1182 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1183 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ASSERT  (m_penPlayer  != NULL );
#line 1184 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return ((CPlayerAnimator  *) & * ((CPlayer  &) * m_penPlayer ) . m_penAnimator );
#line 1185 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1187 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelObject * CPlayerWeapons::GetChainSawTeeth(void) 
#line 1188 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1189 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  * ppl  = GetPlayer  ();
#line 1190 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(ppl  == NULL ){return NULL ;}
#line 1191 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelObject * pmoPlayer  = ppl  -> GetModelObject  ();
#line 1192 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pmoPlayer  == NULL ){return NULL ;}
#line 1193 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoTorso  = pmoPlayer  -> GetAttachmentModel  (PLAYER_ATTACHMENT_TORSO );
#line 1194 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pamoTorso  == NULL ){return NULL ;}
#line 1195 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoChainSaw  = pamoTorso  -> amo_moModelObject  . GetAttachmentModel  (BODY_ATTACHMENT_MINIGUN );
#line 1196 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pamoChainSaw  == NULL ){return NULL ;}
#line 1197 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoBlade  = pamoChainSaw  -> amo_moModelObject  . GetAttachmentModel  (CHAINSAWFORPLAYER_ATTACHMENT_BLADE );
#line 1198 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pamoBlade  == NULL ){return NULL ;}
#line 1199 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoTeeth  = pamoBlade  -> amo_moModelObject  . GetAttachmentModel  (BLADE_ATTACHMENT_TEETH );
#line 1200 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pamoTeeth  == NULL ){return NULL ;}
#line 1201 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return & pamoTeeth  -> amo_moModelObject ;
#line 1202 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1205 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::HoldingFire(void) 
#line 1206 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1207 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return m_bFireWeapon  && ! m_bChangeWeapon ;
#line 1208 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1388 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::WeaponMovingOffset(FLOAT3D & plPos) 
#line 1389 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1390 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator  & plan  = (CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ;
#line 1391 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fXOffset  = Lerp  (plan  . m_fMoveLastBanking  , plan  . m_fMoveBanking  , _pTimer  -> GetLerpFactor  ()) * - 0.02f;
#line 1392 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fYOffset  = Lerp  (plan  . m_fWeaponYLastOffset  , plan  . m_fWeaponYOffset  , _pTimer  -> GetLerpFactor  ()) * 0.15f;
#line 1393 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
fYOffset  += (fXOffset  * fXOffset ) * 30.0f;
#line 1394 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  (1) += fXOffset ;
#line 1395 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  (2) += fYOffset ;
#line 1426 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1429 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlayAttackSound(CSoundObject & so,int what_sound,SLONG slPlayType) {
#line 1447 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1450 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::UpdateTargetingInfo(void) 
#line 1451 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1453 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plCrosshair ;
#line 1454 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fFX  = wpn_fFX  [ m_iCurrentWeapon  ];
#line 1455 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fFY  = wpn_fFY  [ m_iCurrentWeapon  ];
#line 1456 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(GetPlayer  () -> m_iViewState  == PVT_3RDPERSONVIEW ){
#line 1457 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
fFX  = fFY  = 0;
#line 1458 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1459 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fFX  , fFY  , 0) , plCrosshair  , FALSE );
#line 1461 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (m_penPlayer  , plCrosshair );
#line 1462 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 1463 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bPhysical  = FALSE ;
#line 1464 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 1465 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 1467 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitLast  = m_vRayHit ;
#line 1468 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHit  = crRay  . cr_vHit ;
#line 1469 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHit  = crRay  . cr_penHit ;
#line 1470 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistance  = crRay  . cr_fHitDistance ;
#line 1508 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
TIME  tmNow  = _pTimer  -> CurrentTick  ();
#line 1511 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bTargetHitIsUsable  = FALSE ;
#line 1512 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1517 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::RenderCrosshair(CProjection3D & prProjection,CDrawPort * pdp,CPlacement3D & plViewSource) 
#line 1518 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1519 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CUIManager  * pUIManager  = SE_Get_UIManagerPtr  ();
#line 1521 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX iCrossHair  = GetPlayer  () -> GetSettings  () -> ps_iCrossHairType  + 1;
#line 1523 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pUIManager  -> IsMouseInsideUIs  () || g_web  . GetWebHandle  ())
#line 1524 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1525 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return ;
#line 1526 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1528 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pUIManager  -> getCursorInGame  () == false )
#line 1529 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1530 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return ;
#line 1531 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1533 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntityPointer pEntity  = m_penRayHitNow ;
#line 1536 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(GetPlayer  () -> m_bWaitForSkillTarget )
#line 1537 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1538 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pUIManager  -> GetMouseCursor  () -> SetCursorType  (UMCT_ATT_SKILL );
#line 1539 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1540 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else if(pEntity  != NULL  && pEntity  -> GetFlags  () & ENF_ITEM )
#line 1541 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1542 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pUIManager  -> GetMouseCursor  () -> SetCursorType  (UMCT_PICK );
#line 1543 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1544 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else if(pEntity  != NULL  && pEntity  -> GetFlags  () & ENF_ALIVE )
#line 1545 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1546 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pEntity  -> IsFirstExtraFlagOn  (ENF_EX1_NPC ))
#line 1547 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1548 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pUIManager  -> GetMouseCursor  () -> SetCursorType  (UMCT_TALK );
#line 1549 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1550 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else if(pEntity  -> IsFirstExtraFlagOn  (ENF_EX1_PRODUCTION ))
#line 1551 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1552 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pUIManager  -> GetMouseCursor  () -> SetCursorType  (UMCT_PRODUCE );
#line 1553 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1554 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else if(pEntity  -> IsFirstExtraFlagOn  (ENF_EX1_CLICK_OBJECT ))
#line 1555 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1556 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pUIManager  -> GetMouseCursor  () -> SetCursorType  (UMCT_TALK );
#line 1557 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1558 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 1559 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1560 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
const BOOL bAttack  = GetPlayer  () -> CheckAttackTarget  (- 1 , pEntity  , 0.0f);
#line 1561 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bAttack )
#line 1562 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1563 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX pc_Type  = GetPlayer  () -> en_pcCharacter  . pc_iPlayerType ;
#line 1564 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL bExtension  = _pNetwork  -> MyCharacterInfo  . bExtension ;
#line 1565 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
UIMCType  cursorType  = SE_Get_UtilHelpPtr  () -> GetPlayerAttackCursor  (pc_Type  , bExtension );
#line 1566 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pUIManager  -> GetMouseCursor  () -> SetCursorType  (cursorType );
#line 1567 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1568 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 1569 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1570 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pUIManager  -> GetMouseCursor  () -> SetCursorType  (UMCT_TALK );
#line 1571 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1572 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1573 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1574 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 1575 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1576 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pUIManager  -> GetMouseCursor  () -> SetCursorType  (UMCT_NORMAL );
#line 1577 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1580 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
_width  = pdp  -> GetWidth  ();
#line 1581 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
_height  = pdp  -> GetHeight  ();
#line 1584 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iCrossHair  <= 0){
#line 1585 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
iCrossHair  = 0;
#line 1586 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
_iLastCrosshairType  = 0;
#line 1587 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1590 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_iLastCrosshairType  != iCrossHair ){
#line 1591 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
_iLastCrosshairType  = iCrossHair ;
#line 1603 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1604 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
COLOR colCrosshair  = C_WHITE ;
#line 1605 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
TIME  tmNow  = _pTimer  -> CurrentTick  ();
#line 1608 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_penRayHitNow  != NULL )
#line 1609 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1610 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntity  * pen  = m_penRayHitNow ;
#line 1612 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pen  -> GetFlags  () & ENF_ALIVE )
#line 1613 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1615 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (pen  , & CPlayer_DLLClass )){
#line 1617 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_tmTargetingStarted  == 0){
#line 1618 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penTargeting  = pen ;
#line 1619 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = tmNow ;
#line 1620 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1623 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_strLastTarget  . PrintF  ("%s" , ((CPlayer  *) pen ) -> GetPlayerName  ());
#line 1632 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fDistanceToOther  = DistanceTo  (GetPlayer  () , pen );
#line 1633 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(hud_bShowPlayerName  && fDistanceToOther  < 25.0f){m_tmLastTarget  = tmNow  + 1.5f;}
#line 1634 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1636 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else {
#line 1638 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = 0;
#line 1639 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1641 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_bFireWeapon ){m_tmTargetingStarted  = 0;}
#line 1642 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1644 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 1645 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1647 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = 0;
#line 1650 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (pen  , & CMovingBrush_DLLClass ) && ((CMovingBrush  &) * pen ) . m_penSwitch  != NULL ){
#line 1651 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pen  = ((CMovingBrush  &) * pen ) . m_penSwitch ;
#line 1652 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1654 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (pen  , & CSwitch_DLLClass ) && m_fRayHitDistance  < 2.5f){
#line 1655 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CSwitch  & enSwitch  = (CSwitch  &) * pen ;
#line 1656 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bTargetHitIsUsable  = TRUE ;
#line 1658 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(enSwitch  . m_bUseable ){
#line 1660 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(enSwitch  . m_strMessage  != ""){m_strLastTarget  = enSwitch  . m_strMessage ;}
#line 1661 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else {m_strLastTarget  = TRANS  ("Use");}
#line 1662 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmLastTarget  = tmNow  + 0.5f;
#line 1663 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1664 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1665 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1666 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1668 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else {
#line 1670 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = 0;
#line 1675 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1680 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vOnScreen ;
#line 1681 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fDistance  = m_fRayHitDistanceNow ;
#line 1683 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
const FLOAT3D vRayHit  = m_vRayHitNow ;
#line 1685 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_penRayHitNow  != NULL ){
#line 1687 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntity  * pen  = m_penRayHitNow ;
#line 1689 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
prProjection  . ViewerPlacementL  () = plViewSource ;
#line 1690 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
prProjection  . ObjectPlacementL  () = CPlacement3D (FLOAT3D (0.0f , 0.0f , 0.0f) , ANGLE3D (0 , 0 , 0));
#line 1691 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
prProjection  . Prepare  ();
#line 1692 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
prProjection  . ProjectCoordinate  (vRayHit  , vOnScreen );
#line 1696 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(hud_bCrosshairColoring  && _cmiComm  . IsNetworkOn  ()){
#line 1699 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmLastTarget  = 1000;
#line 1702 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1703 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else {
#line 1704 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmLastTarget  = - 99;
#line 1705 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1707 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1709 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 1710 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1712 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vOnScreen  (1) = (FLOAT) pdp  -> GetWidth  () * 0.5f;
#line 1713 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vOnScreen  (2) = (FLOAT) pdp  -> GetHeight  () * 0.5f;
#line 1714 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
fDistance  = 100.0f;
#line 1715 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1718 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(hud_bCrosshairFixed  || GetPlayer  () -> m_iViewState  == PVT_3RDPERSONVIEW ){
#line 1728 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vOnScreen  (1) = _pInput  -> inp_ptMousePos  . x  + 16;
#line 1729 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vOnScreen  (2) = pdp  -> GetHeight  () - _pInput  -> inp_ptMousePos  . y  - 16;
#line 1733 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1798 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 1833 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D CPlayerWeapons::GetMouseHitInformation(POINT point,CAnyProjection3D prProjection,UINT & nStartTime,BOOL bClick) 
#line 1834 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1838 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
prProjection  -> Prepare  ();
#line 1840 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRay ;
#line 1841 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRayTmp ;
#line 1843 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
prProjection  -> RayThroughPoint  (FLOAT3D ((float ) point  . x  , _height  - (float ) point  . y  , 0.0f) , plRay );
#line 1845 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plRayTmp  = plRay ;
#line 1848 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (GetPlayer  () -> GetViewEntity  (TRUE ) , plRay );
#line 1850 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_penIgnore  = GetPlayer  ();
#line 1854 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 1856 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 1858 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  && 
#line 1859 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
! ((crRay  . cr_penHit  -> GetFlags  () & ENF_ITEM ) || (crRay  . cr_penHit  -> IsCharacter  ()) || (crRay  . cr_penHit  -> GetFlags  () & ENF_ALIVE )))
#line 1860 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1862 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (GetPlayer  () -> GetViewEntity  (TRUE ) , plRayTmp );
#line 1863 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 1864 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_NONE ;
#line 1865 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 1867 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bClick )
#line 1868 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1869 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitClick  = crRay  . cr_penHit ;
#line 1871 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pInput  -> GetInputDevice  (1) -> id_aicControls  [ KID_LSHIFT  ] . ic_fValue  != 1.0f && ! _pInput  -> IsRMousePressed  ())
#line 1872 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1873 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitTmp  = crRay  . cr_vHit ;
#line 1874 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitTmp  = crRay  . cr_penHit ;
#line 1875 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceTmp  = crRay  . cr_fHitDistance ;
#line 1876 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1878 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  
#line 1879 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
&& (crRay  . cr_penHit  -> GetFlags  () & ENF_ALIVE  || crRay  . cr_penHit  -> IsCharacter  ()))
#line 1880 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1881 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penReservedTarget  = crRay  . cr_penHit ;
#line 1882 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1883 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 1884 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1885 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! _pInput  -> IsRMousePressed  ())
#line 1886 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1887 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 1888 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntity  * penEnt  = m_penRayHitTmp ;
#line 1890 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL m_bMoveCheck  = TRUE ;
#line 1892 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_penRayHitTmp  != NULL )
#line 1893 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1894 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_penRayHitTmp  -> GetRenderType  () == RT_BRUSH  
#line 1895 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
|| m_penRayHitTmp  -> GetRenderType  () == RT_FIELDBRUSH  
#line 1896 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
&& m_bPickConditionOk )
#line 1897 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1898 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bMoveCheck  = CheckCharacterMove  (crRay );
#line 1899 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1900 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1902 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_bMoveCheck )
#line 1903 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1904 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(penEnt  != NULL  && penEnt  -> GetFlags  () & ENF_ALIVE )
#line 1905 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1906 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = penEnt  -> en_plPlacement  . pl_PositionVector ;
#line 1907 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1908 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 1909 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1910 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = FLOAT3D (crRay  . cr_vHit  (1) , crRay  . cr_vHit  (2) , crRay  . cr_vHit  (3));
#line 1911 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1913 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
nStartTime  = 0;
#line 1914 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1915 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1916 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1917 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1918 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitNow  = crRay  . cr_vHit ;
#line 1919 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  = crRay  . cr_penHit ;
#line 1920 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceNow  = crRay  . cr_fHitDistance ;
#line 1923 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bPickConditionOk  = TRUE ;
#line 1924 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_pbpoBrushPolygon  != NULL )
#line 1925 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1926 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitSurfaceNormal  = crRay  . cr_pbpoBrushPolygon  -> bpo_pbplPlane  -> bpl_plAbsolute ;
#line 1927 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_pbpoBrushPolygon  -> bpo_ulFlags  & BPOF_INVISIBLE ){m_bPickConditionOk  = FALSE ;}
#line 1928 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1929 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else m_vRayHitSurfaceNormal  = FLOAT3D (0 , 1 , 0);
#line 1931 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return plRayTmp ;
#line 1932 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1934 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bClick  && crRay  . cr_penHit )
#line 1935 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1936 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitClick  = crRay  . cr_penHit ;
#line 1938 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pInput  -> GetInputDevice  (1) -> id_aicControls  [ KID_LSHIFT  ] . ic_fValue  != 1.0f && ! _pInput  -> IsRMousePressed  ())
#line 1939 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1940 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitTmp  = crRay  . cr_vHit ;
#line 1941 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitTmp  = crRay  . cr_penHit ;
#line 1942 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceTmp  = crRay  . cr_fHitDistance ;
#line 1944 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 1945 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntity  * penEnt  = m_penRayHitTmp ;
#line 1946 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(penEnt  != NULL  && penEnt  -> GetFlags  () & ENF_ALIVE )
#line 1947 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1948 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = penEnt  -> en_plPlacement  . pl_PositionVector ;
#line 1949 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1950 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 1951 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1952 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = FLOAT3D (crRay  . cr_vHit  (1) , crRay  . cr_vHit  (2) , crRay  . cr_vHit  (3));
#line 1953 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1955 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1956 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetFlags  () & ENF_ALIVE  || crRay  . cr_penHit  -> IsCharacter  ())
#line 1957 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1958 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penReservedTarget  = crRay  . cr_penHit ;
#line 1959 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1960 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 1961 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1962 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! _pInput  -> IsRMousePressed  ())
#line 1963 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1964 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 1965 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntity  * penEnt  = m_penRayHitTmp ;
#line 1966 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(penEnt  != NULL  && penEnt  -> GetFlags  () & ENF_ALIVE )
#line 1967 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1968 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = penEnt  -> en_plPlacement  . pl_PositionVector ;
#line 1969 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1970 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 1971 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1972 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_vDesiredPosition  = FLOAT3D (crRay  . cr_vHit  (1) , crRay  . cr_vHit  (2) , crRay  . cr_vHit  (3));
#line 1973 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1975 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1976 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1978 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1979 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitNow  = crRay  . cr_vHit ;
#line 1980 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  = crRay  . cr_penHit ;
#line 1983 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_penRayHitNow )
#line 1984 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1985 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_penRayHitNow  -> GetName  () == CMobData  :: getData  (310) -> GetName  () || 
#line 1986 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  -> GetName  () == CMobData  :: getData  (311) -> GetName  () || 
#line 1987 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  -> GetName  () == CMobData  :: getData  (312) -> GetName  () || 
#line 1988 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  -> GetName  () == CMobData  :: getData  (313) -> GetName  ())
#line 1989 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1990 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  = NULL ;
#line 1992 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1993 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 1995 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceNow  = crRay  . cr_fHitDistance ;
#line 1997 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_pbpoBrushPolygon  != NULL )
#line 1998 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 1999 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitSurfaceNormal  = crRay  . cr_pbpoBrushPolygon  -> bpo_pbplPlane  -> bpl_plAbsolute ;
#line 2000 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2001 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else m_vRayHitSurfaceNormal  = FLOAT3D (0 , 1 , 0);
#line 2004 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return plRay ;
#line 2008 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2010 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D CPlayerWeapons::GetMouseHitInformationReserve(POINT point,CAnyProjection3D prProjection,BOOL bClick,BOOL bReserve) 
#line 2011 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2014 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
prProjection  -> Prepare  ();
#line 2016 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRay ;
#line 2017 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRayTmp ;
#line 2019 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
prProjection  -> RayThroughPoint  (FLOAT3D ((float ) point  . x  , _height  - (float ) point  . y  , 0.0f) , plRay );
#line 2021 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plRayTmp  = plRay ;
#line 2024 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (GetPlayer  () -> GetViewEntity  (TRUE ) , plRay );
#line 2025 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_penIgnore  = GetPlayer  ();
#line 2027 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 2029 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 2031 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  && ! (crRay  . cr_penHit  -> GetFlags  () & ENF_ITEM ))
#line 2032 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2033 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  && ! (crRay  . cr_penHit  -> GetFlags  () & ENF_ALIVE ))
#line 2034 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2036 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (GetPlayer  () -> GetViewEntity  (TRUE ) , plRayTmp );
#line 2037 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 2038 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_NONE ;
#line 2039 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 2041 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bClick )
#line 2042 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2043 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bReserve )
#line 2044 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2046 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL m_bMoveCheck  = TRUE ;
#line 2047 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bMoveCheck  = CheckCharacterMove  (crRay );
#line 2048 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! m_bMoveCheck )
#line 2049 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2050 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_bReserveMove  = FALSE ;
#line 2051 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return plRay ;
#line 2052 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2053 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitReserve  = crRay  . cr_vHit ;
#line 2054 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitReserve  = crRay  . cr_penHit ;
#line 2055 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceReserve  = crRay  . cr_fHitDistance ;
#line 2057 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2058 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 2059 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2060 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitTmp  = crRay  . cr_vHit ;
#line 2061 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitTmp  = crRay  . cr_penHit ;
#line 2062 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceTmp  = crRay  . cr_fHitDistance ;
#line 2063 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2064 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2065 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitNow  = crRay  . cr_vHit ;
#line 2066 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  = crRay  . cr_penHit ;
#line 2067 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceNow  = crRay  . cr_fHitDistance ;
#line 2069 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return plRayTmp ;
#line 2070 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2071 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2073 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bClick )
#line 2074 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2075 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bReserve )
#line 2076 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2077 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitReserve  = crRay  . cr_vHit ;
#line 2078 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitReserve  = crRay  . cr_penHit ;
#line 2079 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceReserve  = crRay  . cr_fHitDistance ;
#line 2080 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2081 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 2082 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2083 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitTmp  = crRay  . cr_vHit ;
#line 2084 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitTmp  = crRay  . cr_penHit ;
#line 2085 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceTmp  = crRay  . cr_fHitDistance ;
#line 2086 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2087 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2088 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_vRayHitNow  = crRay  . cr_vHit ;
#line 2089 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHitNow  = crRay  . cr_penHit ;
#line 2090 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistanceNow  = crRay  . cr_fHitDistance ;
#line 2092 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return plRay ;
#line 2093 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2099 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ShowFlare(CModelObject & moWeapon,INDEX iAttachObject,INDEX iAttachFlare,FLOAT fSize) {
#line 2100 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (moWeapon  . GetAttachmentModel  (iAttachObject ) -> amo_moModelObject );
#line 2101 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamo  = pmo  -> GetAttachmentModel  (iAttachFlare );
#line 2102 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pamo  -> amo_plRelative  . pl_OrientationAngle  (3) = (rand  () * 360.0f) / RAND_MAX ;
#line 2103 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pmo  = & (pamo  -> amo_moModelObject );
#line 2104 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pmo  -> StretchModel  (FLOAT3D (fSize  , fSize  , fSize ));
#line 2105 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2109 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::HideFlare(CModelObject & moWeapon,INDEX iAttachObject,INDEX iAttachFlare) {
#line 2110 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (moWeapon  . GetAttachmentModel  (iAttachObject ) -> amo_moModelObject );
#line 2111 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pmo  = & (pmo  -> GetAttachmentModel  (iAttachFlare ) -> amo_moModelObject );
#line 2112 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pmo  -> StretchModel  (FLOAT3D (0 , 0 , 0));
#line 2113 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2115 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SetFlare(INDEX iFlare,INDEX iAction) 
#line 2116 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2117 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayerWeapons  * pen  = this ;
#line 2118 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iFlare  == 0){
#line 2119 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pen  -> m_iFlare  = iAction ;
#line 2120 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pen  -> GetPlayer  () -> GetPlayerAnimator  () -> m_iFlare  = iAction ;
#line 2121 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 2122 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pen  -> m_iSecondFlare  = iAction ;
#line 2123 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pen  -> GetPlayer  () -> GetPlayerAnimator  () -> m_iSecondFlare  = iAction ;
#line 2124 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2125 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2198 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlayLightAnim(INDEX iAnim,ULONG ulFlags) {
#line 2199 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 2200 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pl  . m_aoLightAnimation  . GetData  () != NULL ){
#line 2201 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_aoLightAnimation  . PlayAnim  (iAnim  , ulFlags );
#line 2202 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2203 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2382 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcWeaponPosition3rdPersonView(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ) {
#line 2383 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D (0 , 0 , 0);
#line 2385 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2386 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2387 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2388 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 2389 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2390 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2391 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2393 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2394 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2395 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 2396 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2397 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2398 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2399 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2400 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2402 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 2403 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 2404 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2407 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plView  = ((CPlayer  &) * m_penPlayer ) . en_plViewpoint ;
#line 2408 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plView  . pl_PositionVector  (2) = 1.25118f;
#line 2409 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (plView );
#line 2410 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (m_penPlayer  -> GetPlacement  ());
#line 2411 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2414 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcWeaponPosition(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ) {
#line 2415 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D (0 , 0 , 0);
#line 2417 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2418 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2419 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2425 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 2426 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2427 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2428 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2430 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2431 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2432 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 2433 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2434 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2435 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2436 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2437 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2439 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 2440 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 2441 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2444 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plView  = ((CPlayer  &) * m_penPlayer ) . en_plViewpoint ;
#line 2445 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plView  . pl_PositionVector  (2) += ((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . 
#line 2446 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fEyesYOffset ;
#line 2447 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (plView );
#line 2448 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (m_penPlayer  -> GetPlacement  ());
#line 2449 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2452 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcLerpedWeaponPosition(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ) 
#line 2453 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2454 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D (0 , 0 , 0);
#line 2456 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2457 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2458 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2464 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 2465 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2466 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2467 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2469 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2470 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2471 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 2472 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2473 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2474 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2475 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2476 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2478 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 2479 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 2480 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2483 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRes ;
#line 2484 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
GetPlayer  () -> GetLerpedWeaponPosition  (plPos  . pl_PositionVector  , plRes );
#line 2485 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  = plRes ;
#line 2486 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2489 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcWeaponPositionImprecise(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ,FLOAT fImprecissionAngle) {
#line 2490 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D ((FRnd  () - 0.5f) * fImprecissionAngle  , (FRnd  () - 0.5f) * fImprecissionAngle  , 0);
#line 2492 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2493 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2499 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2500 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 2501 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2502 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 2503 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 2504 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2506 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 2507 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2508 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 2509 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 2510 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2511 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2512 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2513 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 2515 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 2516 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 2517 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2520 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plView  = ((CPlayer  &) * m_penPlayer ) . en_plViewpoint ;
#line 2521 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plView  . pl_PositionVector  (2) += ((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . 
#line 2522 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fEyesYOffset ;
#line 2523 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (plView );
#line 2524 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (m_penPlayer  -> GetPlacement  ());
#line 2525 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2529 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::Setup3DSoundParameters(void) 
#line 2530 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2531 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 2533 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 2534 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon1  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 2535 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon2  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 2536 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon3  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 2537 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 0.0f , 1.0f);
#line 2538 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2556 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::CutWithKnife(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fWide,FLOAT fThickness,FLOAT fDamage) 
#line 2557 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2559 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plKnife ;
#line 2560 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fX  , fY  , 0) , plKnife  , TRUE );
#line 2563 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
const FLOAT3D & vBase  = plKnife  . pl_PositionVector ;
#line 2564 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 2565 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plKnife  . pl_OrientationAngle );
#line 2566 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vRight  = m  . GetColumn  (1) * fWide ;
#line 2567 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  = m  . GetColumn  (2) * fWide ;
#line 2568 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vFront  = - m  . GetColumn  (3) * fRange ;
#line 2570 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDest  [ 5 ];
#line 2571 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDest  [ 0 ] = vBase  + vFront ;
#line 2572 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDest  [ 1 ] = vBase  + vFront  + vUp ;
#line 2573 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDest  [ 2 ] = vBase  + vFront  - vUp ;
#line 2574 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDest  [ 3 ] = vBase  + vFront  + vRight ;
#line 2575 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDest  [ 4 ] = vBase  + vFront  - vRight ;
#line 2577 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntity  * penClosest  = NULL ;
#line 2578 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fDistance  = UpperLimit  (0.0f);
#line 2579 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vHit ;
#line 2580 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDir ;
#line 2582 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = 0;i  < 5;i  ++)
#line 2583 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2585 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (m_penPlayer  , vBase  , vDest  [ i  ]);
#line 2586 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 2587 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_fTestR  = fThickness ;
#line 2588 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 2589 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 2592 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  && crRay  . cr_fHitDistance  < fDistance )
#line 2593 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2594 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
penClosest  = crRay  . cr_penHit ;
#line 2595 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
fDistance  = crRay  . cr_fHitDistance ;
#line 2596 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDir  = vDest  [ i  ] - vBase ;
#line 2597 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vHit  = crRay  . cr_vHit ;
#line 2599 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(i  == 0)
#line 2600 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2601 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_BRUSH )
#line 2602 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2603 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX iSurfaceType  = crRay  . cr_pbpoBrushPolygon  -> bpo_bppProperties  . bpp_ubSurfaceType ;
#line 2604 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EffectParticlesType  eptType  = GetParticleEffectTypeForSurface  (iSurfaceType );
#line 2606 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vNormal  = crRay  . cr_pbpoBrushPolygon  -> bpo_pbplPlane  -> bpl_plAbsolute ;
#line 2607 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vReflected  = vDir  - vNormal  * (2.0f * (vNormal  % vDir ));
#line 2608 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddBulletSpray  (vBase  + vFront  , eptType  , vReflected );
#line 2609 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2610 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL  || crRay  . cr_penHit  -> GetRenderType  () == RT_SKAMODEL )
#line 2611 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2612 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL bRender  = TRUE ;
#line 2613 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpillDir  = - ((CPlayer  &) * m_penPlayer ) . en_vGravityDir  * 0.5f;
#line 2614 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SprayParticlesType  sptType  = SPT_NONE ;
#line 2615 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
COLOR colParticles  = C_WHITE  | CT_OPAQUE ;
#line 2616 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fPower  = 4.0f;
#line 2617 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , & CModelHolder2_DLLClass ))
#line 2618 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2619 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
bRender  = FALSE ;
#line 2620 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelDestruction  * penDestruction  = ((CModelHolder2  &) * crRay  . cr_penHit ) . GetDestruction  ();
#line 2621 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(penDestruction  != NULL )
#line 2622 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2623 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
bRender  = TRUE ;
#line 2624 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
sptType  = penDestruction  -> m_sptType ;
#line 2625 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2626 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelHolder2  * pmh2  = (CModelHolder2  *) crRay  . cr_penHit ;
#line 2627 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
colParticles  = pmh2  -> m_colBurning ;
#line 2628 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2629 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , & CModelHolder3_DLLClass ))
#line 2630 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2631 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
bRender  = FALSE ;
#line 2632 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelDestruction  * penDestruction  = ((CModelHolder3  &) * crRay  . cr_penHit ) . GetDestruction  ();
#line 2633 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(penDestruction  != NULL )
#line 2634 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2635 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
bRender  = TRUE ;
#line 2636 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
sptType  = penDestruction  -> m_sptType ;
#line 2637 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2638 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelHolder3  * pmh3  = (CModelHolder3  *) crRay  . cr_penHit ;
#line 2639 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
colParticles  = pmh3  -> m_colBurning ;
#line 2640 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2642 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bRender )
#line 2643 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2644 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOATaabbox3D boxCutted ;
#line 2645 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL ){
#line 2646 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_penHit  -> en_pmoModelObject  -> GetCurrentFrameBBox  (boxCutted );
#line 2647 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else if(crRay  . cr_penHit  -> GetRenderType  () == RT_SKAMODEL ){
#line 2648 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX iColBox  = crRay  . cr_penHit  -> GetModelInstance  () -> GetCurrentColisionBoxIndex  ();
#line 2649 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ColisionBox  cb  = crRay  . cr_penHit  -> GetModelInstance  () -> GetColisionBox  (iColBox );
#line 2650 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
boxCutted  = FLOATaabbox3D (cb  . Min  () , cb  . Max  ());
#line 2651 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2653 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddGoreSpray  (vBase  + vFront  , vHit  , sptType  , 
#line 2654 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vSpillDir  , boxCutted  , fPower  , colParticles );
#line 2655 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2656 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2658 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 2659 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2660 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2661 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2665 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(penClosest  != NULL )
#line 2666 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2668 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! (GetSP  () -> sp_bCooperative ) && IsOfClass  (penClosest  , & CPlayer_DLLClass )){
#line 2669 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vToTarget  = penClosest  -> GetPlacement  () . pl_PositionVector  - m_penPlayer  -> GetPlacement  () . pl_PositionVector ;
#line 2670 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vTargetHeading  = FLOAT3D (0.0 , 0.0 , - 1.0f) * penClosest  -> GetRotationMatrix  ();
#line 2671 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vToTarget  . Normalize  ();vTargetHeading  . Normalize  ();
#line 2672 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(vToTarget  % vTargetHeading  > 0.65f)
#line 2673 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2675 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
fDamage  *= 4.0f;
#line 2676 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2677 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2678 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
const FLOAT fDamageMul  = GetSeriousDamageMultiplier  (m_penPlayer );
#line 2679 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
InflictDirectDamage  (penClosest  , m_penPlayer  , DMT_CLOSERANGE  , fDamage  * fDamageMul  , vHit  , vDir );
#line 2680 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 2681 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2682 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 2683 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2687 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::CutWithChainsaw(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fWide,FLOAT fThickness,FLOAT fDamage) 
#line 2688 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2690 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plKnife ;
#line 2691 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fX  , fY  , 0) , plKnife  , TRUE );
#line 2694 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
const FLOAT3D & vBase  = plKnife  . pl_PositionVector ;
#line 2695 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 2696 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plKnife  . pl_OrientationAngle );
#line 2697 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vRight  = m  . GetColumn  (1) * fWide ;
#line 2698 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  = m  . GetColumn  (2) * fWide ;
#line 2699 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vFront  = - m  . GetColumn  (3) * fRange ;
#line 2701 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDest  [ 3 ];
#line 2702 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDest  [ 0 ] = vBase  + vFront ;
#line 2703 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDest  [ 1 ] = vBase  + vFront  + vRight ;
#line 2704 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDest  [ 2 ] = vBase  + vFront  - vRight ;
#line 2706 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntity  * penClosest  = NULL ;
#line 2707 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fDistance  = UpperLimit  (0.0f);
#line 2708 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vHit ;
#line 2709 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDir ;
#line 2711 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = 0;i  < 3;i  ++){
#line 2713 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (m_penPlayer  , vBase  , vDest  [ i  ]);
#line 2714 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 2715 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_fTestR  = fThickness ;
#line 2716 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 2717 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 2720 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL )
#line 2721 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2722 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
penClosest  = crRay  . cr_penHit ;
#line 2723 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
fDistance  = crRay  . cr_fHitDistance ;
#line 2724 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDir  = vDest  [ i  ] - vBase ;
#line 2725 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vDir  . Normalize  ();
#line 2726 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vHit  = crRay  . cr_vHit ;
#line 2728 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(i  == 0)
#line 2729 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2730 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_BRUSH )
#line 2731 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2732 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX iSurfaceType  = crRay  . cr_pbpoBrushPolygon  -> bpo_bppProperties  . bpp_ubSurfaceType ;
#line 2733 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EffectParticlesType  eptType  = GetParticleEffectTypeForSurface  (iSurfaceType );
#line 2735 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vNormal  = crRay  . cr_pbpoBrushPolygon  -> bpo_pbplPlane  -> bpl_plAbsolute ;
#line 2736 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vReflected  = vDir  - vNormal  * (2.0f * (vNormal  % vDir ));
#line 2737 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vPos  = vBase  + vFront ;
#line 2738 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddBulletSpray  (vPos  , eptType  , vReflected );
#line 2739 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EAddBulletSpray  eabs ;
#line 2740 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eabs  . vPos  = vPos ;
#line 2741 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eabs  . eptType  = eptType ;
#line 2742 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eabs  . vReflected  = vReflected ;
#line 2743 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . SendEvent  (eabs  , TRUE );
#line 2747 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeStrength  = 0.85f;
#line 2748 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeFreqMod  = 1.0f;
#line 2749 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_tmChainShakeEnd  = _pTimer  -> CurrentTick  () + CHAINSAW_UPDATETIME  * 1.5f;
#line 2751 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2752 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL  || crRay  . cr_penHit  -> GetRenderType  () == RT_SKAMODEL )
#line 2753 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2754 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL bRender  = TRUE ;
#line 2755 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpillDir  = - ((CPlayer  &) * m_penPlayer ) . en_vGravityDir  * 0.5f;
#line 2756 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SprayParticlesType  sptType  = SPT_BLOOD ;
#line 2757 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
COLOR colParticles  = C_WHITE  | CT_OPAQUE ;
#line 2758 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! IsDerivedFromClass  (crRay  . cr_penHit  , & CEnemyBase_DLLClass )){
#line 2759 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
sptType  = SPT_NONE ;
#line 2760 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2761 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fPower  = 4.0f;
#line 2774 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , & CModelHolder2_DLLClass ))
#line 2775 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2776 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
bRender  = FALSE ;
#line 2777 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelDestruction  * penDestruction  = ((CModelHolder2  &) * crRay  . cr_penHit ) . GetDestruction  ();
#line 2778 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelHolder2  * pmh2  = (CModelHolder2  *) crRay  . cr_penHit ;
#line 2779 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
colParticles  = pmh2  -> m_colBurning ;
#line 2780 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(penDestruction  != NULL )
#line 2781 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2782 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
bRender  = TRUE ;
#line 2783 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
sptType  = penDestruction  -> m_sptType ;
#line 2784 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(sptType  == SPT_COLOREDSTONE )
#line 2785 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2786 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
colParticles  = MulColors  (colParticles  , penDestruction  -> m_colParticles );
#line 2787 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2788 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2789 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2790 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , & CModelHolder3_DLLClass ))
#line 2791 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2792 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
bRender  = FALSE ;
#line 2793 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelDestruction  * penDestruction  = ((CModelHolder3  &) * crRay  . cr_penHit ) . GetDestruction  ();
#line 2794 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelHolder3  * pmh3  = (CModelHolder3  *) crRay  . cr_penHit ;
#line 2795 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
colParticles  = pmh3  -> m_colBurning ;
#line 2796 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(penDestruction  != NULL )
#line 2797 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2798 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
bRender  = TRUE ;
#line 2799 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
sptType  = penDestruction  -> m_sptType ;
#line 2800 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(sptType  == SPT_COLOREDSTONE )
#line 2801 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2802 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
colParticles  = MulColors  (colParticles  , penDestruction  -> m_colParticles );
#line 2803 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2804 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2805 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2806 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOATaabbox3D boxCutted  = FLOATaabbox3D (FLOAT3D (0 , 0 , 0) , FLOAT3D (1 , 1 , 1));
#line 2807 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bRender  && m_tmLastChainsawSpray  + 0.2f < _pTimer  -> CurrentTick  ())
#line 2808 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2810 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL ){
#line 2811 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_penHit  -> en_pmoModelObject  -> GetCurrentFrameBBox  (boxCutted );
#line 2813 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else if(crRay  . cr_penHit  -> GetRenderType  () == RT_SKAMODEL ){
#line 2814 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX iColBox  = crRay  . cr_penHit  -> GetModelInstance  () -> GetCurrentColisionBoxIndex  ();
#line 2815 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ColisionBox  cb  = crRay  . cr_penHit  -> GetModelInstance  () -> GetColisionBox  (iColBox );
#line 2816 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
boxCutted  = FLOATaabbox3D (cb  . Min  () , cb  . Max  ());
#line 2817 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2818 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddGoreSpray  (vBase  + vFront  , vHit  , sptType  , 
#line 2819 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
vSpillDir  , boxCutted  , fPower  , colParticles );
#line 2820 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EAddGoreSpray  eags ;
#line 2821 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eags  . iEntityHit  = crRay  . cr_penHit  -> en_ulID ;
#line 2822 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eags  . vPos  = vBase  + vFront ;
#line 2823 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eags  . vHit  = vHit ;
#line 2824 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eags  . sptType  = sptType ;
#line 2825 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eags  . colParticles  = colParticles ;
#line 2826 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . SendEvent  (eags  , TRUE );
#line 2828 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmLastChainsawSpray  = _pTimer  -> CurrentTick  ();
#line 2829 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2832 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeStrength  = 1.1f;
#line 2833 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeFreqMod  = 1.0f;
#line 2834 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_tmChainShakeEnd  = _pTimer  -> CurrentTick  () + CHAINSAW_UPDATETIME  * 1.5f;
#line 2836 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2837 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2839 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if((crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL  || crRay  . cr_penHit  -> GetRenderType  () == RT_SKAMODEL ) && 
#line 2840 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
crRay  . cr_fHitDistance  <= fDistance )
#line 2841 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2843 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(i  == 0)
#line 2844 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2846 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 2847 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2848 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2849 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 2851 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeStrength  = 0.1f;
#line 2852 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeFreqMod  = 1.0f;
#line 2853 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_tmChainShakeEnd  = _pTimer  -> CurrentTick  () + CHAINSAW_UPDATETIME  * 1.5f;
#line 2854 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2855 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2857 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(penClosest  != NULL ){
#line 2858 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
InflictDirectDamage  (penClosest  , m_penPlayer  , DMT_CHAINSAW  , fDamage  , vHit  , vDir );
#line 2859 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 2860 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2861 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 2862 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2881 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PrepareBullet(FLOAT fX,FLOAT fY,FLOAT fDamage) {
#line 2883 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fX  , fY  , 0) , plBullet  , TRUE );
#line 2885 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
penBullet  = CreateEntity  (plBullet  , CLASS_BULLET );
#line 2887 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EBulletInit  eInit ;
#line 2888 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eInit  . eidOwner  = m_penPlayer ;
#line 2889 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eInit  . fDamage  = fDamage ;
#line 2890 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
penBullet  -> Initialize  (eInit );
#line 2891 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2916 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireOneBullet(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fDamage) {
#line 2917 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
PrepareBullet  (fX  , fY  , fDamage );
#line 2918 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcTarget  (fRange );
#line 2919 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_fBulletSize  = 0.1f;
#line 2922 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . LaunchBullet  (TRUE  , FALSE  , TRUE );
#line 2923 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . DestroyBullet  ();
#line 2924 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2927 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireShotgunBullets(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fDamage,INDEX iBullets,
#line 2928 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT * afPositions,FLOAT fStretch,FLOAT fJitter) {
#line 2929 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
PrepareBullet  (fX  , fY  , fDamage );
#line 2930 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcTarget  (fRange );
#line 2931 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_fBulletSize  = GetSP  () -> sp_bCooperative  ? 0.1f : 0.3f;
#line 2932 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_EdtDamage  = DMT_SHOTGUN ;
#line 2934 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX iSlug ;
#line 2935 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
for(iSlug  = 0;iSlug  < iBullets ;iSlug  ++){
#line 2937 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcJitterTargetFixed  (
#line 2938 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
afPositions  [ iSlug  * 2 + 0 ] * fRange  * fStretch  , afPositions  [ iSlug  * 2 + 1 ] * fRange  * fStretch  , 
#line 2939 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
fJitter  * fRange  * fStretch );
#line 2940 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . LaunchBullet  (iSlug  < 2 , FALSE  , TRUE );
#line 2941 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 2942 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . DestroyBullet  ();
#line 2943 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 2946 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireMachineBullet(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fDamage,
#line 2947 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fJitter,FLOAT fBulletSize) 
#line 2948 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 2949 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
fJitter  *= fRange ;
#line 2950 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
PrepareBullet  (fX  , fY  , fDamage );
#line 2951 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcTarget  (fRange );
#line 2952 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_fBulletSize  = fBulletSize ;
#line 2953 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcJitterTarget  (fJitter );
#line 2954 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . LaunchBullet  (TRUE  , FALSE  , TRUE );
#line 2955 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . DestroyBullet  ();
#line 2956 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3029 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::GetFlamerSourcePlacement(CPlacement3D & plSource,CPlacement3D & plInFrontOfPipe) {
#line 3030 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CalcLerpedWeaponPosition  (
#line 3031 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D (wpn_fFX  [ WEAPON_FLAMER  ] , wpn_fFY  [ WEAPON_FLAMER  ] , - 0.15f) , 
#line 3032 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plSource  , FALSE );
#line 3033 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plInFrontOfPipe  = plSource ;
#line 3034 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT3D vFront ;
#line 3035 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
AnglesToDirectionVector  (plSource  . pl_OrientationAngle  , vFront );
#line 3036 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
plInFrontOfPipe  . pl_PositionVector  = plSource  . pl_PositionVector  + vFront  * 1.0f;
#line 3037 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3040 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireFlame(void) {
#line 3042 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlacement3D plFlame ;
#line 3044 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (wpn_fFX  [ WEAPON_FLAMER  ] , wpn_fFY  [ WEAPON_FLAMER  ] , - 0.15f) , plFlame  , TRUE );
#line 3047 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CEntityPointer penFlame  = CreateEntity  (plFlame  , CLASS_PROJECTILE );
#line 3049 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ELaunchProjectile  eLaunch ;
#line 3050 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eLaunch  . eidLauncher  = m_penPlayer ;
#line 3051 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eLaunch  . prtType  = PRT_FLAME ;
#line 3052 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
penFlame  -> Initialize  (eLaunch );
#line 3054 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_penFlame  != NULL  && ! (m_penFlame  -> GetFlags  () & ENF_DELETED )){
#line 3055 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CProjectile  &) * m_penFlame ) . m_penParticles  = penFlame ;
#line 3056 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3058 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CProjectile  &) * penFlame ) . m_penParticles  = this ;
#line 3060 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penFlame  = penFlame ;
#line 3061 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3162 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SpawnRangeSound(FLOAT fRange) 
#line 3163 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3164 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pTimer  -> CurrentTick  () > m_tmRangeSoundSpawned  + 0.5f){
#line 3165 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmRangeSoundSpawned  = _pTimer  -> CurrentTick  ();
#line 3166 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
:: SpawnRangeSound  (m_penPlayer  , m_penPlayer  , SNDT_PLAYER  , fRange );
#line 3167 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3168 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3175 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ClearWeapons(void) {
#line 3177 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  = 0x03;
#line 3179 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iBullets  = 0;
#line 3180 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iShells  = 0;
#line 3183 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iNapalm  = 0;
#line 3184 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iElectricity  = 0;
#line 3185 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  = 0;
#line 3188 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3190 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ResetWeaponMovingOffset(void) 
#line 3191 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3193 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPowerOld  = m_fWeaponDrawPower  = m_tmDrawStartTime  = 0;
#line 3194 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3197 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::InitializeWeapons(INDEX iGiveWeapons,INDEX iTakeWeapons,INDEX iTakeAmmo,FLOAT fMaxAmmoRatio) 
#line 3198 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3199 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ResetWeaponMovingOffset  ();
#line 3201 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ULONG  ulOldWeapons  = m_iAvailableWeapons ;
#line 3203 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  &= ~ iTakeWeapons ;
#line 3204 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  |= 0x03 | iGiveWeapons ;
#line 3205 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  &= WEAPONS_ALLAVAILABLEMASK ;
#line 3208 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ULONG  ulNewWeapons  = m_iAvailableWeapons  & ~ ulOldWeapons ;
#line 3210 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
for(INDEX iWeapon  = WEAPON_KNIFE ;iWeapon  < WEAPON_LAST ;iWeapon  ++){
#line 3211 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(ulNewWeapons  & (1 << (iWeapon  - 1))){
#line 3214 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3215 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3218 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fModifier  = ClampDn  (GetSP  () -> sp_fAmmoQuantity  , 1.0f);
#line 3219 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iMaxBullets  = ClampUp  ((INDEX) ceil  (MAX_BULLETS  * fModifier ) , INDEX (999));
#line 3220 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iMaxShells  = ClampUp  ((INDEX) ceil  (MAX_SHELLS  * fModifier ) , INDEX (999));
#line 3223 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iMaxNapalm  = ClampUp  ((INDEX) ceil  (MAX_NAPALM  * fModifier ) , INDEX (999));
#line 3224 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iMaxElectricity  = ClampUp  ((INDEX) ceil  (MAX_ELECTRICITY  * fModifier ) , INDEX (999));
#line 3226 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iMaxIronBalls  = ClampUp  ((INDEX) ceil  (MAX_IRONBALLS  * fModifier ) , INDEX (999));
#line 3230 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_BULLETS )){m_iBullets  = 0;}
#line 3231 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_SHELLS )){m_iShells  = 0;}
#line 3234 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_NAPALM )){m_iNapalm  = 0;}
#line 3235 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_ELECTRICITY )){m_iElectricity  = 0;}
#line 3237 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_IRONBALLS )){m_iIronBalls  = 0;}
#line 3241 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Precache  ();
#line 3248 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_bResetWeapon  || _pNetwork  -> IsServer  ()){
#line 3253 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bResetWeapon  = FALSE ;
#line 3254 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3256 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iCurrentWeapon  = m_iWantedWeapon ;
#line 3257 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
wpn_iCurrent  = m_iCurrentWeapon ;
#line 3258 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = FALSE ;
#line 3261 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
PlayDefaultAnim  ();
#line 3266 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3314 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CheatOpen(void) 
#line 3315 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3316 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (m_penRayHit  , & CMovingBrush_DLLClass )){
#line 3317 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penRayHit  -> SendEvent  (ETrigger  ());
#line 3318 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3319 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3322 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CheatGiveAll(void) {
#line 3324 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  = WEAPONS_ALLAVAILABLEMASK ;
#line 3327 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iBullets  = m_iMaxBullets ;
#line 3328 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iShells  = m_iMaxShells ;
#line 3331 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iNapalm  = m_iMaxNapalm ;
#line 3332 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iElectricity  = m_iMaxElectricity ;
#line 3333 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  = m_iMaxIronBalls ;
#line 3337 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Precache  ();
#line 3338 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3364 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::GetStrongerWeapon(INDEX iWeapon) {
#line 3365 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(iWeapon ){
#line 3366 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 1: return WEAPON_CHAINSAW ;
#line 3371 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 6: return WEAPON_FLAMER ;
#line 3372 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 7: return WEAPON_LASER ;
#line 3374 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3375 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return WEAPON_NONE ;
#line 3376 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3379 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX CPlayerWeapons::GetSelectedWeapon(WeaponType EwtSelectedWeapon) {
#line 3380 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(EwtSelectedWeapon ){
#line 3381 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : case WEAPON_CHAINSAW : return 1;
#line 3386 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : 
#line 3388 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return 6;
#line 3389 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : return 7;
#line 3391 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3392 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return 0;
#line 3393 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3396 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::GetAltWeapon(WeaponType EwtWeapon) {
#line 3397 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(EwtWeapon ){
#line 3398 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : return WEAPON_CHAINSAW ;
#line 3399 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : return WEAPON_KNIFE ;
#line 3411 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : 
#line 3414 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return WEAPON_FLAMER ;
#line 3417 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3418 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return WEAPON_NONE ;
#line 3419 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3422 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::WeaponSelectOk(WeaponType wtToTry) 
#line 3423 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3425 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(((1 << (INDEX (wtToTry ) - 1)) & m_iAvailableWeapons ) 
#line 3426 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
&& HasAmmo  (wtToTry )){
#line 3428 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(wtToTry  != m_iCurrentWeapon ){
#line 3431 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iWantedWeapon  = wtToTry ;
#line 3432 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = TRUE ;
#line 3433 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3435 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 3437 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 3439 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 3440 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3441 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3508 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::HasAmmo(WeaponType EwtWeapon) {
#line 3509 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(EwtWeapon ){
#line 3510 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : 
#line 3512 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 3520 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : return (m_iNapalm  > 0);
#line 3521 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : return TRUE ;
#line 3524 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3525 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 3526 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3531 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlayDefaultAnim(void) {
#line 3532 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 3533 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_NONE : 
#line 3534 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 3535 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : 
#line 3536 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(m_iKnifeStand ){
#line 3537 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 1: m_moWeapon  . PlayAnim  (KNIFE_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3538 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 3: m_moWeapon  . PlayAnim  (KNIFE_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3539 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown knife stand.");
#line 3540 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3541 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 3581 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
default  : 
#line 3582 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("Unknown weapon.");
#line 3583 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3584 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3586 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::KnifeBoring(void) {
#line 3588 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3589 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(m_iKnifeStand ){
#line 3590 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = KNIFE_ANIM_WAIT1 ;break ;
#line 3591 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 3: iAnim  = KNIFE_ANIM_WAIT1 ;break ;
#line 3592 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3593 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3594 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3595 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3782 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::FindRemapedPos(WeaponType wt) 
#line 3783 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3784 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = 0;i  < 18;i  ++)
#line 3785 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3786 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(aiWeaponsRemap  [ i  ] == wt ){
#line 3787 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return (WeaponType ) i ;
#line 3788 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3789 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3790 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ASSERT  ("Non-existant weapon in remap array!");
#line 3791 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return (WeaponType ) 0;
#line 3792 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3872 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::FindWeaponInDirection(INDEX iDir) 
#line 3873 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3874 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX wtOrg  = FindRemapedPos  (m_iWantedWeapon );
#line 3875 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX wti  = wtOrg ;
#line 3876 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FOREVER 
#line 3877 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3878 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
(INDEX &) wti  += iDir ;
#line 3885 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(wti  > 14)
#line 3886 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3887 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
wti  = WEAPON_KNIFE ;
#line 3888 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3889 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(wti  == wtOrg )
#line 3890 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3891 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 3892 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3893 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
WeaponType  wt  = (WeaponType ) aiWeaponsRemap  [ wti  ];
#line 3894 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if((((1 << (wt  - 1)) & m_iAvailableWeapons ) && HasAmmo  (wt ))){
#line 3895 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return wt ;
#line 3896 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3897 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3898 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return m_iWantedWeapon ;
#line 3899 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}

#line 3902 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SelectWeaponChange(INDEX iSelect) 
#line 3903 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3904 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
WeaponType  EwtTemp ;
#line 3906 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmWeaponChangeRequired  = ((CPlayerEntity  *) (CEntity  *) m_penPlayer ) -> en_tmEntityTime ;
#line 3909 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iSelect  == 0){
#line 3910 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = TRUE ;
#line 3911 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iWantedWeapon  = WEAPON_NONE ;
#line 3912 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return ;
#line 3913 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3917 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iSelect  == - 4)
#line 3918 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3925 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return ;
#line 3926 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3930 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iSelect  == - 3){
#line 3931 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetAltWeapon  (m_iWantedWeapon );
#line 3934 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else if(iSelect  == - 2){
#line 3935 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EwtTemp  = FindWeaponInDirection  (- 1);
#line 3938 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else if(iSelect  == - 1){
#line 3939 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EwtTemp  = FindWeaponInDirection  (+ 1);
#line 3942 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}else {
#line 3944 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(iSelect  == GetSelectedWeapon  (m_iWantedWeapon )){
#line 3945 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetAltWeapon  (m_iWantedWeapon );
#line 3948 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3949 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
else 
#line 3950 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 3952 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetStrongerWeapon  (iSelect );
#line 3955 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! ((1 << (EwtTemp  - 1)) & m_iAvailableWeapons ) || ! HasAmmo  (EwtTemp )){
#line 3956 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetAltWeapon  (EwtTemp );
#line 3957 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3958 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3959 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3962 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BOOL bChange  = (((1 << (EwtTemp  - 1)) & m_iAvailableWeapons ) && HasAmmo  (EwtTemp ));
#line 3963 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(bChange ){
#line 3964 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iWantedWeapon  = EwtTemp ;
#line 3965 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = TRUE ;
#line 3966 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 3967 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
BOOL CPlayerWeapons::
#line 4053 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Main(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Main
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EWeaponsInit, "CPlayerWeapons::Main expects 'EWeaponsInit' as input!");	const EWeaponsInit &eInit = (const EWeaponsInit &)__eeInput;
#line 4055 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ASSERT  ((CEntity  *) eInit  . eidOwner  != NULL );
#line 4056 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_penPlayer  = eInit  . eidOwner ;
#line 4057 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iPlayerID  = ((CEntity  *) m_penPlayer ) -> en_ulID ;
#line 4060 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
InitAsVoid  ();
#line 4061 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetFlags  (GetFlags  () | ENF_CROSSESLEVELS  | ENF_NOTIFYLEVELCHANGE );
#line 4062 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetPhysicsFlags  (EPF_MODEL_IMMATERIAL );
#line 4063 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetCollisionFlags  (ECF_IMMATERIAL );
#line 4064 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetFlagOn  (ENF_CLIENTHANDLING );
#line 4070 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
PlayDefaultAnim  ();
#line 4072 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x0192000b, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192000b_Main_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000b
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;
Call(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_ESelectWeapon):
#line 4076 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{const ESelectWeapon&eSelect= (ESelectWeapon&)__eeInput;

#line 4077 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 4078 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SelectWeaponChange  (eSelect  . iWeapon );
#line 4079 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_bChangeWeapon ){
#line 4080 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ENetSelectWeapon  eNetSelect ;
#line 4081 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eNetSelect  . iWeapon  = m_iWantedWeapon ;
#line 4082 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SendEvent  (eNetSelect  , TRUE );
#line 4083 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 4084 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 4085 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4086 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetSelectWeapon):{const ENetSelectWeapon&eNetSelect= (ENetSelectWeapon&)__eeInput;

#line 4099 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4100 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EPreLevelChange):{const EPreLevelChange&e= (EPreLevelChange&)__eeInput;

#line 4104 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = FALSE ;
#line 4105 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Call(STATE_CURRENT, STATE_CPlayerWeapons_Stopped, TRUE, EVoid());return TRUE;
#line 4106 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4107 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EFireWeapon):{const EFireWeapon&e= (EFireWeapon&)__eeInput;

#line 4109 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 4110 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SendEvent  (ENetFireWeapon  () , TRUE );
#line 4111 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 4112 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4113 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetFireWeapon):{const ENetFireWeapon&e= (ENetFireWeapon&)__eeInput;

#line 4116 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = TRUE ;
#line 4117 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4118 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EReleaseWeapon):{const EReleaseWeapon&e= (EReleaseWeapon&)__eeInput;

#line 4122 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SendEvent  (ENetReleaseWeapon  () , TRUE );
#line 4123 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4124 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetReleaseWeapon):{const ENetReleaseWeapon&e= (ENetReleaseWeapon&)__eeInput;

#line 4126 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = FALSE ;
#line 4127 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4128 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EReloadWeapon):{const EReloadWeapon&e= (EReloadWeapon&)__eeInput;

#line 4131 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SendEvent  (ENetReloadWeapon  () , TRUE );
#line 4132 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4133 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetReloadWeapon):{const ENetReloadWeapon&e= (ENetReloadWeapon&)__eeInput;

#line 4135 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bReloadWeapon  = TRUE ;
#line 4136 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4137 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EStop):{const EStop&e= (EStop&)__eeInput;
Call(STATE_CURRENT, STATE_CPlayerWeapons_Stopped, TRUE, EVoid());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_EEnd):{const EEnd&e= (EEnd&)__eeInput;
UnsetTimer();Jump(STATE_CURRENT,0x0192000c, FALSE, EInternal());return TRUE;}ASSERT(FALSE);break;default: return FALSE; break;
#line 4140 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x0192000c_Main_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000c

#line 4143 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Destroy  (FALSE );
#line 4144 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EVoid());
#line 4144 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4432 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Fire(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Fire
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Fire expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 4434 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4435 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Stop  ();
#line 4437 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_tmWeaponChangeRequired  = 0;
#line 4439 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = TRUE ;
#line 4440 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bHasAmmo  = HasAmmo  (m_iCurrentWeapon );
#line 4443 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(! m_bHasAmmo )
#line 4444 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 4451 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE;
#line 4452 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 4455 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Setup3DSoundParameters  ();
#line 4483 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_iLastBulletPosition  = FLOAT3D (32000.0f , 32000.0f , 32000.0f);
#line 4488 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x01920010, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920010_Fire_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920010
if(!(HoldingFire  () && m_bHasAmmo )){ Jump(STATE_CURRENT,0x01920011, FALSE, EInternal());return TRUE;}
#line 4490 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . m_fLastActionTime  = _pTimer  -> CurrentTick  ();
#line 4491 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x0192000e, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192000e_Fire_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000e
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;

#line 4494 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 4495 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : Call(STATE_CURRENT, STATE_CPlayerWeapons_SwingKnife, TRUE, EVoid());return TRUE;break ;
#line 4505 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown weapon.");
#line 4506 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 4507 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4508 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EEnd):{const EEnd&e= (EEnd&)__eeInput;

#line 4510 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
UnsetTimer();Jump(STATE_CURRENT,0x0192000f, FALSE, EInternal());return TRUE;
#line 4511 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;default: return FALSE; break;
#line 4512 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x0192000f_Fire_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000f
Jump(STATE_CURRENT,0x01920010, FALSE, EInternal());return TRUE;
#line 4513 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x01920011_Fire_04(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920011
 ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4533 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SwingKnife(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_SwingKnife
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::SwingKnife expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 4534 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
INDEX iSwing ;
#line 4537 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_KNIFE_ATTACK  , 0);
#line 4539 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4541 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(m_iKnifeStand ){
#line 4542 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 1: 
#line 4543 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
iSwing  = IRnd  () % 2;
#line 4544 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(iSwing ){
#line 4545 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 0: m_iAnim  = KNIFE_ANIM_ATTACK01 ;m_fAnimWaitTime  = 0.25f;
#line 4548 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4549 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 4550 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 1: m_iAnim  = KNIFE_ANIM_ATTACK02 ;m_fAnimWaitTime  = 0.35f;
#line 4553 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4554 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 4555 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 4556 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 4557 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 3: 
#line 4558 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
iSwing  = IRnd  () % 2;
#line 4559 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(iSwing ){
#line 4560 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 0: m_iAnim  = KNIFE_ANIM_ATTACK01 ;m_fAnimWaitTime  = 0.50f;
#line 4563 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4564 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 4565 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case 1: m_iAnim  = KNIFE_ANIM_ATTACK02 ;m_fAnimWaitTime  = 0.50f;
#line 4568 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4569 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 4570 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 4571 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
break ;
#line 4572 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 4573 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (m_iAnim  , 0);
#line 4574 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(!(_pNetwork  -> IsServer  ())){ Jump(STATE_CURRENT,0x0192001c, FALSE, EInternal());return TRUE;}
#line 4575 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(!(CutWithKnife  (0 , 0 , 3.0f , 2.0f , 0.5f , ((GetSP  () -> sp_bCooperative ) ? 100.0f : 50.0f)))){ Jump(STATE_CURRENT,0x0192001b, FALSE, EInternal());return TRUE;}
#line 4576 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_fAnimWaitTime );
Jump(STATE_CURRENT, 0x01920013, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920013_SwingKnife_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920013
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920014, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920014_SwingKnife_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920014
;Jump(STATE_CURRENT,0x0192001a, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192001b_SwingKnife_09(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001b
if(!(TRUE )){ Jump(STATE_CURRENT,0x01920019, FALSE, EInternal());return TRUE;}
#line 4578 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_fAnimWaitTime  / 2);
Jump(STATE_CURRENT, 0x01920015, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920015_SwingKnife_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920015
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920016, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920016_SwingKnife_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920016
;
#line 4579 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CutWithKnife  (0 , 0 , 3.0f , 2.0f , 0.5f , ((GetSP  () -> sp_bCooperative ) ? 100.0f : 50.0f));
#line 4580 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_fAnimWaitTime  / 2);
Jump(STATE_CURRENT, 0x01920017, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920017_SwingKnife_05(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920017
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920018, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920018_SwingKnife_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920018
;Jump(STATE_CURRENT,0x01920019, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920019_SwingKnife_07(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920019
Jump(STATE_CURRENT,0x0192001a, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x0192001a_SwingKnife_08(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001a
Jump(STATE_CURRENT,0x0192001c, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192001c_SwingKnife_10(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001c

#line 4584 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(!(m_moWeapon  . GetAnimLength  (m_iAnim ) - m_fAnimWaitTime  >= _pTimer  -> TickQuantum )){ Jump(STATE_CURRENT,0x0192001f, FALSE, EInternal());return TRUE;}
#line 4585 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (m_iAnim ) - m_fAnimWaitTime );
Jump(STATE_CURRENT, 0x0192001d, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192001d_SwingKnife_11(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001d
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192001e, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192001e_SwingKnife_12(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001e
;Jump(STATE_CURRENT,0x0192001f, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192001f_SwingKnife_13(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001f

#line 4587 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4587 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5661 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ChainsawFire(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChainsawFire
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChainsawFire expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 5663 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5666 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 5667 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_CS_BEGINFIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5668 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawBeginFire");}
#line 5671 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_WAIT2FIRE  , 0);
#line 5672 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (CHAINSAW_ANIM_WAIT2FIRE ) - 0.05f);
Jump(STATE_CURRENT, 0x01920021, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920021_ChainsawFire_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920021
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920022, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920022_ChainsawFire_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920022
;
#line 5674 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator  & pa  = * GetAnimator  ();
#line 5675 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pa  . FireAnimation  (BODY_ANIM_MINIGUN_FIRELONG  , 0);
#line 5677 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelObject * pmoTeeth  = GetChainSawTeeth  ();
#line 5678 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pmoTeeth  != NULL )
#line 5679 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 5680 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pmoTeeth  -> PlayAnim  (TEETH_ANIM_ROTATE  , AOF_LOOPING  | AOF_NORESTART );
#line 5681 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 5684 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5686 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 0.5f , 1.0f);
#line 5688 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_CS_FIRE  , SOF_3D  | SOF_LOOP  | SOF_VOLUMETRIC );
#line 5689 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_StopEffect  ("ChainsawIdle");}
#line 5690 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawFire");}
#line 5692 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_FIRE  , AOF_LOOPING  | AOF_NORESTART );
#line 5695 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo1  = & (m_moWeapon  . GetAttachmentModel  (CHAINSAW_ATTACHMENT_BLADE ) -> amo_moModelObject );
#line 5696 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo2  = & (pmo1  -> GetAttachmentModel  (BLADE_ATTACHMENT_TEETH ) -> amo_moModelObject );
#line 5697 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pmo2  -> PlayAnim  (TEETH_ANIM_ROTATE  , AOF_LOOPING );
#line 5699 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x01920025, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920025_ChainsawFire_05(const CEntityEvent &__eeInput)
#line 5700 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920025
if(!(HoldingFire  ())){ Jump(STATE_CURRENT,0x01920026, FALSE, EInternal());return TRUE;}
#line 5701 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(CHAINSAW_UPDATETIME );
Jump(STATE_CURRENT, 0x01920023, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920023_ChainsawFire_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920023
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920024, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920024_ChainsawFire_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920024
;
#line 5702 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 5704 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CutWithChainsaw  (0 , 0 , 3.0f , 2.0f , 1.0f , 
#line 5705 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
((GetSP  () -> sp_bCooperative ) ? 200.0f : 250.0f) * CHAINSAW_UPDATETIME );
#line 5706 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x01920025, FALSE, EInternal());return TRUE;
#line 5707 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x01920026_ChainsawFire_06(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920026

#line 5711 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5712 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_CS_ENDFIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5713 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_StopEffect  ("ChainsawFire");}
#line 5714 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawEnd");}
#line 5715 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawIdle");}
#line 5717 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 0.8f , 1.0f);
#line 5719 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_FIRE2WAIT  , 0);
#line 5720 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (CHAINSAW_ANIM_FIRE2WAIT ));
Jump(STATE_CURRENT, 0x01920027, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920027_ChainsawFire_07(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920027
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920028, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920028_ChainsawFire_08(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920028
;
#line 5723 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo1  = & (m_moWeapon  . GetAttachmentModel  (CHAINSAW_ATTACHMENT_BLADE ) -> amo_moModelObject );
#line 5724 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo2  = & (pmo1  -> GetAttachmentModel  (BLADE_ATTACHMENT_TEETH ) -> amo_moModelObject );
#line 5725 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pmo2  -> PlayAnim  (TEETH_ANIM_DEFAULT  , 0);
#line 5727 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CModelObject * pmoTeeth  = GetChainSawTeeth  ();
#line 5728 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(pmoTeeth  != NULL )
#line 5729 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 5730 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pmoTeeth  -> PlayAnim  (TEETH_ANIM_DEFAULT  , 0);
#line 5731 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 5733 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5737 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ChainsawBringUp(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChainsawBringUp
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChainsawBringUp expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 5740 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_FIRE2WAIT  , 0);
#line 5741 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (CHAINSAW_ANIM_FIRE2WAIT ));
Jump(STATE_CURRENT, 0x0192002a, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192002a_ChainsawBringUp_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002a
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192002b, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192002b_ChainsawBringUp_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002b
;
#line 5742 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5915 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Reload(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Reload
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Reload expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 5916 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bReloadWeapon  = FALSE ;
#line 5931 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5938 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ChangeKnifeStand(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChangeKnifeStand
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChangeKnifeStand expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 5951 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 5951 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5994 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
BoringWeaponAnimation(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_BoringWeaponAnimation
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::BoringWeaponAnimation expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 5996 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
FLOAT fWait  = 0.0f;
#line 5997 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 5998 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : fWait  = KnifeBoring  ();break ;
#line 6012 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown weapon.");
#line 6013 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 6014 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(!(fWait  > 0.0f)){ Jump(STATE_CURRENT,0x01920031, FALSE, EInternal());return TRUE;}SetTimerAfter(fWait );
Jump(STATE_CURRENT, 0x0192002f, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192002f_BoringWeaponAnimation_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002f
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920030, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920030_BoringWeaponAnimation_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920030
;Jump(STATE_CURRENT,0x01920031, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920031_BoringWeaponAnimation_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920031

#line 6016 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EBegin  ());
#line 6016 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 6024 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Idle(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Idle
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Idle expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 6026 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x01920033, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920033_Idle_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920033
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;

#line 6029 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
PlayDefaultAnim  ();
#line 6032 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_bChangeWeapon ){
#line 6033 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 6034 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ENetSelectWeapon  eNetSelect ;
#line 6035 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eNetSelect  . iWeapon  = m_iWantedWeapon ;
#line 6036 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SendEvent  (eNetSelect  , TRUE );
#line 6037 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 6038 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6039 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 6041 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_bFireWeapon ){
#line 6042 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 6043 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SendEvent  (ENetFireWeapon  () , TRUE );
#line 6044 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 6045 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6046 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 6048 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_bReloadWeapon )
#line 6049 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{
#line 6056 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6057 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 6058 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6059 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ESelectWeapon):{const ESelectWeapon&eSelect= (ESelectWeapon&)__eeInput;

#line 6062 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 6063 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SelectWeaponChange  (eSelect  . iWeapon );
#line 6064 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(m_bChangeWeapon ){
#line 6065 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ENetSelectWeapon  eNetSelect ;
#line 6066 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
eNetSelect  . iWeapon  = m_iWantedWeapon ;
#line 6067 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SendEvent  (eNetSelect  , TRUE );
#line 6068 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 6069 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 6070 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6071 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetSelectWeapon):{const ENetSelectWeapon&eNetSelect= (ENetSelectWeapon&)__eeInput;

#line 6084 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6085 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EFireWeapon):{const EFireWeapon&e= (EFireWeapon&)__eeInput;

#line 6088 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsServer  ()){
#line 6089 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SendEvent  (ENetFireWeapon  () , TRUE );
#line 6090 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}
#line 6091 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6092 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetFireWeapon):{const ENetFireWeapon&e= (ENetFireWeapon&)__eeInput;

#line 6094 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Fire, TRUE, EVoid());return TRUE;
#line 6095 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EReloadWeapon):
#line 6098 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
{const EReloadWeapon&e= (EReloadWeapon&)__eeInput;

#line 6105 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6106 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ENetReloadWeapon):{const ENetReloadWeapon&e= (ENetReloadWeapon&)__eeInput;

#line 6108 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Reload, TRUE, EVoid());return TRUE;
#line 6109 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EBoringWeapon):{const EBoringWeapon&e= (EBoringWeapon&)__eeInput;

#line 6112 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Call(STATE_CURRENT, STATE_CPlayerWeapons_BoringWeaponAnimation, TRUE, EVoid());return TRUE;
#line 6113 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;default: return FALSE; break;
#line 6114 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x01920034_Idle_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920034
 ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 6118 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
Stopped(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Stopped
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Stopped expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 6128 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
ResetWeaponMovingOffset  ();
#line 6129 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 6130 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Stop  ();
#line 6131 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon1  . Stop  ();
#line 6132 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon2  . Stop  ();
#line 6133 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon3  . Stop  ();
#line 6134 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_NONE  , 0);
#line 6135 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x01920036, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920036_Stopped_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920036
switch(__eeInput.ee_slEvent){case(EVENTCODE_EPostLevelChange):{const EPostLevelChange&e= (EPostLevelChange&)__eeInput;
Return(STATE_CURRENT,EBegin  ());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_EStart):{const EStart&e= (EStart&)__eeInput;
Return(STATE_CURRENT,EBegin  ());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_ENetReleaseWeapon):{const ENetReleaseWeapon&e= (ENetReleaseWeapon&)__eeInput;

#line 6140 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = FALSE ;
#line 6141 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 6142 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;default:{return TRUE;}ASSERT(FALSE);break;
#line 6144 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x01920037_Stopped_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920037
 ASSERT(FALSE); return TRUE;};