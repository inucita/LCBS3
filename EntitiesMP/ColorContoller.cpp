/*
 * This file is generated by Entity Class Compiler, (c) CroTeam 1997-98
 */

#line 2 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"

#include "StdH.h"
#include <Engine/Base/Timer.h>

inline BOOL IsNull(CEntityPointer &pen)	{ return pen.ep_pen == NULL; }
inline BOOL NotNull(CEntityPointer &pen)	{ return pen.ep_pen != NULL; }

#include <EntitiesMP/ColorContoller.h>
#include <EntitiesMP/ColorContoller_tables.h>
void CColorController::SetDefaultProperties(void) {
  m_cctType = CCT_COLORANDALPHA ;
  m_strName = "";
  m_colGoal = (C_WHITE  | CT_OPAQUE );
  m_fFadeInTime = 1200.0f;
  m_fFadeOutTime = 1200.0f;
  m_penTarget01 = NULL;
  m_penTarget02 = NULL;
  m_penTarget03 = NULL;
  m_penTarget04 = NULL;
  m_penTarget05 = NULL;
  m_penTarget06 = NULL;
  m_penTarget07 = NULL;
  m_penTarget08 = NULL;
  m_penTarget09 = NULL;
  m_penTarget10 = NULL;
  m_penTarget11 = NULL;
  m_penTarget12 = NULL;
  m_penTarget13 = NULL;
  m_penTarget14 = NULL;
  m_penTarget15 = NULL;
  m_penTarget16 = NULL;
  m_penTarget17 = NULL;
  m_penTarget18 = NULL;
  m_penTarget19 = NULL;
  m_penTarget20 = NULL;
  CRationalEntity::SetDefaultProperties();
}
  
#line 88 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
BOOL CColorController::IsTargetValid(SLONG slPropertyOffset,CEntity * penTarget) 
#line 89 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 90 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(penTarget  == NULL ){return FALSE ;}
#line 92 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ULONG  ulFirst  , ulLast ;
#line 95 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ulFirst  = offsetof  (CColorController  , m_penTarget01 );
#line 96 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ulLast  = offsetof  (CColorController  , m_penTarget10 );
#line 97 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(slPropertyOffset  >= ulFirst  && slPropertyOffset  <= ulLast )
#line 98 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 99 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
return IsDerivedFromClass  (penTarget  , & CModelHolder3_DLLClass ) 
#line 100 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
|| IsDerivedFromClass  (penTarget  , & CModelHolder2_DLLClass ) 
#line 101 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
|| IsDerivedFromClass  (penTarget  , & CLight_DLLClass );
#line 102 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 103 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
return CEntity  :: IsTargetValid  (slPropertyOffset  , penTarget );
#line 104 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
  
#line 106 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
COLOR CColorController::GetColor(CEntityPointer pen) 
#line 107 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 108 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(IsNull  (pen )){return C_BLACK ;}
#line 110 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(IsDerivedFromClass  (pen  , & CModelHolder3_DLLClass ))
#line 111 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 112 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
return ((CModelHolder3  *) (CEntity  *) pen ) -> m_colModelColor ;
#line 113 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 114 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
else if(IsDerivedFromClass  (pen  , & CModelHolder2_DLLClass ))
#line 115 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 116 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
return ((CModelHolder2  *) (CEntity  *) pen ) -> m_colModelColor ;
#line 117 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 118 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
else if(IsDerivedFromClass  (pen  , & CLight_DLLClass ))
#line 119 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 120 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
return ((CLight  *) (CEntity  *) pen ) -> m_colColor ;
#line 121 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 122 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
return C_WHITE  | CT_OPAQUE ;
#line 123 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
  
#line 124 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
void CColorController::SetColor(CEntityPointer pen,COLOR color) 
#line 125 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 126 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(IsNull  (pen )){return ;}
#line 128 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(IsDerivedFromClass  (pen  , & CModelHolder3_DLLClass ))
#line 129 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 130 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
((CModelHolder3  *) (CEntity  *) pen ) -> SetModelColor  (color );
#line 131 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 132 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
else if(IsDerivedFromClass  (pen  , & CModelHolder2_DLLClass ))
#line 133 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 134 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
((CModelHolder2  *) (CEntity  *) pen ) -> SetModelColor  (color );
#line 135 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 136 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
else if(IsDerivedFromClass  (pen  , & CLight_DLLClass ))
#line 137 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 138 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
((CLight  *) (CEntity  *) pen ) -> m_lsLightSource  . ls_colColor  = color ;
#line 139 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 140 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
  
#line 142 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
void CColorController::FillTargetOriginalColor() 
#line 143 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 144 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget01 )){m_colTarget01  = GetColor  (m_penTarget01 );}
#line 145 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget02 )){m_colTarget02  = GetColor  (m_penTarget02 );}
#line 146 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget03 )){m_colTarget03  = GetColor  (m_penTarget03 );}
#line 147 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget04 )){m_colTarget04  = GetColor  (m_penTarget04 );}
#line 148 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget05 )){m_colTarget05  = GetColor  (m_penTarget05 );}
#line 149 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget06 )){m_colTarget06  = GetColor  (m_penTarget06 );}
#line 150 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget07 )){m_colTarget07  = GetColor  (m_penTarget07 );}
#line 151 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget08 )){m_colTarget08  = GetColor  (m_penTarget08 );}
#line 152 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget09 )){m_colTarget09  = GetColor  (m_penTarget09 );}
#line 153 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget10 )){m_colTarget10  = GetColor  (m_penTarget10 );}
#line 154 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget11 )){m_colTarget11  = GetColor  (m_penTarget11 );}
#line 155 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget12 )){m_colTarget12  = GetColor  (m_penTarget12 );}
#line 156 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget13 )){m_colTarget13  = GetColor  (m_penTarget13 );}
#line 157 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget14 )){m_colTarget14  = GetColor  (m_penTarget14 );}
#line 158 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget15 )){m_colTarget15  = GetColor  (m_penTarget15 );}
#line 159 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget16 )){m_colTarget16  = GetColor  (m_penTarget16 );}
#line 160 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget17 )){m_colTarget17  = GetColor  (m_penTarget17 );}
#line 161 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget18 )){m_colTarget18  = GetColor  (m_penTarget18 );}
#line 162 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget19 )){m_colTarget19  = GetColor  (m_penTarget19 );}
#line 163 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget20 )){m_colTarget20  = GetColor  (m_penTarget20 );}
#line 164 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
  
#line 165 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
FLOAT CColorController::GetRatio() 
#line 166 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 167 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(m_bIsFadeIn ){return Clamp  (1.0f - m_fLeftFadeTime  / m_fAllFadeTime  , 0.0f , 1.0f);}
#line 168 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
else {return Clamp  (m_fLeftFadeTime  / m_fAllFadeTime  , 0.0f , 1.0f);}
#line 169 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
  
#line 170 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
void CColorController::ColorProcess(CEntityPointer pen,COLOR colOriginal,FLOAT fRatio) 
#line 171 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 172 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(IsNull  (pen )){return ;}
#line 174 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
COLOR color ;
#line 175 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(m_cctType  == CCT_COLORANDALPHA  || m_cctType  == CCT_DAYNIGHTCOLOR )
#line 176 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 177 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
color  = LerpColorInline  (colOriginal  , m_colGoal  , fRatio );
#line 178 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 179 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
else if(m_cctType  == CCT_ONLYCOLOR )
#line 180 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 181 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
UBYTE  ubR0  , ubG0  , ubB0  , ubA0 ;
#line 182 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
UBYTE  ubR1  , ubG1  , ubB1 ;
#line 183 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ColorToRGBA  (colOriginal  , ubR0  , ubG0  , ubB0  , ubA0 );
#line 184 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ColorToRGB  (m_colGoal  , ubR1  , ubG1  , ubB1 );
#line 185 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ubR0  = Lerp  (ubR0  , ubR1  , fRatio );
#line 186 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ubG0  = Lerp  (ubG0  , ubG1  , fRatio );
#line 187 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ubB0  = Lerp  (ubB0  , ubB1  , fRatio );
#line 188 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
color  = RGBAToColor  (ubR0  , ubG0  , ubB0  , ubA0 );
#line 189 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 190 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
else if(m_cctType  == CCT_ONLYALPHA )
#line 191 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 192 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
UBYTE  ubR0  , ubG0  , ubB0  , ubA0 ;
#line 193 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
UBYTE  ubA1 ;
#line 194 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ColorToRGBA  (colOriginal  , ubR0  , ubG0  , ubB0  , ubA0 );
#line 195 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ubA1  = m_colGoal  & CT_OPAQUE ;
#line 196 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
ubA0  = Lerp  (ubA0  , ubA1  , fRatio );
#line 197 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
color  = RGBAToColor  (ubR0  , ubG0  , ubB0  , ubA0 );
#line 198 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 200 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
SetColor  (pen  , color );
#line 201 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
  
#line 203 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
void CColorController::DayNightProcess() 
#line 204 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 205 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
DOUBLE  tmOffset  = GAMETIME_ONEDAY_SECOND  - GAMETIME_MORNING_SECOND ;
#line 206 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
DOUBLE  dGWTSecondFromMorning  = g_fGWTime  + tmOffset ;
#line 208 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(dGWTSecondFromMorning  > GAMETIME_ONEDAY_SECOND )
#line 209 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 210 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
dGWTSecondFromMorning  -= GAMETIME_ONEDAY_SECOND  * (INDEX) (dGWTSecondFromMorning  / GAMETIME_ONEDAY_SECOND );
#line 211 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 215 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
FLOAT fRatio  = 1.0f;
#line 216 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(dGWTSecondFromMorning  < GAMETIME_NOONDAY_SECOND )
#line 217 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 218 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
fRatio  = ClampUp  (dGWTSecondFromMorning  / (DOUBLE ) m_fFadeOutTime  , 1.0);
#line 219 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 221 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
else 
#line 222 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 223 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
fRatio  = 1.0f - ClampUp  ((dGWTSecondFromMorning  - GAMETIME_NOONDAY_SECOND ) / (DOUBLE ) m_fFadeInTime  , 1.0);
#line 224 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 225 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget01 )){ColorProcess  (m_penTarget01  , m_colTarget01  , fRatio );}
#line 226 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget02 )){ColorProcess  (m_penTarget02  , m_colTarget02  , fRatio );}
#line 227 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget03 )){ColorProcess  (m_penTarget03  , m_colTarget03  , fRatio );}
#line 228 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget04 )){ColorProcess  (m_penTarget04  , m_colTarget04  , fRatio );}
#line 229 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget05 )){ColorProcess  (m_penTarget05  , m_colTarget05  , fRatio );}
#line 230 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget06 )){ColorProcess  (m_penTarget06  , m_colTarget06  , fRatio );}
#line 231 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget07 )){ColorProcess  (m_penTarget07  , m_colTarget07  , fRatio );}
#line 232 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget08 )){ColorProcess  (m_penTarget08  , m_colTarget08  , fRatio );}
#line 233 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget09 )){ColorProcess  (m_penTarget09  , m_colTarget09  , fRatio );}
#line 234 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget10 )){ColorProcess  (m_penTarget10  , m_colTarget10  , fRatio );}
#line 235 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget11 )){ColorProcess  (m_penTarget11  , m_colTarget11  , fRatio );}
#line 236 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget12 )){ColorProcess  (m_penTarget12  , m_colTarget12  , fRatio );}
#line 237 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget13 )){ColorProcess  (m_penTarget13  , m_colTarget13  , fRatio );}
#line 238 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget14 )){ColorProcess  (m_penTarget14  , m_colTarget14  , fRatio );}
#line 239 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget15 )){ColorProcess  (m_penTarget15  , m_colTarget15  , fRatio );}
#line 240 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget16 )){ColorProcess  (m_penTarget16  , m_colTarget16  , fRatio );}
#line 241 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget17 )){ColorProcess  (m_penTarget17  , m_colTarget17  , fRatio );}
#line 242 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget18 )){ColorProcess  (m_penTarget18  , m_colTarget18  , fRatio );}
#line 243 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget19 )){ColorProcess  (m_penTarget19  , m_colTarget19  , fRatio );}
#line 244 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget20 )){ColorProcess  (m_penTarget20  , m_colTarget20  , fRatio );}
#line 245 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
BOOL CColorController::
#line 248 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
Fade(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CColorController_Fade
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CColorController::Fade expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 250 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
m_fPrevGWTime  = g_fGWTime ;
#line 251 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
Jump(STATE_CURRENT,0x02640003, FALSE, EInternal());return TRUE;}BOOL CColorController::H0x02640003_Fade_03(const CEntityEvent &__eeInput)
#line 252 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x02640003
if(!(m_fLeftFadeTime  >= 0.0f)){ Jump(STATE_CURRENT,0x02640004, FALSE, EInternal());return TRUE;}
#line 253 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
m_fLeftFadeTime  -= g_fGWTime  - m_fPrevGWTime ;
#line 254 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
m_fPrevGWTime  = g_fGWTime ;
#line 256 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
FLOAT fRatio  = GetRatio  ();
#line 258 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget01 )){ColorProcess  (m_penTarget01  , m_colTarget01  , fRatio );}
#line 259 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget02 )){ColorProcess  (m_penTarget02  , m_colTarget02  , fRatio );}
#line 260 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget03 )){ColorProcess  (m_penTarget03  , m_colTarget03  , fRatio );}
#line 261 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget04 )){ColorProcess  (m_penTarget04  , m_colTarget04  , fRatio );}
#line 262 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget05 )){ColorProcess  (m_penTarget05  , m_colTarget05  , fRatio );}
#line 263 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget06 )){ColorProcess  (m_penTarget06  , m_colTarget06  , fRatio );}
#line 264 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget07 )){ColorProcess  (m_penTarget07  , m_colTarget07  , fRatio );}
#line 265 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget08 )){ColorProcess  (m_penTarget08  , m_colTarget08  , fRatio );}
#line 266 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget09 )){ColorProcess  (m_penTarget09  , m_colTarget09  , fRatio );}
#line 267 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget10 )){ColorProcess  (m_penTarget10  , m_colTarget10  , fRatio );}
#line 268 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget11 )){ColorProcess  (m_penTarget11  , m_colTarget11  , fRatio );}
#line 269 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget12 )){ColorProcess  (m_penTarget12  , m_colTarget12  , fRatio );}
#line 270 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget13 )){ColorProcess  (m_penTarget13  , m_colTarget13  , fRatio );}
#line 271 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget14 )){ColorProcess  (m_penTarget14  , m_colTarget14  , fRatio );}
#line 272 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget15 )){ColorProcess  (m_penTarget15  , m_colTarget15  , fRatio );}
#line 273 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget16 )){ColorProcess  (m_penTarget16  , m_colTarget16  , fRatio );}
#line 274 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget17 )){ColorProcess  (m_penTarget17  , m_colTarget17  , fRatio );}
#line 275 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget18 )){ColorProcess  (m_penTarget18  , m_colTarget18  , fRatio );}
#line 276 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget19 )){ColorProcess  (m_penTarget19  , m_colTarget19  , fRatio );}
#line 277 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(NotNull  (m_penTarget20 )){ColorProcess  (m_penTarget20  , m_colTarget20  , fRatio );}
#line 279 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
SetTimerAfter(_pTimer  -> TickQuantum );
Jump(STATE_CURRENT, 0x02640001, FALSE, EBegin());return TRUE;}BOOL CColorController::H0x02640001_Fade_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x02640001
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x02640002, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CColorController::H0x02640002_Fade_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x02640002
;Jump(STATE_CURRENT,0x02640003, FALSE, EInternal());return TRUE;
#line 280 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}BOOL CColorController::H0x02640004_Fade_04(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x02640004

#line 281 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
Jump(STATE_CURRENT, STATE_CColorController_MainLoop, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CColorController::
#line 283 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
MainLoop(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CColorController_MainLoop
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CColorController::MainLoop expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 285 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
SetTimerAfter(0.2f);
Jump(STATE_CURRENT, 0x02640006, FALSE, EBegin());return TRUE;}BOOL CColorController::H0x02640006_MainLoop_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x02640006
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x02640007, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CColorController::H0x02640007_MainLoop_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x02640007
;
#line 286 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
FillTargetOriginalColor  ();
#line 287 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x02640008, FALSE, EBegin());return TRUE;}BOOL CColorController::H0x02640008_MainLoop_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x02640008
switch(__eeInput.ee_slEvent)
#line 288 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{case(EVENTCODE_EBegin):
#line 290 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{const EBegin&e= (EBegin&)__eeInput;

#line 291 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
return TRUE;
#line 292 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}ASSERT(FALSE);break;case(EVENTCODE_EActivate):
#line 294 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{const EActivate&e= (EActivate&)__eeInput;

#line 295 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
m_bIsFadeIn  = TRUE ;
#line 296 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
m_fLeftFadeTime  = m_fAllFadeTime  = m_fFadeInTime ;
#line 298 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
Jump(STATE_CURRENT, STATE_CColorController_Fade, TRUE, EVoid());return TRUE;
#line 299 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}ASSERT(FALSE);break;case(EVENTCODE_EDeactivate):
#line 301 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{const EDeactivate&e= (EDeactivate&)__eeInput;

#line 302 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
m_bIsFadeIn  = FALSE ;
#line 303 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
m_fLeftFadeTime  = m_fAllFadeTime  = m_fFadeOutTime ;
#line 305 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
Jump(STATE_CURRENT, STATE_CColorController_Fade, TRUE, EVoid());return TRUE;
#line 306 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}ASSERT(FALSE);break;default: return FALSE; break;
#line 307 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}return TRUE;}BOOL CColorController::H0x02640009_MainLoop_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x02640009
; ASSERT(FALSE); return TRUE;};BOOL CColorController::
#line 310 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
DyaNightLoop(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CColorController_DyaNightLoop
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CColorController::DyaNightLoop expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 312 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
SetTimerAfter(0.2f);
Jump(STATE_CURRENT, 0x0264000b, FALSE, EBegin());return TRUE;}BOOL CColorController::H0x0264000b_DyaNightLoop_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0264000b
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0264000c, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CColorController::H0x0264000c_DyaNightLoop_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0264000c
;
#line 313 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
FillTargetOriginalColor  ();
#line 314 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
Jump(STATE_CURRENT,0x0264000f, FALSE, EInternal());return TRUE;}BOOL CColorController::H0x0264000f_DyaNightLoop_05(const CEntityEvent &__eeInput)
#line 315 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0264000f
if(!(TRUE )){ Jump(STATE_CURRENT,0x02640010, FALSE, EInternal());return TRUE;}
#line 316 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
SetTimerAfter(0.5f * FRnd  () + 0.5f);
Jump(STATE_CURRENT, 0x0264000d, FALSE, EBegin());return TRUE;}BOOL CColorController::H0x0264000d_DyaNightLoop_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0264000d
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0264000e, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CColorController::H0x0264000e_DyaNightLoop_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0264000e
;
#line 317 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
DayNightProcess  ();Jump(STATE_CURRENT,0x0264000f, FALSE, EInternal());return TRUE;
#line 318 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}BOOL CColorController::H0x02640010_DyaNightLoop_06(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x02640010
 ASSERT(FALSE); return TRUE;};BOOL CColorController::
#line 321 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
Main(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CColorController_Main
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CColorController::Main expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 324 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
InitAsVoid  ();
#line 325 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
SetPhysicsFlags  (EPF_MODEL_IMMATERIAL );
#line 326 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
SetCollisionFlags  (ECF_IMMATERIAL );
#line 332 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
m_fFadeInTime  = ClampDn  (m_fFadeInTime  , 0.0f);
#line 333 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
m_fFadeOutTime  = ClampDn  (m_fFadeOutTime  , 0.0f);
#line 334 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(m_fFadeInTime  <= 0){m_fFadeInTime  = 0.000001f;}
#line 335 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(m_fFadeOutTime  <= 0){m_fFadeOutTime  = 0.000001f;}
#line 337 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
m_bIsFadeIn  = TRUE ;
#line 338 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
FillTargetOriginalColor  ();
#line 340 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
if(m_cctType  == CCT_DAYNIGHTCOLOR )
#line 341 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 342 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
DayNightProcess  ();
#line 343 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
Jump(STATE_CURRENT, STATE_CColorController_DyaNightLoop, TRUE, EVoid());return TRUE;
#line 344 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
}
#line 345 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
else 
#line 346 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
{
#line 347 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
Jump(STATE_CURRENT, STATE_CColorController_MainLoop, TRUE, EVoid());return TRUE;
#line 348 "E:/질산/Korea/Client_USA/EntitiesMP/ColorContoller.es"
} ASSERT(FALSE); return TRUE;};