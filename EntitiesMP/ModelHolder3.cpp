/*
 * This file is generated by Entity Class Compiler, (c) CroTeam 1997-98
 */

#line 2 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"

#include "StdH.h"
#include "EntitiesMP/WorldSettingsController.h"
//안태훈 수정 시작	//(Effect Add & Modify for Close Beta)(0.1)
#include <engine/Effect/CEffectGroup.h>
#include <engine/Effect/CEffectGroupManager.h>
#include <Engine/Effect/CSkaTag.h>
//안태훈 수정 끝	//(Effect Add & Modify for Close Beta)(0.1)

#include <ModelHolder3.h>
#include <ModelHolder3_tables.h>
CEntityEvent *EModel3Activate::MakeCopy(void) { 	CEntityEvent *peeCopy = new EModel3Activate(*this); 	return peeCopy;}
SLONG EModel3Activate::GetSizeOf(void) { 	return sizeof(*this);}
EModel3Activate::EModel3Activate() : CEntityEvent(EVENTCODE_EModel3Activate) {
}
BOOL EModel3Activate::CheckIDs(void) {	return TRUE ; }

CEntityEvent *EModel3Deactivate::MakeCopy(void) { 	CEntityEvent *peeCopy = new EModel3Deactivate(*this); 	return peeCopy;}
SLONG EModel3Deactivate::GetSizeOf(void) { 	return sizeof(*this);}
EModel3Deactivate::EModel3Deactivate() : CEntityEvent(EVENTCODE_EModel3Deactivate) {
}
BOOL EModel3Deactivate::CheckIDs(void) {	return TRUE ; }

CEntityEvent *EModel3Action::MakeCopy(void) { 	CEntityEvent *peeCopy = new EModel3Action(*this); 	return peeCopy;}
SLONG EModel3Action::GetSizeOf(void) { 	return sizeof(*this);}
EModel3Action::EModel3Action() : CEntityEvent(EVENTCODE_EModel3Action) {
}
BOOL EModel3Action::CheckIDs(void) {	return TRUE ; }

#line 24 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"

// #define MIPRATIO 0.003125f //(2*tan(90/2))/640

void CModelHolder3::SetDefaultProperties(void) {
	m_bRaidObject = FALSE ;
	m_RaidEventType = 0;
	m_bObjectClick = TRUE ;
	m_fnModel = CTFILENAME("Data\\Models\\Editor\\Ska\\Axis.smc");
	m_fnTexture = CTFILENAME("Data\\Models\\Editor\\Vector.tex");
	m_fStretchAll = 1.0f;
	m_vStretchXYZ = FLOAT3D(1.0f , 1.0f , 1.0f);
	m_strName = "";
	m_strDescription = "";
	m_bColliding = FALSE ;
	m_strModelAnimation = "";
	m_stClusterShadows = ST_CLUSTER ;
	m_bBackground = FALSE ;
	m_bTargetable = FALSE ;
	m_cstCustomShading = CST_NONE ;
	m_aShadingDirection = ANGLE3D(AngleDeg  (45.0f) , AngleDeg  (45.0f) , AngleDeg  (45.0f));
	m_colLight = C_WHITE ;
	m_colAmbient = C_BLACK ;
	m_vShadingDirection = FLOAT3D(0 , 1 , 0);
	m_bActive = TRUE ;
	m_colModelColor = 0xFFFFFFFF;
	m_rMipFadeDistMetric = -1.0f;
	m_fMipFadeLenMetric = -1.0f;
	m_bRandomStretch = FALSE ;
	m_fStretchRndXYZ = FLOAT3D(0.2f , 0.2f , 0.2f);
	m_fStretchRndAll = 0.0f;
	m_fStretchRandom = FLOAT3D(1 , 1 , 1);
	m_penDestruction = NULL;
	m_vDamage = FLOAT3D(0 , 0 , 0);
	m_tmLastDamage = -1000.0f;
	m_penDestroyTarget = NULL;
	m_penLastDamager = NULL;
	m_tmSpraySpawned = 0.0f;
	m_fSprayDamage = 0.0f;
	m_penSpray = NULL;
	m_fMaxDamageAmmount = 0.0f;
	m_fClassificationStretch = 1.0f;
	m_colBurning = COLOR(C_WHITE  | CT_OPAQUE );
	m_dmtLastDamageType = DMT_CHAINSAW ;
	m_fChainSawCutDamage = 300.0f;
	m_fMaxTessellationLevel = 0.0f;
	m_bDoNotLoopAnimation = FALSE ;
	m_bRenderReflection = FALSE ;
	m_bTerrainShadow = FALSE ;
	m_strEffectGroupNameEvent = "";
	m_bDecorationObject = FALSE ;
	m_bHasRootTag = FALSE ;
	m_strEffectGroupName = "";
	m_AlignBackground = FALSE ;
	m_bChangeAnimActive = FALSE ;
	m_strActionAnim = "";
	m_bFadeOut = FALSE ;
	CRationalEntity::SetDefaultProperties();
}

#line 134 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
void CModelHolder3::Precache(void) {
#line 135 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
PrecacheSkaModel  (EDITOR_AXIS_MODEL );
#line 136 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
PrecacheClass  (CLASS_BLOOD_SPRAY  , 0);
#line 137 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(en_pmiModelInstance ){en_pmiModelInstance  -> m_tmSkaTagManager  . SetOwner  (this );}
#line 138 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(en_pmiModelInstance  -> mi_pmisSerial  
#line 139 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
&& en_pmiModelInstance  -> mi_pmisSerial  -> mis_pmiModelInstance  
#line 140 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
&& en_pmiModelInstance  -> mi_pmisSerial  -> mis_pmiModelInstance  -> m_fnmAnimEffectFile  != "")
#line 141 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 142 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
en_pmiModelInstance  -> ReadAnimEffectFile  (en_pmiModelInstance  -> mi_pmisSerial  -> mis_pmiModelInstance  -> m_fnmAnimEffectFile );
#line 144 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 145 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> RefreshTagManager  ();
#line 146 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bHasRootTag  && GetModelInstance  ())
#line 147 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 148 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CSkaTag  tag ;
#line 149 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
tag  . SetName  ("__ROOT");
#line 150 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> m_tmSkaTagManager  . Register  (& tag );
#line 151 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
tag  . SetName  ("__TOP");
#line 152 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOATaabbox3D aabb ;
#line 153 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> GetAllFramesBBox  (aabb );
#line 154 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
tag  . SetOffsetPos  (0 , aabb  . Size  () (2) , 0);
#line 155 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> m_tmSkaTagManager  . Register  (& tag );
#line 156 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 157 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_strModelAnimation  != "" && ! m_bChangeAnimActive )
#line 158 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 159 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iAnim  = ska_GetIDFromStringTable  (m_strModelAnimation );
#line 160 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iDummy1  , iDummy2 ;
#line 161 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(GetModelInstance  () -> FindAnimationByID  (iAnim  , & iDummy1  , & iDummy2 )){
#line 162 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
NewClearState  (0.05f);
#line 163 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ULONG  ulFlags  = AN_LOOPING ;
#line 164 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bDoNotLoopAnimation ){
#line 165 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ulFlags  = 0;
#line 166 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 167 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
AddAnimation  (iAnim  , ulFlags  , 1 , 1);
#line 168 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
OffSetAnimationQueue  (FRnd  () * 10.0f);
#line 169 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 170 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CPrintF  ("WARNING! Animation '%s' not found in SKA entity '%s'!\n" , 
#line 171 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strModelAnimation  , GetName  ());
#line 172 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 173 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 174 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(GetModelInstance  () && m_strEffectGroupName  != "")
#line 175 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 176 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(CEffectGroupManager  :: Instance  () . IsValidCreated  (m_pModelEffectGroup ))
#line 177 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 178 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroup  -> Stop  (2);
#line 179 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 180 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroup  = StartEffectGroup  (m_strEffectGroupName  
#line 181 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
, & GetModelInstance  () -> m_tmSkaTagManager  
#line 182 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
, _pTimer  -> GetLerpedCurrentTick  () + rand  () / RAND_MAX );
#line 183 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 184 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else 
#line 185 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 186 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroup  = NULL ;
#line 187 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 189 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bRaidObject  && m_bObjectClick )
#line 190 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 191 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOn  (ENF_ALIVE );
#line 192 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFirstExtraFlagOn  (ENF_EX1_CLICK_OBJECT );
#line 193 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 194 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else 
#line 195 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 196 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOff  (ENF_ALIVE );
#line 197 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFirstExtraFlagOff  (ENF_EX1_CLICK_OBJECT );
#line 198 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 199 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 202 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
void CModelHolder3::RenderParticles(void) 
#line 203 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 205 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(GetRenderType  () != CEntity  :: RT_MODEL  && GetRenderType  () != CEntity  :: RT_SKAMODEL )
#line 206 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 207 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return ;
#line 208 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 210 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_fSpiritStartTime  > 0.0f && m_bFadeOut )
#line 211 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 213 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
const FLOAT tmNow  = _pTimer  -> CurrentTick  ();
#line 215 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Particles_Death  (this  , m_fSpiritStartTime );
#line 216 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 217 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 254 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
BOOL CModelHolder3::FillEntityStatistics(EntityStats * pes) 
#line 255 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 257 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
pes  -> es_strName  = m_fnModel  . FileName  ();
#line 259 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
pes  -> es_ctCount  = 1;
#line 260 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
pes  -> es_ctAmmount  = 1;
#line 261 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_penDestruction  != NULL ){
#line 262 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
pes  -> es_strName  += " (destroyable)";
#line 263 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
pes  -> es_fValue  = GetDestruction  () -> m_fHealth ;
#line 265 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 266 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
pes  -> es_fValue  = 0;
#line 268 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 269 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE ;
#line 270 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 273 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT3D CModelHolder3::GetClassificationBoxStretch(void) 
#line 274 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 275 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return FLOAT3D (m_fClassificationStretch  , m_fClassificationStretch  , m_fClassificationStretch );
#line 276 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 280 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT CModelHolder3::GetMaxTessellationLevel(void) 
#line 281 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 282 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return m_fMaxTessellationLevel ;
#line 283 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 287 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
void CModelHolder3::ReceiveDamage(CEntity * penInflictor,enum DamageType dmtType,
#line 288 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT fDamageAmmount,const FLOAT3D & vHitPoint,const FLOAT3D & vDirection) 
#line 289 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 290 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT fNewDamage  = fDamageAmmount ;
#line 293 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_penDestruction  == NULL ){
#line 295 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return ;
#line 296 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 297 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(dmtType  == DMT_BURNING )
#line 298 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 299 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
UBYTE  ubR  , ubG  , ubB  , ubA ;
#line 300 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ColorToRGBA  (m_colBurning  , ubR  , ubG  , ubB  , ubA );
#line 301 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ubR  = ClampDn  (ubR  - 4 , 32);
#line 302 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_colBurning  = RGBAToColor  (ubR  , ubR  , ubR  , ubA );
#line 303 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 305 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CModelDestruction  * penDestruction  = GetDestruction  ();
#line 307 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
fNewDamage  *= DamageStrength  (penDestruction  -> m_eibtBodyType  , dmtType );
#line 309 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(fNewDamage  == 0){
#line 311 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return ;
#line 312 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 313 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT fKickDamage  = fNewDamage ;
#line 314 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if((dmtType  == DMT_EXPLOSION ) || (dmtType  == DMT_IMPACT ))
#line 315 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 316 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
fKickDamage  *= 1.5f;
#line 317 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 318 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(dmtType  == DMT_CLOSERANGE ){
#line 319 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
fKickDamage  = 0.0f;
#line 320 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 321 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(dmtType  == DMT_CHAINSAW ){
#line 322 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
fKickDamage  = 0.0f;
#line 323 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 324 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if((dmtType  == DMT_BULLET  || dmtType  == DMT_SNIPER  || dmtType  == DMT_SHOTGUN ) 
#line 325 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
&& penDestruction  -> m_eibtBodyType  == EIBT_ROCK ){
#line 326 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
fKickDamage  = 0.0f;
#line 327 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 328 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(dmtType  == DMT_BURNING )
#line 329 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 330 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
fKickDamage  = 0.0f;
#line 331 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 334 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
TIME  tmNow  = _pTimer  -> CurrentTick  ();
#line 335 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
TIME  tmDelta  = tmNow  - m_tmLastDamage ;
#line 336 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_tmLastDamage  = tmNow ;
#line 339 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_penLastDamager  = penInflictor ;
#line 342 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(tmDelta  >= _pTimer  -> TickQuantum  * 3){
#line 343 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_vDamage  = FLOAT3D (0 , 0 , 0);
#line 344 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 346 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT3D vDirectionFixed ;
#line 347 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(vDirection  . ManhattanNorm  () > 0.5f){
#line 348 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
vDirectionFixed  = vDirection ;
#line 349 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 350 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
vDirectionFixed  = FLOAT3D (0 , 1 , 0);
#line 351 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 352 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT3D vDamageOld  = m_vDamage ;
#line 353 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_vDamage  += vDirectionFixed  * fKickDamage ;
#line 356 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_vDamage  . Length  () > GetHealth  ()){
#line 357 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(! penDestruction  -> m_bRequireExplosion  || 
#line 358 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
dmtType  == DMT_EXPLOSION )
#line 359 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 360 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
EDeath  eDeath ;
#line 361 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SendEvent  (eDeath );
#line 363 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_dmtLastDamageType  = dmtType ;
#line 364 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 365 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 367 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_fMaxDamageAmmount  < fDamageAmmount ){
#line 368 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fMaxDamageAmmount  = fDamageAmmount ;
#line 369 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 372 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if((dmtType  != DMT_BURNING ) && (dmtType  != DMT_CHAINSAW ) && 
#line 373 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
(m_tmSpraySpawned  <= _pTimer  -> CurrentTick  () - _pTimer  -> TickQuantum  * 8 || 
#line 374 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fSprayDamage  + fNewDamage  > 50.0f))
#line 375 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 377 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CPlacement3D plSpray  = CPlacement3D (vHitPoint  , ANGLE3D (0 , 0 , 0));
#line 378 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_penSpray  = CreateEntity  (plSpray  , CLASS_BLOOD_SPRAY );
#line 379 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_penSpray  -> SetParent  (this );
#line 380 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ESpawnSpray  eSpawnSpray ;
#line 383 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_fMaxDamageAmmount  > 10.0f){
#line 384 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
eSpawnSpray  . fDamagePower  = 3.0f;
#line 385 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else if(m_fSprayDamage  + fNewDamage  > 50.0f){
#line 386 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
eSpawnSpray  . fDamagePower  = 2.0f;
#line 387 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 388 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
eSpawnSpray  . fDamagePower  = 1.0f;
#line 389 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 391 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
eSpawnSpray  . sptType  = penDestruction  -> m_sptType ;
#line 392 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
eSpawnSpray  . fSizeMultiplier  = penDestruction  -> m_fParticleSize ;
#line 395 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT3D vDn  (- en_mRotation  (1 , 2) , - en_mRotation  (2 , 2) , - en_mRotation  (3 , 2));
#line 398 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT3D vHitPointRelative  = vHitPoint  - GetPlacement  () . pl_PositionVector ;
#line 399 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT3D vReflectingNormal ;
#line 400 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetNormalComponent  (vHitPointRelative  , vDn  , vReflectingNormal );
#line 401 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
vReflectingNormal  . Normalize  ();
#line 403 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT3D vProjectedComponent  = vReflectingNormal  * (vDirection  % vReflectingNormal );
#line 404 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT3D vSpilDirection  = vDirection  - vProjectedComponent  * 2.0f - vDn  * 0.5f;
#line 406 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
eSpawnSpray  . vDirection  = vSpilDirection ;
#line 407 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
eSpawnSpray  . eidOwner  = this ;
#line 408 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
eSpawnSpray  . colCentralColor  = penDestruction  -> m_colParticles ;
#line 409 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
eSpawnSpray  . colBurnColor  = m_colBurning ;
#line 410 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
eSpawnSpray  . fLaunchPower  = penDestruction  -> m_fParticleLaunchPower ;
#line 412 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_penSpray  -> Initialize  (eSpawnSpray );
#line 413 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_tmSpraySpawned  = _pTimer  -> CurrentTick  ();
#line 414 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fSprayDamage  = 0.0f;
#line 415 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fMaxDamageAmmount  = 0.0f;
#line 416 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 418 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(dmtType  == DMT_CHAINSAW  && m_fChainSawCutDamage  > 0)
#line 419 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 420 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fChainSawCutDamage  -= fDamageAmmount ;
#line 421 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_fChainSawCutDamage  <= 0)
#line 422 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 423 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
EDeath  eDeath ;
#line 424 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SendEvent  (eDeath );
#line 426 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_dmtLastDamageType  = dmtType ;
#line 427 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 428 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 430 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fSprayDamage  += fNewDamage ;
#line 431 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 434 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
void * CModelHolder3::GetEntityInfo(void) {
#line 435 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CModelDestruction  * pmd  = GetDestruction  ();
#line 436 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(pmd  != NULL )
#line 437 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 438 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return GetStdEntityInfo  (pmd  -> m_eibtBodyType );
#line 439 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 440 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return CEntity  :: GetEntityInfo  ();
#line 441 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 443 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
class CModelDestruction * CModelHolder3::GetDestruction(void) 
#line 444 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 445 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ASSERT  (m_penDestruction  == NULL  || IsOfClass  (m_penDestruction  , & CModelDestruction_DLLClass ));
#line 446 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return (CModelDestruction  *) & * m_penDestruction ;
#line 447 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 448 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
BOOL CModelHolder3::IsTargetable(void)const 
#line 449 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 450 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return m_bTargetable ;
#line 451 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 454 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
void CModelHolder3::AdjustMipFactor(FLOAT & fMipFactor) 
#line 455 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 460 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_rMipFadeDistMetric  > 0.5f){
#line 461 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CModelInstance * pmi  = GetModelInstance  ();
#line 462 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(pmi  == NULL ){
#line 463 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return ;
#line 464 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 466 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ENGINE_API  extern  FLOAT ska_fLODMul ;
#line 467 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ENGINE_API  extern  FLOAT ska_fLODAdd ;
#line 470 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT fMipDistNow  = fMipFactor ;
#line 471 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT fMipFadeDist  = m_rMipFadeDistMetric  * ska_fLODMul  + ska_fLODAdd ;
#line 474 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(fMipDistNow  > fMipFadeDist ){
#line 476 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
fMipFactor  = UpperLimit  (0.0f);
#line 477 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return ;
#line 478 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 481 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT fFade  = (fMipFadeDist  - fMipDistNow );
#line 482 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_fMipFadeLenMetric  > 0){
#line 483 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
fFade  /= m_fMipFadeLenMetric ;
#line 484 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 485 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(fFade  > 0){
#line 486 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
fFade  = 1.0f;
#line 487 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 488 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 490 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
fFade  = Clamp  (fFade  , 0.0f , 1.0f);
#line 492 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
pmi  -> SetModelColor  ((pmi  -> GetModelColor  () & ~ 255) | UBYTE  (255 * fFade ));
#line 493 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 494 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 497 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
BOOL CModelHolder3::AdjustShadingParameters(FLOAT3D & vLightDirection,COLOR & colLight,COLOR & colAmbient) 
#line 498 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 499 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bFadeOut )
#line 500 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 501 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT fTimeRemain  = m_fFadeStartTime  + m_fFadeTime  - _pTimer  -> CurrentTick  ();
#line 502 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(fTimeRemain  < 0.0f){fTimeRemain  = 0.0f;}
#line 503 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
COLOR colAlpha ;
#line 504 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(en_RenderType  == RT_SKAMODEL  || en_RenderType  == RT_SKAEDITORMODEL )
#line 505 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 506 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = GetModelInstance  () -> GetModelColor  ();
#line 507 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = (colAlpha  & 0xFFFFFF00) + (COLOR (fTimeRemain  / m_fFadeTime  * 0xFF) & 0xFF);
#line 508 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> SetModelColor  (colAlpha );
#line 509 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 510 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else 
#line 511 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 512 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = GetModelObject  () -> mo_colBlendColor ;
#line 513 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = (colAlpha  & 0xFFFFFF00) + (COLOR (fTimeRemain  / m_fFadeTime  * 0xFF) & 0xFF);
#line 514 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelObject  () -> mo_colBlendColor  = colAlpha ;
#line 515 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 516 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 518 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
switch(m_cstCustomShading )
#line 519 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 520 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
case CST_FULL_CUSTOMIZED : 
#line 521 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 522 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colLight  = m_colLight ;
#line 523 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAmbient  = m_colAmbient ;
#line 525 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CWorldSettingsController  * pwsc  = GetWSC  (this );
#line 526 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(pwsc  != NULL  && pwsc  -> m_bApplyShadingToModels ){
#line 528 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
COLOR colShade  = GetWorld  () -> wo_atbTextureBlendings  [ 9 ] . tb_colMultiply ;
#line 529 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colLight  = MulColors  (colLight  , colShade );
#line 530 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAmbient  = MulColors  (colAmbient  , colShade );
#line 531 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 532 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
vLightDirection  = m_vShadingDirection ;
#line 533 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOn  (ENF_CUSTOMSHADING );
#line 534 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
break ;
#line 535 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 536 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
case CST_CONSTANT_SHADING : 
#line 537 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 539 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
UBYTE  lR  , lG  , lB  , aR  , aG  , aB  , rR  , rG  , rB ;
#line 540 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ColorToRGB  (colLight  , lR  , lG  , lB );
#line 541 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ColorToRGB  (colAmbient  , aR  , aG  , aB );
#line 542 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colLight  = 0;
#line 543 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
rR  = (UBYTE ) Clamp  ((ULONG ) lR  + aR  , (ULONG ) 0 , (ULONG ) 255);
#line 544 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
rG  = (UBYTE ) Clamp  ((ULONG ) lG  + aG  , (ULONG ) 0 , (ULONG ) 255);
#line 545 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
rB  = (UBYTE ) Clamp  ((ULONG ) lB  + aB  , (ULONG ) 0 , (ULONG ) 255);
#line 546 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAmbient  = RGBToColor  (rR  , rG  , rB );
#line 547 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOff  (ENF_CUSTOMSHADING );
#line 548 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
break ;
#line 549 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 550 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
case CST_NONE : 
#line 551 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 552 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOff  (ENF_CUSTOMSHADING );
#line 553 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
break ;
#line 554 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 555 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 557 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_colBurning  != COLOR (C_WHITE  | CT_OPAQUE )){
#line 558 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAmbient  = MulColors  (colAmbient  , m_colBurning );
#line 559 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colLight  = MulColors  (colLight  , m_colBurning );
#line 560 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE ;
#line 561 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 563 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return m_stClusterShadows  != ST_NONE ;
#line 564 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 568 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
void CModelHolder3::MirrorAndStretch(FLOAT fStretch,BOOL bMirrorX) 
#line 569 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 570 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fStretchAll  *= fStretch ;
#line 571 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(bMirrorX ){
#line 572 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_vStretchXYZ  (1) = - m_vStretchXYZ  (1);
#line 573 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 574 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 578 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
void CModelHolder3::StretchModel(void) {
#line 580 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(Abs  (m_vStretchXYZ  (1)) < 0.01f){m_vStretchXYZ  (1) = 0.01f;}
#line 581 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(Abs  (m_vStretchXYZ  (2)) < 0.01f){m_vStretchXYZ  (2) = 0.01f;}
#line 582 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(Abs  (m_vStretchXYZ  (3)) < 0.01f){m_vStretchXYZ  (3) = 0.01f;}
#line 583 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_fStretchAll  < 0.01f){m_fStretchAll  = 0.01f;}
#line 585 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(Abs  (m_vStretchXYZ  (1)) > 1000.0f){m_vStretchXYZ  (1) = 1000.0f * Sgn  (m_vStretchXYZ  (1));}
#line 586 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(Abs  (m_vStretchXYZ  (2)) > 1000.0f){m_vStretchXYZ  (2) = 1000.0f * Sgn  (m_vStretchXYZ  (2));}
#line 587 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(Abs  (m_vStretchXYZ  (3)) > 1000.0f){m_vStretchXYZ  (3) = 1000.0f * Sgn  (m_vStretchXYZ  (3));}
#line 588 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_fStretchAll  > 1000.0f){m_fStretchAll  = 1000.0f;}
#line 590 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bRandomStretch ){
#line 591 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_bRandomStretch  = FALSE ;
#line 593 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fStretchRndXYZ  = FLOAT3D (Clamp  (m_fStretchRndXYZ  (1) , 0.0f , 1.0f) , 
#line 594 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Clamp  (m_fStretchRndXYZ  (2) , 0.0f , 1.0f) , 
#line 595 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Clamp  (m_fStretchRndXYZ  (3) , 0.0f , 1.0f));
#line 596 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fStretchRndAll  = Clamp  (m_fStretchRndAll  , 0.0f , 1.0f);
#line 598 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fStretchRandom  (1) = (FRnd  () * m_fStretchRndXYZ  (1) * 2 - m_fStretchRndXYZ  (1)) + 1;
#line 599 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fStretchRandom  (2) = (FRnd  () * m_fStretchRndXYZ  (2) * 2 - m_fStretchRndXYZ  (2)) + 1;
#line 600 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fStretchRandom  (3) = (FRnd  () * m_fStretchRndXYZ  (3) * 2 - m_fStretchRndXYZ  (3)) + 1;
#line 602 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT fRNDAll  = (FRnd  () * m_fStretchRndAll  * 2 - m_fStretchRndAll ) + 1;
#line 603 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fStretchRandom  (1) *= fRNDAll ;
#line 604 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fStretchRandom  (2) *= fRNDAll ;
#line 605 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fStretchRandom  (3) *= fRNDAll ;
#line 606 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 608 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOAT3D vStretch ;
#line 609 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
vStretch  (1) = m_vStretchXYZ  (1) * m_fStretchAll  * m_fStretchRandom  (1);
#line 610 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
vStretch  (2) = m_vStretchXYZ  (2) * m_fStretchAll  * m_fStretchRandom  (2);
#line 611 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
vStretch  (3) = m_vStretchXYZ  (3) * m_fStretchAll  * m_fStretchRandom  (3);
#line 613 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> StretchModel  (vStretch );
#line 615 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ModelChangeNotify  ();
#line 616 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 620 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
void CModelHolder3::InitModelHolder(void) {
#line 623 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_fnModel  == ""){
#line 624 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fnModel  = CTFILENAME  ("Data\\Models\\Editor\\Ska\\Axis.smc");
#line 625 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 627 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bActive ){
#line 628 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
InitAsSkaModel  ();
#line 629 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 630 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
InitAsSkaEditorModel  ();
#line 631 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 633 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
BOOL bLoadOK  = TRUE ;
#line 635 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
try {
#line 636 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetSkaModel_t  (m_fnModel );
#line 638 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}catch  (char  *){
#line 639 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
bLoadOK  = FALSE ;
#line 642 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 643 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(! bLoadOK ){
#line 644 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetSkaModel  (CTFILENAME  ("Data\\Models\\Editor\\Ska\\Axis.smc"));
#line 645 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
WarningMessage  (TRANS  ("Cannot load ska model '%s'") , (CTString &) m_fnModel );
#line 646 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 649 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
StretchModel  ();
#line 650 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ModelChangeNotify  ();
#line 652 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bColliding  && m_bActive ){
#line 653 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetPhysicsFlags  (EPF_MODEL_FIXED );
#line 654 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetCollisionFlags  (ECF_MODEL_HOLDER );
#line 655 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 656 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetPhysicsFlags  (EPF_MODEL_IMMATERIAL );
#line 657 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetCollisionFlags  (ECF_IMMATERIAL );
#line 658 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 660 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
switch(m_stClusterShadows ){
#line 661 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
case ST_NONE : 
#line 662 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 663 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlags  (GetFlags  () & ~ ENF_CLUSTERSHADOWS );
#line 665 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlags  (GetFlags  () & ~ ENF_PROJECTIONSHADOWS );
#line 668 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
break ;
#line 669 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 670 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
case ST_CLUSTER : 
#line 671 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 672 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlags  (GetFlags  () | ENF_CLUSTERSHADOWS );
#line 674 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlags  (GetFlags  () & ~ ENF_PROJECTIONSHADOWS );
#line 677 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
break ;
#line 678 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 679 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
case ST_POLYGONAL : 
#line 680 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 683 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlags  (GetFlags  () & ~ ENF_PROJECTIONSHADOWS );
#line 685 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlags  (GetFlags  () & ~ ENF_CLUSTERSHADOWS );
#line 686 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
break ;
#line 687 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 689 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
case ST_PROJECTION : 
#line 690 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 692 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> mi_bRenderShadow  = TRUE ;
#line 694 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlags  (GetFlags  () | ENF_PROJECTIONSHADOWS );
#line 695 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
break ;
#line 696 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 698 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 700 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bBackground ){
#line 701 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlags  (GetFlags  () | ENF_BACKGROUND );
#line 702 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 703 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlags  (GetFlags  () & ~ ENF_BACKGROUND );
#line 704 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 706 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_penDestruction  == NULL ){
#line 707 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strDescription  . PrintF  ("%s undestroyable" , (CTString &) m_fnModel  . FileName  ());
#line 708 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 709 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strDescription  . PrintF  ("%s -> %s" , (CTString &) m_fnModel  . FileName  () , m_penDestruction  -> GetName  ());
#line 710 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 712 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strDescription  . PrintF  ("%s" , (CTString &) m_fnModel  . FileName  ());
#line 714 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
AnglesToDirectionVector  (m_aShadingDirection  , m_vShadingDirection );
#line 715 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_vShadingDirection  = - m_vShadingDirection ;
#line 717 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return ;
#line 718 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}

#line 720 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
void CModelHolder3::SetModelColor(const COLOR color) 
#line 721 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 722 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> SetModelColor  (color );
#line 723 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
BOOL CModelHolder3::
#line 727 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Main(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CModelHolder3_Main
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CModelHolder3::Main expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 738 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOn  (ENF_MARKDESTROY );
#line 739 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOn  (ENF_NONETCONNECT );
#line 740 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOff  (ENF_PROPSCHANGED );
#line 742 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOff  (ENF_RENDERREFLECTION );
#line 745 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFirstExtraFlagOff  (ENF_EX1_TERRAINSHADOW );
#line 748 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fFadeStartTime  = 0.0f;
#line 749 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fFadeTime  = 0.0f;
#line 750 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_bFadeOut  = FALSE ;
#line 751 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fSpiritStartTime  = 0.0f;
#line 754 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
InitModelHolder  ();
#line 757 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFirstExtraFlagOff  (ENF_EX1_DECORATION );
#line 758 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bDecorationObject ){SetFirstExtraFlagOn  (ENF_EX1_DECORATION );}
#line 762 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bRenderReflection )
#line 763 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 764 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOn  (ENF_RENDERREFLECTION );
#line 765 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 769 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bTerrainShadow )
#line 770 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 771 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFirstExtraFlagOn  (ENF_EX1_TERRAINSHADOW );
#line 772 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 775 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bRaidObject  && m_bObjectClick )
#line 776 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 777 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOn  (ENF_ALIVE );
#line 778 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFirstExtraFlagOn  (ENF_EX1_CLICK_OBJECT );
#line 779 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 782 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> SetModelColor  (m_colModelColor );
#line 786 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bHasRootTag  && GetModelInstance  ())
#line 787 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 788 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CSkaTag  tag ;
#line 789 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
tag  . SetName  ("__ROOT");
#line 790 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> m_tmSkaTagManager  . Register  (& tag );
#line 791 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
tag  . SetName  ("__TOP");
#line 792 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
FLOATaabbox3D aabb ;
#line 793 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> GetAllFramesBBox  (aabb );
#line 794 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
tag  . SetOffsetPos  (0 , aabb  . Size  () (2) , 0);
#line 795 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> m_tmSkaTagManager  . Register  (& tag );
#line 796 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 800 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_penDestruction  != NULL  && ! IsOfClass  (m_penDestruction  , & CModelDestruction_DLLClass )){
#line 801 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
WarningMessage  ("Destruction '%s' is wrong class!" , m_penDestruction  -> GetName  ());
#line 802 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_penDestruction  = NULL ;
#line 803 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 809 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_strModelAnimation  != "")
#line 810 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 811 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iAnim  = ska_GetIDFromStringTable  (m_strModelAnimation );
#line 812 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iDummy1  , iDummy2 ;
#line 813 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(GetModelInstance  () -> FindAnimationByID  (iAnim  , & iDummy1  , & iDummy2 )){
#line 814 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
NewClearState  (0.05f);
#line 815 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ULONG  ulFlags  = AN_LOOPING ;
#line 816 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bDoNotLoopAnimation ){
#line 817 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ulFlags  = 0;
#line 818 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 819 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
AddAnimation  (iAnim  , ulFlags  , 1 , 1);
#line 820 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
OffSetAnimationQueue  (FRnd  () * 10.0f);
#line 821 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 822 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CPrintF  ("WARNING! Animation '%s' not found in SKA entity '%s'!\n" , 
#line 823 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strModelAnimation  , GetName  ());
#line 824 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 825 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 828 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_pModelEffectGroup )
#line 829 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 830 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
DestroyEffectGroup  (m_pModelEffectGroup );
#line 831 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 833 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(GetModelInstance  () && m_strEffectGroupName  != "")
#line 834 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 835 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(CEffectGroupManager  :: Instance  () . IsValidCreated  (m_pModelEffectGroup ))
#line 836 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 837 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroup  -> Stop  (0);
#line 838 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 839 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroup  = StartEffectGroup  (m_strEffectGroupName  
#line 840 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
, & GetModelInstance  () -> m_tmSkaTagManager  
#line 841 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
, _pTimer  -> GetLerpedCurrentTick  () + rand  () / RAND_MAX );
#line 842 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 843 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else 
#line 844 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 845 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroup  = NULL ;
#line 846 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 849 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x00f20003, FALSE, EBegin());return TRUE;}BOOL CModelHolder3::H0x00f20003_Main_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x00f20003
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;

#line 853 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_penDestruction  != NULL ){
#line 854 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetHealth  (GetDestruction  () -> m_fHealth );
#line 855 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 856 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 857 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_EStart):
#line 860 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{const EStart&e= (EStart&)__eeInput;

#line 861 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_strEffectGroupNameEvent  != "" && en_pmiModelInstance  != NULL )
#line 862 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 863 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
DestroyEffectGroup  (m_pModelEffectGroupEvent );
#line 864 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroupEvent  = StartEffectGroup  (m_strEffectGroupNameEvent  , & en_pmiModelInstance  -> m_tmSkaTagManager  , _pTimer  -> GetLerpedCurrentTick  ());
#line 865 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 866 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 867 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_EStop):
#line 869 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{const EStop&e= (EStop&)__eeInput;

#line 870 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_strEffectGroupNameEvent  != "" && en_pmiModelInstance  != NULL )
#line 871 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 872 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(CEffectGroupManager  :: Instance  () . IsValidCreated  (m_pModelEffectGroupEvent ))
#line 873 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 874 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroupEvent  -> Stop  (0);
#line 875 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroupEvent  = NULL ;
#line 876 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 877 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 879 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_strEffectGroupName  != "" && en_pmiModelInstance  != NULL )
#line 880 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 881 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(CEffectGroupManager  :: Instance  () . IsValidCreated  (m_pModelEffectGroup ))
#line 882 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 883 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroup  -> Stop  (0);
#line 884 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_pModelEffectGroup  = NULL ;
#line 885 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 886 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 888 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 889 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_EActivate):{const EActivate&e= (EActivate&)__eeInput;

#line 893 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(_pNetwork  -> IsServer  ()){
#line 894 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SendEvent  (EModel3Activate  () , TRUE );
#line 895 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 896 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 897 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_EModel3Activate):{const EModel3Activate&e= (EModel3Activate&)__eeInput;

#line 899 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOn  (ENF_PROPSCHANGED );
#line 900 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SwitchToModel  ();
#line 901 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_bActive  = TRUE ;
#line 902 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bColliding ){
#line 903 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetPhysicsFlags  (EPF_MODEL_FIXED );
#line 904 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetCollisionFlags  (ECF_MODEL_HOLDER );
#line 905 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 906 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 907 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_EDeactivate):{const EDeactivate&e= (EDeactivate&)__eeInput;

#line 909 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(_pNetwork  -> IsServer  ()){
#line 910 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SendEvent  (EModel3Deactivate  () , TRUE );
#line 911 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 912 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 913 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_EModel3Deactivate):{const EModel3Deactivate&e= (EModel3Deactivate&)__eeInput;

#line 915 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOn  (ENF_PROPSCHANGED );
#line 916 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SwitchToEditorModel  ();
#line 917 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetPhysicsFlags  (EPF_MODEL_IMMATERIAL );
#line 918 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetCollisionFlags  (ECF_IMMATERIAL );
#line 919 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_bActive  = FALSE ;
#line 920 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 921 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_ERangeModelDestruction):{const ERangeModelDestruction&e= (ERangeModelDestruction&)__eeInput;

#line 925 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{FOREACHINLIST  (CEntity  , en_lnInParent  , en_lhChildren  , itenChild ){
#line 927 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
itenChild  -> SendEvent  (ERangeModelDestruction  () , TRUE );
#line 928 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}}
#line 930 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Destroy  (FALSE );
#line 931 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 932 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_EDeath):{const EDeath&e= (EDeath&)__eeInput;

#line 935 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SendEvent  (EModelDeath  () , TRUE );
#line 936 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(_pNetwork  -> IsServer  ()){
#line 937 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_penDestruction  != NULL ){
#line 938 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Jump(STATE_CURRENT, STATE_CModelHolder3_Die, TRUE, EVoid());return TRUE;
#line 939 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 940 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 941 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 942 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_EModelDeath):{const EModelDeath&e= (EModelDeath&)__eeInput;

#line 944 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SendEvent  (EModelDeath  () , TRUE );
#line 945 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(! _pNetwork  -> IsServer  ()){
#line 946 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_penDestruction  != NULL ){
#line 947 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Jump(STATE_CURRENT, STATE_CModelHolder3_Die, TRUE, EVoid());return TRUE;
#line 948 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 949 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 950 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 951 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_EChangeAnim):{const EChangeAnim&eChange= (EChangeAnim&)__eeInput;

#line 955 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(eChange  . AnimType  == ACTION_NONE )
#line 956 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 957 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strModelAnimation  = eChange  . strAnimation ;
#line 958 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_strModelAnimation  != "")
#line 959 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 960 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iAnim  = ska_GetIDFromStringTable  (m_strModelAnimation );
#line 961 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iDummy1  , iDummy2 ;
#line 962 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(GetModelInstance  () -> FindAnimationByID  (iAnim  , & iDummy1  , & iDummy2 )){
#line 963 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
NewClearState  (eChange  . fBlendTime );
#line 964 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ULONG  ulFlags  = 0;
#line 965 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(eChange  . bModelLoop ){
#line 966 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ulFlags  = AN_LOOPING ;
#line 967 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 968 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
AddAnimation  (iAnim  , ulFlags  , 1 , 1);
#line 969 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 970 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CPrintF  ("WARNING! Animation '%s' not found in SKA entity '%s'!\n" , 
#line 971 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strModelAnimation  , GetName  ());
#line 972 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 973 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 974 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 975 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else if(eChange  . AnimType  == ACTION_SKILL )
#line 976 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 977 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strActionAnim  = eChange  . strAnimation ;
#line 978 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Call(STATE_CURRENT, STATE_CModelHolder3_ModelAction, TRUE, EVoid());return TRUE;
#line 979 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 980 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else if(eChange  . AnimType  == ACTION_DISAPPEAR )
#line 981 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 982 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strActionAnim  = eChange  . strAnimation ;
#line 983 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fSpiritStartTime  = _pTimer  -> CurrentTick  ();
#line 984 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fFadeStartTime  = _pTimer  -> CurrentTick  ();
#line 985 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_fFadeTime  = 4.0f;
#line 986 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_bFadeOut  = TRUE ;
#line 987 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOff  (ENF_NOPARTICLES );
#line 988 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Call(STATE_CURRENT, STATE_CModelHolder3_ModelAction, TRUE, EVoid());return TRUE;
#line 989 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 990 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else if(eChange  . AnimType  == ACTION_APPEAR )
#line 991 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 992 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bFadeOut )
#line 993 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 994 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_bFadeOut  = FALSE ;
#line 995 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOn  (ENF_NOPARTICLES );
#line 996 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
COLOR colAlpha ;
#line 997 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(en_RenderType  == RT_SKAMODEL  || en_RenderType  == RT_SKAEDITORMODEL )
#line 998 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 999 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = GetModelInstance  () -> GetModelColor  ();
#line 1000 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = (colAlpha  | 0x000000FF);
#line 1001 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> SetModelColor  (colAlpha );
#line 1002 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1003 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else 
#line 1004 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1005 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = GetModelObject  () -> mo_colBlendColor ;
#line 1006 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = (colAlpha  | 0x000000FF);
#line 1007 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelObject  () -> mo_colBlendColor  = colAlpha ;
#line 1008 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1009 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1010 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1012 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 1013 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_ETrigger):{const ETrigger&e= (ETrigger&)__eeInput;

#line 1016 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_strActionAnim  != "")
#line 1017 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1019 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bFadeOut )
#line 1020 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1021 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_bFadeOut  = FALSE ;
#line 1022 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOn  (ENF_NOPARTICLES );
#line 1023 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
COLOR colAlpha ;
#line 1024 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(en_RenderType  == RT_SKAMODEL  || en_RenderType  == RT_SKAEDITORMODEL )
#line 1025 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1026 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = GetModelInstance  () -> GetModelColor  ();
#line 1027 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = (colAlpha  | 0x000000FF);
#line 1028 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelInstance  () -> SetModelColor  (colAlpha );
#line 1029 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1030 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else 
#line 1031 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1032 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = GetModelObject  () -> mo_colBlendColor ;
#line 1033 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
colAlpha  = (colAlpha  | 0x000000FF);
#line 1034 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
GetModelObject  () -> mo_colBlendColor  = colAlpha ;
#line 1035 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1036 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1037 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else if(m_strActionAnim  != "")
#line 1038 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1039 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SendEvent  (EModel3Action  ());
#line 1040 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1041 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1042 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else if(m_bChangeAnimActive )
#line 1043 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1045 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_strModelAnimation  != "")
#line 1046 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1047 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iAnim  = ska_GetIDFromStringTable  (m_strModelAnimation );
#line 1048 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iDummy1  , iDummy2 ;
#line 1049 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(GetModelInstance  () -> FindAnimationByID  (iAnim  , & iDummy1  , & iDummy2 )){
#line 1050 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
NewClearState  (0.05f);
#line 1051 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ULONG  ulFlags  = AN_LOOPING ;
#line 1052 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bDoNotLoopAnimation ){
#line 1053 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ulFlags  = 0;
#line 1054 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1055 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
AddAnimation  (iAnim  , ulFlags  , 1 , 1);
#line 1056 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
OffSetAnimationQueue  (FRnd  () * 10.0f);
#line 1057 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 1058 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CPrintF  ("WARNING! Animation '%s' not found in SKA entity '%s'!\n" , 
#line 1059 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strModelAnimation  , GetName  ());
#line 1060 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1061 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1063 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOff  (ENF_ALIVE );
#line 1070 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SendEvent  (EStart  ());
#line 1071 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1072 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
else 
#line 1073 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1074 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bObjectClick )
#line 1075 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1076 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetFlagOff  (ENF_ALIVE );
#line 1077 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1079 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SendEvent  (EStop  ());
#line 1080 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1082 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 1083 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;case(EVENTCODE_EModel3Action):{const EModel3Action&e= (EModel3Action&)__eeInput;

#line 1092 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Call(STATE_CURRENT, STATE_CModelHolder3_ModelAction, TRUE, EVoid());return TRUE;
#line 1093 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 1094 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;default:{
#line 1100 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE;
#line 1101 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}ASSERT(FALSE);break;
#line 1102 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}return TRUE;}BOOL CModelHolder3::H0x00f20004_Main_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x00f20004
; ASSERT(FALSE); return TRUE;};BOOL CModelHolder3::
#line 1105 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Die(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CModelHolder3_Die
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CModelHolder3::Die expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 1108 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{FOREACHINLIST  (CEntity  , en_lnInParent  , en_lhChildren  , itenChild ){
#line 1110 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
itenChild  -> SendEvent  (ERangeModelDestruction  () , TRUE );
#line 1111 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}}
#line 1114 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CModelDestruction  * pmd  = GetDestruction  ();
#line 1115 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
pmd  -> SpawnDebris  (this );
#line 1117 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CEntity  * penNext  = pmd  -> GetNextPhase  ();
#line 1118 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(penNext  != NULL ){
#line 1120 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CEntity  * penNew  = GetWorld  () -> CopyEntityInWorld  (* penNext  , GetPlacement  ());
#line 1121 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(IsOfClass  (penNew  , & CModelHolder2_DLLClass )){
#line 1122 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
penNew  -> GetModelObject  () -> StretchModel  (GetModelInstance  () -> mi_vStretch );
#line 1123 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
penNew  -> ModelChangeNotify  ();
#line 1124 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
((CModelHolder2  *) penNew ) -> m_colBurning  = m_colBurning ;
#line 1125 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
((CModelHolder2  *) penNew ) -> m_fChainSawCutDamage  = m_fChainSawCutDamage ;
#line 1127 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(pmd  -> m_iStartAnim  != - 1)
#line 1128 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1129 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
penNew  -> GetModelObject  () -> PlayAnim  (pmd  -> m_iStartAnim  , 0);
#line 1130 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1133 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CModelHolder2  & mhNew  = * ((CModelHolder2  *) penNew );
#line 1134 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_cstCustomShading  = m_cstCustomShading ;
#line 1135 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_colLight  = m_colLight ;
#line 1136 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_colAmbient  = m_colAmbient ;
#line 1137 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{mhNew  . m_fMipFadeDist  = MipFactor_MetricToLog  (m_rMipFadeDistMetric );
#line 1138 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_fMipFadeLen  = MipFactor_MetricToLog  (m_fMipFadeLenMetric  + m_rMipFadeDistMetric ) 
#line 1139 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
- mhNew  . m_fMipFadeDist ;
#line 1141 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1143 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_dmtLastDamageType  == DMT_CHAINSAW )
#line 1144 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1145 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
EDeath  eDeath ;
#line 1146 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_fChainSawCutDamage  = 0.0f;
#line 1147 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_dmtLastDamageType  = DMT_CHAINSAW ;
#line 1148 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
penNew  -> SendEvent  (eDeath );
#line 1149 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1150 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else if(IsOfClass  (penNew  , & CModelHolder3_DLLClass )){
#line 1151 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
penNew  -> GetModelInstance  () -> StretchModel  (GetModelInstance  () -> mi_vStretch );
#line 1152 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
penNew  -> ModelChangeNotify  ();
#line 1154 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(pmd  -> m_strStartAnim  != "")
#line 1155 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1156 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iAnim  = ska_GetIDFromStringTable  (pmd  -> m_strStartAnim );
#line 1157 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iDummy1  , iDummy2 ;
#line 1158 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(GetModelInstance  () -> FindAnimationByID  (iAnim  , & iDummy1  , & iDummy2 )){
#line 1159 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
penNew  -> NewClearState  (0.05f);
#line 1160 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
penNew  -> AddAnimation  (iAnim  , 0 , 1 , 1);
#line 1161 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1162 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1165 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CModelHolder3  & mhNew  = * ((CModelHolder3  *) penNew );
#line 1166 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_colBurning  = m_colBurning ;
#line 1167 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_fChainSawCutDamage  = m_fChainSawCutDamage ;
#line 1168 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_cstCustomShading  = m_cstCustomShading ;
#line 1169 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_colLight  = m_colLight ;
#line 1170 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_colAmbient  = m_colAmbient ;
#line 1171 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_rMipFadeDistMetric  = m_rMipFadeDistMetric ;
#line 1172 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_fMipFadeLenMetric  = m_fMipFadeLenMetric ;
#line 1174 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_dmtLastDamageType  == DMT_CHAINSAW )
#line 1175 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
{
#line 1176 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
EDeath  eDeath ;
#line 1177 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_fChainSawCutDamage  = 0.0f;
#line 1178 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
mhNew  . m_dmtLastDamageType  = DMT_CHAINSAW ;
#line 1179 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
penNew  -> SendEvent  (eDeath );
#line 1180 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1181 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1182 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1194 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_penDestroyTarget  != NULL ){
#line 1196 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SendToTarget  (m_penDestroyTarget  , EET_TRIGGER  , m_penLastDamager );
#line 1197 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1200 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Destroy  (FALSE );
#line 1201 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Return(STATE_CURRENT,EVoid());
#line 1201 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CModelHolder3::
#line 1204 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ModelAction(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CModelHolder3_ModelAction
	ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CModelHolder3::ModelAction expects 'EVoid' as input!");	const EVoid &e = (const EVoid &)__eeInput;
#line 1206 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(!(m_strActionAnim  != "")){ Jump(STATE_CURRENT,0x00f20009, FALSE, EInternal());return TRUE;}
#line 1208 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
NewClearState  (CLEAR_STATE_LENGTH );
#line 1209 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
AddAnimation  (ska_GetIDFromStringTable  (m_strActionAnim ) , AN_NORESTART  , 1 , 1);
#line 1210 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
SetTimerAfter(GetModelInstance  () -> GetAnimLength  (ska_GetIDFromStringTable  (m_strActionAnim )));
Jump(STATE_CURRENT, 0x00f20007, FALSE, EBegin());return TRUE;}BOOL CModelHolder3::H0x00f20007_ModelAction_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x00f20007
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x00f20008, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CModelHolder3::H0x00f20008_ModelAction_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x00f20008
;Jump(STATE_CURRENT,0x00f20009, FALSE, EInternal());return TRUE;}BOOL CModelHolder3::H0x00f20009_ModelAction_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x00f20009

#line 1213 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iAnim  = ska_GetIDFromStringTable  (m_strModelAnimation );
#line 1214 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
INDEX iDummy1  , iDummy2 ;
#line 1215 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(GetModelInstance  () -> FindAnimationByID  (iAnim  , & iDummy1  , & iDummy2 )){
#line 1216 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
NewClearState  (0.05f);
#line 1217 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ULONG  ulFlags  = AN_LOOPING ;
#line 1218 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
if(m_bDoNotLoopAnimation ){
#line 1219 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
ulFlags  = 0;
#line 1220 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1221 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
AddAnimation  (iAnim  , ulFlags  , 1 , 1);
#line 1222 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
OffSetAnimationQueue  (FRnd  () * 10.0f);
#line 1223 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}else {
#line 1224 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
CPrintF  ("WARNING! Animation '%s' not found in SKA entity '%s'!\n" , 
#line 1225 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
m_strModelAnimation  , GetName  ());
#line 1226 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
}
#line 1228 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
Return(STATE_CURRENT,EReturn  ());
#line 1228 "C:/Users/pwesty/Desktop/SD-Source/nov-source/Reco_Csrc/EntitiesMP/ModelHolder3.es"
return TRUE; ASSERT(FALSE); return TRUE;};